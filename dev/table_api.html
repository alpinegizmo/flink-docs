<!--
Licensed to the Apache Software Foundation (ASF) under one
or more contributor license agreements.  See the NOTICE file
distributed with this work for additional information
regarding copyright ownership.  The ASF licenses this file
to you under the Apache License, Version 2.0 (the
"License"); you may not use this file except in compliance
with the License.  You may obtain a copy of the License at

http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing,
software distributed under the License is distributed on an
"AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, either express or implied.  See the License for the
specific language governing permissions and limitations
under the License.
-->
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <title>Apache Flink 1.2-SNAPSHOT Documentation: Table and SQL</title>
    <link rel="shortcut icon" href="https://alpinegizmo.github.io/flink-docs//page/favicon.ico" type="image/x-icon">
    <link rel="icon" href="https://alpinegizmo.github.io/flink-docs//page/favicon.ico" type="image/x-icon">

    <!-- Bootstrap -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://alpinegizmo.github.io/flink-docs//page/css/flink.css">
    <link rel="stylesheet" href="https://alpinegizmo.github.io/flink-docs//page/css/syntax.css">
    <link rel="stylesheet" href="https://alpinegizmo.github.io/flink-docs//page/css/codetabs.css">
    <link rel="stylesheet" href="https://alpinegizmo.github.io/flink-docs//page/font-awesome/css/font-awesome.min.css">
    
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>
  <body>
    <!-- Main content. -->
    <div class="container">
      

      
      <div class="row">
        <div class="col-lg-3">
          







  
    
    
    
      
    
  

  
    
    
    
      
    
  

  
    
    
    
      













<div class="sidenav-logo">
  <p><a href="https://alpinegizmo.github.io/flink-docs/"><img class="bottom" alt="Apache Flink" src="https://alpinegizmo.github.io/flink-docs//page/img/navbar-brand-logo.jpg"></a> v1.2-SNAPSHOT</p>
</div>
<ul id="sidenav">

  
    

    

    
    
    

    
    
<li><a href="https://alpinegizmo.github.io/flink-docs//"><i class="fa fa-home title" aria-hidden="true"></i> Home</a></li>
    
  

  
    

    

    
    
    

    
    
      
      
        
        
<li><a href="#collapse-2" data-toggle="collapse"><i class="fa fa-map-o title" aria-hidden="true"></i> Concepts <i class="fa fa-caret-down pull-right" aria-hidden="true" style="padding-top: 4px"></i></a><div class="collapse" id="collapse-2"><ul>
  
        
        
        

        
        
      
    
  

  
    

    

    
    
    

    
    
      
      
<li><a href="https://alpinegizmo.github.io/flink-docs//concepts/programming-model.html">Programming Model</a></li>
      
    
  

  
    

    

    
    
    

    
    
<li><a href="https://alpinegizmo.github.io/flink-docs//concepts/runtime.html">Distributed Runtime</a></li>
    
  

  
    
      
      
</li></ul></div>
      
      
    
  

  
    

    

    
    
    

    
    
<li><a href="https://alpinegizmo.github.io/flink-docs//quickstart/setup_quickstart.html"><i class="fa fa-power-off title" aria-hidden="true"></i> Quickstart</a></li>
    
  

  
    

    

    
    
    

    
    
      
      
        
        
<li><a href="#collapse-7" data-toggle="collapse" class="active"><i class="fa fa-code title" aria-hidden="true"></i> Application Development</a><div class="collapse in" id="collapse-7"><ul>
  
        
        
        

        
        
      
    
  

  
    

    

    
    
    

    
    
      
      
        
        
<li><a href="#collapse-8" data-toggle="collapse">Installation & Setup <i class="fa fa-caret-down pull-right" aria-hidden="true" style="padding-top: 4px"></i></a><div class="collapse" id="collapse-8"><ul>
  
        
        
        

        
        
      
    
  

  
    

    

    
    
    

    
    
<li><a href="https://alpinegizmo.github.io/flink-docs//internals/ide_setup.html">IDE Setup</a></li>
    
  

  
    

    

    
    
    

    
    
<li><a href="https://alpinegizmo.github.io/flink-docs//quickstart/java_api_quickstart.html">Java Projects</a></li>
    
  

  
    

    

    
    
    

    
    
<li><a href="https://alpinegizmo.github.io/flink-docs//quickstart/scala_api_quickstart.html">Scala Projects</a></li>
    
  

  
    

    

    
    
    

    
    
<li><a href="https://alpinegizmo.github.io/flink-docs//dev/scala_shell.html">Scala REPL</a></li>
    
  

  
    

    

    
    
    

    
    
<li><a href="https://alpinegizmo.github.io/flink-docs//setup/flink_on_windows.html">Running Flink on Windows</a></li>
    
  

  
    

    

    
    
    

    
    
<li><a href="https://alpinegizmo.github.io/flink-docs//dev/linking.html">Linking with Optional Modules</a></li>
    
  

  
    

    

    
    
    

    
    
<li><a href="https://alpinegizmo.github.io/flink-docs//setup/building.html">Building Flink from Source</a></li>
    
  

  
    
      
      
</li></ul></div>
      
      
    
  

  
    

    

    
    
    

    
    
      
      
        
        
<li><a href="#collapse-17" data-toggle="collapse">Basic API Concepts <i class="fa fa-caret-down pull-right" aria-hidden="true" style="padding-top: 4px"></i></a><div class="collapse" id="collapse-17"><ul>
  <li><a href="https://alpinegizmo.github.io/flink-docs//dev/api_concepts.html">Overview</a></li>
        
        
        

        
        
      
    
  

  
    

    

    
    
    

    
    
<li><a href="https://alpinegizmo.github.io/flink-docs//dev/scala_api_extensions.html">Scala API Extensions</a></li>
    
  

  
    

    

    
    
    

    
    
<li><a href="https://alpinegizmo.github.io/flink-docs//dev/java8.html">Java 8</a></li>
    
  

  
    
      
      
</li></ul></div>
      
      
    
  

  
    

    

    
    
    

    
    
<li><a href="https://alpinegizmo.github.io/flink-docs//dev/datastream_api.html">Streaming (DataStream API)</a></li>
    
  

  
    

    

    
    
    

    
    
      
      
<li><a href="https://alpinegizmo.github.io/flink-docs//dev/windows.html">Windows</a></li>
      
    
  

  
    

    

    
    
    

    
    
      
      
        
        
<li><a href="#collapse-23" data-toggle="collapse">Event Time <i class="fa fa-caret-down pull-right" aria-hidden="true" style="padding-top: 4px"></i></a><div class="collapse" id="collapse-23"><ul>
  <li><a href="https://alpinegizmo.github.io/flink-docs//dev/event_time.html">Overview</a></li>
        
        
        

        
        
      
    
  

  
    

    

    
    
    

    
    
<li><a href="https://alpinegizmo.github.io/flink-docs//dev/event_timestamps_watermarks.html">Generating Timestamps / Watermarks</a></li>
    
  

  
    

    

    
    
    

    
    
<li><a href="https://alpinegizmo.github.io/flink-docs//dev/event_timestamp_extractors.html">Pre-defined Timestamp Extractors / Watermark Emitters</a></li>
    
  

  
    
      
      
</li></ul></div>
      
      
    
  

  
    

    

    
    
    

    
    
      
      
        
        
<li><a href="#collapse-27" data-toggle="collapse">Connectors <i class="fa fa-caret-down pull-right" aria-hidden="true" style="padding-top: 4px"></i></a><div class="collapse" id="collapse-27"><ul>
  <li><a href="https://alpinegizmo.github.io/flink-docs//dev/connectors/">Overview</a></li>
        
        
        

        
        
      
    
  

  
    

    

    
    
    

    
    
<li><a href="https://alpinegizmo.github.io/flink-docs//dev/connectors/kafka.html">Kafka</a></li>
    
  

  
    

    

    
    
    

    
    
<li><a href="https://alpinegizmo.github.io/flink-docs//dev/connectors/cassandra.html">Cassandra</a></li>
    
  

  
    

    

    
    
    

    
    
<li><a href="https://alpinegizmo.github.io/flink-docs//dev/connectors/kinesis.html">Kinesis</a></li>
    
  

  
    

    

    
    
    

    
    
<li><a href="https://alpinegizmo.github.io/flink-docs//dev/connectors/elasticsearch.html">Elasticsearch</a></li>
    
  

  
    

    

    
    
    

    
    
<li><a href="https://alpinegizmo.github.io/flink-docs//dev/connectors/elasticsearch2.html">Elasticsearch 2.x</a></li>
    
  

  
    

    

    
    
    

    
    
<li><a href="https://alpinegizmo.github.io/flink-docs//dev/connectors/filesystem_sink.html">Rolling File Sink</a></li>
    
  

  
    

    

    
    
    

    
    
<li><a href="https://alpinegizmo.github.io/flink-docs//dev/connectors/rabbitmq.html">RabbitMQ</a></li>
    
  

  
    

    

    
    
    

    
    
<li><a href="https://alpinegizmo.github.io/flink-docs//dev/connectors/nifi.html">NiFi</a></li>
    
  

  
    

    

    
    
    

    
    
<li><a href="https://alpinegizmo.github.io/flink-docs//dev/connectors/redis.html">Redis</a></li>
    
  

  
    

    

    
    
    

    
    
<li><a href="https://alpinegizmo.github.io/flink-docs//dev/connectors/twitter.html">Twitter</a></li>
    
  

  
    
      
      
</li></ul></div>
      
      
    
  

  
    

    

    
    
    

    
    
      
      
<li><a href="https://alpinegizmo.github.io/flink-docs//dev/state.html">State & Checkpointing</a></li>
      
    
  

  
    

    

    
    
    

    
    
      
      
<li><a href="https://alpinegizmo.github.io/flink-docs//setup/fault_tolerance.html">Failure & Recovery Model</a></li>
      
    
  

  
    

    

    
    
    

    
    
      
      
<li><a href="https://alpinegizmo.github.io/flink-docs//dev/types_serialization.html">Data Types & Serialization</a></li>
      
    
  

  
    

    

    
    
    

    
    
<li><a href="https://alpinegizmo.github.io/flink-docs//dev/execution.html">Managing Execution</a></li>
    
  

  
    

    

    
    
    

    
    
      
      
        
        
<li><a href="#collapse-43" data-toggle="collapse">Batch (DataSet API) <i class="fa fa-caret-down pull-right" aria-hidden="true" style="padding-top: 4px"></i></a><div class="collapse" id="collapse-43"><ul>
  <li><a href="https://alpinegizmo.github.io/flink-docs//dev/batch/">Overview</a></li>
        
        
        

        
        
      
    
  

  
    

    

    
    
    

    
    
<li><a href="https://alpinegizmo.github.io/flink-docs//dev/batch/dataset_transformations.html">Transformations</a></li>
    
  

  
    

    

    
    
    

    
    
<li><a href="https://alpinegizmo.github.io/flink-docs//dev/batch/fault_tolerance.html">Fault Tolerance</a></li>
    
  

  
    

    

    
    
    

    
    
<li><a href="https://alpinegizmo.github.io/flink-docs//dev/batch/zip_elements_guide.html">Zipping Elements</a></li>
    
  

  
    

    

    
    
    

    
    
<li><a href="https://alpinegizmo.github.io/flink-docs//dev/batch/connectors.html">Connectors</a></li>
    
  

  
    

    

    
    
    

    
    
<li><a href="https://alpinegizmo.github.io/flink-docs//dev/batch/python.html">Python API</a></li>
    
  

  
    

    

    
    
    

    
    
<li><a href="https://alpinegizmo.github.io/flink-docs//dev/batch/examples.html">Examples</a></li>
    
  

  
    

    

    
    
    

    
    
<li><a href="https://alpinegizmo.github.io/flink-docs//dev/batch/hadoop_compatibility.html">Hadoop Compatibility</a></li>
    
  

  
    

    

    
    
    

    
    
<li><a href="https://alpinegizmo.github.io/flink-docs//dev/local_execution.html">Local Execution</a></li>
    
  

  
    

    

    
    
    

    
    
<li><a href="https://alpinegizmo.github.io/flink-docs//dev/cluster_execution.html">Cluster Execution</a></li>
    
  

  
    
      
      
</li></ul></div>
      
      
    
  

  
    

    

    
    
    

    
    
      
      
        
        
<li><a href="#collapse-54" data-toggle="collapse" class="active">Libraries</a><div class="collapse in" id="collapse-54"><ul>
  
        
        
        

        
        
      
    
  

  
    

    

    
    
    

    
    
<li><a href="https://alpinegizmo.github.io/flink-docs//dev/table_api.html" class="active">Table and SQL</a></li>
    
  

  
    

    

    
    
    

    
    
<li><a href="https://alpinegizmo.github.io/flink-docs//dev/libs/cep.html">Event Processing (CEP)</a></li>
    
  

  
    

    

    
    
    

    
    
<li><a href="https://alpinegizmo.github.io/flink-docs//dev/libs/storm_compatibility.html">Storm Compatibility</a></li>
    
  

  
    

    

    
    
    

    
    
      
      
        
        
<li><a href="#collapse-58" data-toggle="collapse">Graphs: Gelly <i class="fa fa-caret-down pull-right" aria-hidden="true" style="padding-top: 4px"></i></a><div class="collapse" id="collapse-58"><ul>
  <li><a href="https://alpinegizmo.github.io/flink-docs//dev/libs/gelly/">Overview</a></li>
        
        
        

        
        
      
    
  

  
    

    

    
    
    

    
    
<li><a href="https://alpinegizmo.github.io/flink-docs//dev/libs/gelly/graph_api.html">Graph API</a></li>
    
  

  
    

    

    
    
    

    
    
<li><a href="https://alpinegizmo.github.io/flink-docs//dev/libs/gelly/iterative_graph_processing.html">Iterative Graph Processing</a></li>
    
  

  
    

    

    
    
    

    
    
<li><a href="https://alpinegizmo.github.io/flink-docs//dev/libs/gelly/library_methods.html">Library Methods</a></li>
    
  

  
    

    

    
    
    

    
    
<li><a href="https://alpinegizmo.github.io/flink-docs//dev/libs/gelly/graph_algorithms.html">Graph Algorithms</a></li>
    
  

  
    

    

    
    
    

    
    
<li><a href="https://alpinegizmo.github.io/flink-docs//dev/libs/gelly/graph_generators.html">Graph Generators</a></li>
    
  

  
    
      
      
</li></ul></div>
      
      
    
  

  
    

    

    
    
    

    
    
      
      
        
        
<li><a href="#collapse-65" data-toggle="collapse">Machine Learning <i class="fa fa-caret-down pull-right" aria-hidden="true" style="padding-top: 4px"></i></a><div class="collapse" id="collapse-65"><ul>
  <li><a href="https://alpinegizmo.github.io/flink-docs//dev/libs/ml/">Overview</a></li>
        
        
        

        
        
      
    
  

  
    

    

    
    
    

    
    
<li><a href="https://alpinegizmo.github.io/flink-docs//dev/libs/ml/quickstart.html">Quickstart</a></li>
    
  

  
    

    

    
    
    

    
    
<li><a href="https://alpinegizmo.github.io/flink-docs//dev/libs/ml/als.html">ALS</a></li>
    
  

  
    

    

    
    
    

    
    
<li><a href="https://alpinegizmo.github.io/flink-docs//dev/libs/ml/contribution_guide.html">How to Contribute</a></li>
    
  

  
    

    

    
    
    

    
    
<li><a href="https://alpinegizmo.github.io/flink-docs//dev/libs/ml/cross_validation.html">Cross Validation</a></li>
    
  

  
    

    

    
    
    

    
    
<li><a href="https://alpinegizmo.github.io/flink-docs//dev/libs/ml/distance_metrics.html">Distance Metrics</a></li>
    
  

  
    

    

    
    
    

    
    
<li><a href="https://alpinegizmo.github.io/flink-docs//dev/libs/ml/knn.html">k-Nearest Neighbors Join</a></li>
    
  

  
    

    

    
    
    

    
    
<li><a href="https://alpinegizmo.github.io/flink-docs//dev/libs/ml/min_max_scaler.html">MinMax Scaler</a></li>
    
  

  
    

    

    
    
    

    
    
<li><a href="https://alpinegizmo.github.io/flink-docs//dev/libs/ml/multiple_linear_regression.html">Multiple Linear Regression</a></li>
    
  

  
    

    

    
    
    

    
    
<li><a href="https://alpinegizmo.github.io/flink-docs//dev/libs/ml/optimization.html">Optimization</a></li>
    
  

  
    

    

    
    
    

    
    
<li><a href="https://alpinegizmo.github.io/flink-docs//dev/libs/ml/pipelines.html">Pipelines</a></li>
    
  

  
    

    

    
    
    

    
    
<li><a href="https://alpinegizmo.github.io/flink-docs//dev/libs/ml/polynomial_features.html">Polynomial Features</a></li>
    
  

  
    

    

    
    
    

    
    
<li><a href="https://alpinegizmo.github.io/flink-docs//dev/libs/ml/standard_scaler.html">Standard Scaler</a></li>
    
  

  
    

    

    
    
    

    
    
<li><a href="https://alpinegizmo.github.io/flink-docs//dev/libs/ml/svm.html">SVM using CoCoA</a></li>
    
  

  
    
      
      
</li></ul></div>
      
      
    
  

  
    
      
      
</li></ul></div>
      
      
    
  

  
    
      
      
</li></ul></div>
      
      
    
  

  
    

    

    
    
    

    
    
      
      
        
        
<li><a href="#collapse-82" data-toggle="collapse"><i class="fa fa-file-code-o title" aria-hidden="true"></i> Examples <i class="fa fa-caret-down pull-right" aria-hidden="true" style="padding-top: 4px"></i></a><div class="collapse" id="collapse-82"><ul>
  
        
        
        

        
        
      
    
  

  
    

    

    
    
    

    
    
<li><a href="https://alpinegizmo.github.io/flink-docs//quickstart/run_example_quickstart.html">Monitoring Wikipedia Edits</a></li>
    
  

  
    
      
      
</li></ul></div>
      
      
    
  

  
    

    

    
    
    

    
    
      
      
<li><a href="https://alpinegizmo.github.io/flink-docs//setup/config.html"><i class="fa fa-sliders title" aria-hidden="true"></i> Configuration</a></li>
      
    
  

  
    

    

    
    
    

    
    
      
      
        
        
<li><a href="#collapse-86" data-toggle="collapse"><i class="fa fa-cogs title" aria-hidden="true"></i> Deployment & Operations <i class="fa fa-caret-down pull-right" aria-hidden="true" style="padding-top: 4px"></i></a><div class="collapse" id="collapse-86"><ul>
  
        
        
        

        
        
      
    
  

  
    

    

    
    
    

    
    
<li><a href="https://alpinegizmo.github.io/flink-docs//setup/cli.html">CLI</a></li>
    
  

  
    

    

    
    
    

    
    
      
      
        
        
<li><a href="#collapse-88" data-toggle="collapse">Deployment <i class="fa fa-caret-down pull-right" aria-hidden="true" style="padding-top: 4px"></i></a><div class="collapse" id="collapse-88"><ul>
  
        
        
        

        
        
      
    
  

  
    

    

    
    
    

    
    
<li><a href="https://alpinegizmo.github.io/flink-docs//setup/cluster_setup.html">Standalone Cluster</a></li>
    
  

  
    

    

    
    
    

    
    
<li><a href="https://alpinegizmo.github.io/flink-docs//setup/yarn_setup.html">YARN</a></li>
    
  

  
    

    

    
    
    

    
    
<li><a href="https://alpinegizmo.github.io/flink-docs//setup/aws.html">AWS</a></li>
    
  

  
    

    

    
    
    

    
    
<li><a href="https://alpinegizmo.github.io/flink-docs//setup/gce_setup.html">Google Compute Engine</a></li>
    
  

  
    
      
      
</li></ul></div>
      
      
    
  

  
    

    

    
    
    

    
    
<li><a href="https://alpinegizmo.github.io/flink-docs//setup/jobmanager_high_availability.html">High Availability (HA)</a></li>
    
  

  
    

    

    
    
    

    
    
<li><a href="https://alpinegizmo.github.io/flink-docs//setup/savepoints.html">Savepoints</a></li>
    
  

  
    

    

    
    
    

    
    
<li><a href="https://alpinegizmo.github.io/flink-docs//setup/security-ssl.html">SSL Setup</a></li>
    
  

  
    

    

    
    
    

    
    
<li><a href="https://alpinegizmo.github.io/flink-docs//dev/state_backends.html">State Backends</a></li>
    
  

  
    
      
      
</li></ul></div>
      
      
    
  

  
    

    

    
    
    

    
    
      
      
        
        
<li><a href="#collapse-99" data-toggle="collapse"><i class="fa fa-bug title" aria-hidden="true"></i> Debugging & Monitoring <i class="fa fa-caret-down pull-right" aria-hidden="true" style="padding-top: 4px"></i></a><div class="collapse" id="collapse-99"><ul>
  
        
        
        

        
        
      
    
  

  
    

    

    
    
    

    
    
<li><a href="https://alpinegizmo.github.io/flink-docs//monitoring/metrics.html">Metrics</a></li>
    
  

  
    

    

    
    
    

    
    
<li><a href="https://alpinegizmo.github.io/flink-docs//monitoring/logging.html">Logging</a></li>
    
  

  
    

    

    
    
    

    
    
<li><a href="https://alpinegizmo.github.io/flink-docs//monitoring/rest_api.html">Monitoring REST API</a></li>
    
  

  
    

    

    
    
    

    
    
<li><a href="https://alpinegizmo.github.io/flink-docs//monitoring/back_pressure.html">Back Pressure Monitoring</a></li>
    
  

  
    

    

    
    
    

    
    
<li><a href="https://alpinegizmo.github.io/flink-docs//monitoring/best_practices.html">Best Practices</a></li>
    
  

  
    
      
      
</li></ul></div>
      
      
    
  

  
    

    

    
    
    

    
    
      
      
        
        
<li><a href="#collapse-106" data-toggle="collapse"><i class="fa fa-book title" aria-hidden="true"></i> Internals <i class="fa fa-caret-down pull-right" aria-hidden="true" style="padding-top: 4px"></i></a><div class="collapse" id="collapse-106"><ul>
  
        
        
        

        
        
      
    
  

  
    

    

    
    
    

    
    
<li><a href="https://alpinegizmo.github.io/flink-docs//internals/components.html">Component Stack</a></li>
    
  

  
    

    

    
    
    

    
    
<li><a href="https://alpinegizmo.github.io/flink-docs//internals/dependencies.html">Projects and Dependencies</a></li>
    
  

  
    

    

    
    
    

    
    
<li><a href="https://alpinegizmo.github.io/flink-docs//internals/stream_checkpointing.html">Fault Tolerance for Data Streaming</a></li>
    
  

  
    

    

    
    
    

    
    
<li><a href="https://alpinegizmo.github.io/flink-docs//internals/job_scheduling.html">Jobs and Scheduling</a></li>
    
  

  
    

    

    
    
    

    
    
<li><a href="https://alpinegizmo.github.io/flink-docs//internals/add_operator.html">Adding a new DataSet Operator</a></li>
    
  

  
    
      
      
</li></ul></div>
      
      
    
  

  
    
      
  <li class="divider"></li>
  <li><a href="http://flink.apache.org"><i class="fa fa-external-link title" aria-hidden="true"></i> Project Page</a></li>
</ul>

<div class="sidenav-search-box">
  <form class="navbar-form" role="search" action="https://alpinegizmo.github.io/flink-docs//search-results.html">
    <div class="form-group">
      <input type="text" class="form-control" size="16px" name="q" placeholder="Search Docs">
    </div>
    <button type="submit" class="btn btn-default">Go</button>
  </form>
</div>

<div class="sidenav-versions">
  <div class="dropdown">
    <button class="btn btn-default dropdown-toggle" type="button" data-toggle="dropdown">Pick Docs Version
    <span class="caret"></span></button>
    <ul class="dropdown-menu">
      
      <li><a href="http://ci.apache.org/projects/flink/flink-docs-release-1.1">v1.1</a></li>
      
      <li><a href="http://ci.apache.org/projects/flink/flink-docs-release-1.0">v1.0</a></li>
      
    </ul>
  </div>
</div>

        </div>
        <div class="col-lg-9 content">
          

          





  
  
    
    
      
    
  

  
  
    
    
      
    
  

  
  
    
    
      



<ol class="breadcrumb">

  
  
    <li><i class="fa fa-code title" aria-hidden="true"></i> Application Development</li>
  

  
  
    <li>Libraries</li>
  

  
  
    <li class="active">Table and SQL</li>
  

</ol>

<h1>Table and SQL <span class="beta">Beta</span></h1>



<p><strong>Table API and SQL are experimental features</strong></p>

<p>The Table API is a SQL-like expression language for relational stream and batch processing that can be easily embedded in Flink’s DataSet and DataStream APIs (Java and Scala).
The Table API and SQL interface operate on a relational <code>Table</code> abstraction, which can be created from external data sources, or existing DataSets and DataStreams. With the Table API, you can apply relational operators such as selection, aggregation, and joins on <code>Table</code>s.</p>

<p><code>Table</code>s can also be queried with regular SQL, as long as they are registered (see <a href="#registering-tables">Registering Tables</a>). The Table API and SQL offer equivalent functionality and can be mixed in the same program. When a <code>Table</code> is converted back into a <code>DataSet</code> or <code>DataStream</code>, the logical plan, which was defined by relational operators and SQL queries, is optimized using <a href="https://calcite.apache.org/">Apache Calcite</a> and transformed into a <code>DataSet</code> or <code>DataStream</code> program.</p>

<ul id="markdown-toc">
  <li><a href="#using-the-table-api-and-sql" id="markdown-toc-using-the-table-api-and-sql">Using the Table API and SQL</a></li>
  <li><a href="#registering-tables" id="markdown-toc-registering-tables">Registering Tables</a>    <ul>
      <li><a href="#register-a-dataset" id="markdown-toc-register-a-dataset">Register a DataSet</a></li>
      <li><a href="#register-a-datastream" id="markdown-toc-register-a-datastream">Register a DataStream</a></li>
      <li><a href="#register-a-table" id="markdown-toc-register-a-table">Register a Table</a></li>
      <li><a href="#register-an-external-table-using-a-tablesource" id="markdown-toc-register-an-external-table-using-a-tablesource">Register an external Table using a TableSource</a></li>
      <li><a href="#available-table-sources" id="markdown-toc-available-table-sources">Available Table Sources</a></li>
    </ul>
  </li>
  <li><a href="#table-api" id="markdown-toc-table-api">Table API</a>    <ul>
      <li><a href="#access-a-registered-table" id="markdown-toc-access-a-registered-table">Access a registered Table</a></li>
      <li><a href="#table-api-operators" id="markdown-toc-table-api-operators">Table API Operators</a></li>
      <li><a href="#expression-syntax" id="markdown-toc-expression-syntax">Expression Syntax</a></li>
      <li><a href="#windows" id="markdown-toc-windows">Windows</a></li>
    </ul>
  </li>
  <li><a href="#sql" id="markdown-toc-sql">SQL</a>    <ul>
      <li><a href="#sql-on-batch-tables" id="markdown-toc-sql-on-batch-tables">SQL on Batch Tables</a></li>
      <li><a href="#sql-on-streaming-tables" id="markdown-toc-sql-on-streaming-tables">SQL on Streaming Tables</a></li>
      <li><a href="#sql-syntax" id="markdown-toc-sql-syntax">SQL Syntax</a></li>
      <li><a href="#reserved-keywords" id="markdown-toc-reserved-keywords">Reserved Keywords</a></li>
    </ul>
  </li>
  <li><a href="#data-types" id="markdown-toc-data-types">Data Types</a></li>
  <li><a href="#built-in-functions" id="markdown-toc-built-in-functions">Built-in Functions</a>    <ul>
      <li><a href="#user-defined-scalar-functions" id="markdown-toc-user-defined-scalar-functions">User-defined Scalar Functions</a></li>
      <li><a href="#limitations-3" id="markdown-toc-limitations-3">Limitations</a></li>
    </ul>
  </li>
  <li><a href="#writing-tables-to-external-sinks" id="markdown-toc-writing-tables-to-external-sinks">Writing Tables to External Sinks</a></li>
  <li><a href="#runtime-configuration" id="markdown-toc-runtime-configuration">Runtime Configuration</a>    <ul>
      <li><a href="#null-handling" id="markdown-toc-null-handling">Null Handling</a></li>
    </ul>
  </li>
  <li><a href="#explaining-a-table" id="markdown-toc-explaining-a-table">Explaining a Table</a></li>
</ul>

<h2 id="using-the-table-api-and-sql">Using the Table API and SQL</h2>

<p>The Table API and SQL are part of the <em>flink-table</em> Maven project.
The following dependency must be added to your project in order to use the Table API and SQL:</p>

<figure class="highlight"><pre><code class="language-xml" data-lang="xml"><span class="nt">&lt;dependency&gt;</span>
  <span class="nt">&lt;groupId&gt;</span>org.apache.flink<span class="nt">&lt;/groupId&gt;</span>
  <span class="nt">&lt;artifactId&gt;</span>flink-table_2.10<span class="nt">&lt;/artifactId&gt;</span>
  <span class="nt">&lt;version&gt;</span>1.2-SNAPSHOT<span class="nt">&lt;/version&gt;</span>
<span class="nt">&lt;/dependency&gt;</span></code></pre></figure>

<p><em>Note: The Table API is currently not part of the binary distribution. See linking with it for cluster execution <a href="https://alpinegizmo.github.io/flink-docs//dev/linking.html">here</a>.</em></p>

<h2 id="registering-tables">Registering Tables</h2>

<p><code>TableEnvironment</code>s have an internal table catalog to which tables can be registered with a unique name. After registration, a table can be accessed from the <code>TableEnvironment</code> by its name.</p>

<p><em>Note: <code>DataSet</code>s or <code>DataStream</code>s can be directly converted into <code>Table</code>s without registering them in the <code>TableEnvironment</code>.</em></p>

<h3 id="register-a-dataset">Register a DataSet</h3>

<p>A <code>DataSet</code> is registered as a <code>Table</code> in a <code>BatchTableEnvironment</code> as follows:</p>

<div class="codetabs">
  <div data-lang="java">

    <figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">ExecutionEnvironment</span> <span class="n">env</span> <span class="o">=</span> <span class="n">ExecutionEnvironment</span><span class="o">.</span><span class="na">getExecutionEnvironment</span><span class="o">();</span>
<span class="n">BatchTableEnvironment</span> <span class="n">tableEnv</span> <span class="o">=</span> <span class="n">TableEnvironment</span><span class="o">.</span><span class="na">getTableEnvironment</span><span class="o">(</span><span class="n">env</span><span class="o">);</span>

<span class="c1">// register the DataSet cust as table &quot;Customers&quot; with fields derived from the dataset</span>
<span class="n">tableEnv</span><span class="o">.</span><span class="na">registerDataSet</span><span class="o">(</span><span class="s">&quot;Customers&quot;</span><span class="o">,</span> <span class="n">cust</span><span class="o">)</span>

<span class="c1">// register the DataSet ord as table &quot;Orders&quot; with fields user, product, and amount</span>
<span class="n">tableEnv</span><span class="o">.</span><span class="na">registerDataSet</span><span class="o">(</span><span class="s">&quot;Orders&quot;</span><span class="o">,</span> <span class="n">ord</span><span class="o">,</span> <span class="s">&quot;user, product, amount&quot;</span><span class="o">);</span></code></pre></figure>

  </div>

  <div data-lang="scala">

    <figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="k">val</span> <span class="n">env</span> <span class="k">=</span> <span class="nc">ExecutionEnvironment</span><span class="o">.</span><span class="n">getExecutionEnvironment</span>
<span class="k">val</span> <span class="n">tableEnv</span> <span class="k">=</span> <span class="nc">TableEnvironment</span><span class="o">.</span><span class="n">getTableEnvironment</span><span class="o">(</span><span class="n">env</span><span class="o">)</span>

<span class="c1">// register the DataSet cust as table &quot;Customers&quot; with fields derived from the dataset</span>
<span class="n">tableEnv</span><span class="o">.</span><span class="n">registerDataSet</span><span class="o">(</span><span class="s">&quot;Customers&quot;</span><span class="o">,</span> <span class="n">cust</span><span class="o">)</span>

<span class="c1">// register the DataSet ord as table &quot;Orders&quot; with fields user, product, and amount</span>
<span class="n">tableEnv</span><span class="o">.</span><span class="n">registerDataSet</span><span class="o">(</span><span class="s">&quot;Orders&quot;</span><span class="o">,</span> <span class="n">ord</span><span class="o">,</span> <span class="-Symbol">&#39;user</span><span class="o">,</span> <span class="-Symbol">&#39;product</span><span class="o">,</span> <span class="-Symbol">&#39;amount</span><span class="o">)</span></code></pre></figure>

  </div>
</div>

<p><em>Note: The name of a <code>DataSet</code> <code>Table</code> must not match the <code>^_DataSetTable_[0-9]+</code> pattern which is reserved for internal use only.</em></p>

<h3 id="register-a-datastream">Register a DataStream</h3>

<p>A <code>DataStream</code> is registered as a <code>Table</code> in a <code>StreamTableEnvironment</code> as follows:</p>

<div class="codetabs">
  <div data-lang="java">

    <figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">StreamExecutionEnvironment</span> <span class="n">env</span> <span class="o">=</span> <span class="n">StreamExecutionEnvironment</span><span class="o">.</span><span class="na">getExecutionEnvironment</span><span class="o">();</span>
<span class="n">StreamTableEnvironment</span> <span class="n">tableEnv</span> <span class="o">=</span> <span class="n">TableEnvironment</span><span class="o">.</span><span class="na">getTableEnvironment</span><span class="o">(</span><span class="n">env</span><span class="o">);</span>

<span class="c1">// register the DataStream cust as table &quot;Customers&quot; with fields derived from the datastream</span>
<span class="n">tableEnv</span><span class="o">.</span><span class="na">registerDataStream</span><span class="o">(</span><span class="s">&quot;Customers&quot;</span><span class="o">,</span> <span class="n">cust</span><span class="o">)</span>

<span class="c1">// register the DataStream ord as table &quot;Orders&quot; with fields user, product, and amount</span>
<span class="n">tableEnv</span><span class="o">.</span><span class="na">registerDataStream</span><span class="o">(</span><span class="s">&quot;Orders&quot;</span><span class="o">,</span> <span class="n">ord</span><span class="o">,</span> <span class="s">&quot;user, product, amount&quot;</span><span class="o">);</span></code></pre></figure>

  </div>

  <div data-lang="scala">

    <figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="k">val</span> <span class="n">env</span> <span class="k">=</span> <span class="nc">StreamExecutionEnvironment</span><span class="o">.</span><span class="n">getExecutionEnvironment</span>
<span class="k">val</span> <span class="n">tableEnv</span> <span class="k">=</span> <span class="nc">TableEnvironment</span><span class="o">.</span><span class="n">getTableEnvironment</span><span class="o">(</span><span class="n">env</span><span class="o">)</span>

<span class="c1">// register the DataStream cust as table &quot;Customers&quot; with fields derived from the datastream</span>
<span class="n">tableEnv</span><span class="o">.</span><span class="n">registerDataStream</span><span class="o">(</span><span class="s">&quot;Customers&quot;</span><span class="o">,</span> <span class="n">cust</span><span class="o">)</span>

<span class="c1">// register the DataStream ord as table &quot;Orders&quot; with fields user, product, and amount</span>
<span class="n">tableEnv</span><span class="o">.</span><span class="n">registerDataStream</span><span class="o">(</span><span class="s">&quot;Orders&quot;</span><span class="o">,</span> <span class="n">ord</span><span class="o">,</span> <span class="-Symbol">&#39;user</span><span class="o">,</span> <span class="-Symbol">&#39;product</span><span class="o">,</span> <span class="-Symbol">&#39;amount</span><span class="o">)</span></code></pre></figure>

  </div>
</div>

<p><em>Note: The name of a <code>DataStream</code> <code>Table</code> must not match the <code>^_DataStreamTable_[0-9]+</code> pattern which is reserved for internal use only.</em></p>

<h3 id="register-a-table">Register a Table</h3>

<p>A <code>Table</code> that originates from a Table API operation or a SQL query is registered in a <code>TableEnvironment</code> as follows:</p>

<div class="codetabs">
  <div data-lang="java">

    <figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="c1">// works for StreamExecutionEnvironment identically</span>
<span class="n">ExecutionEnvironment</span> <span class="n">env</span> <span class="o">=</span> <span class="n">ExecutionEnvironment</span><span class="o">.</span><span class="na">getExecutionEnvironment</span><span class="o">();</span>
<span class="n">BatchTableEnvironment</span> <span class="n">tableEnv</span> <span class="o">=</span> <span class="n">TableEnvironment</span><span class="o">.</span><span class="na">getTableEnvironment</span><span class="o">(</span><span class="n">env</span><span class="o">);</span>

<span class="c1">// convert a DataSet into a Table</span>
<span class="n">Table</span> <span class="n">custT</span> <span class="o">=</span> <span class="n">tableEnv</span>
  <span class="o">.</span><span class="na">toTable</span><span class="o">(</span><span class="n">custDs</span><span class="o">,</span> <span class="s">&quot;name, zipcode&quot;</span><span class="o">)</span>
  <span class="o">.</span><span class="na">where</span><span class="o">(</span><span class="s">&quot;zipcode = &#39;12345&#39;&quot;</span><span class="o">)</span>
  <span class="o">.</span><span class="na">select</span><span class="o">(</span><span class="s">&quot;name&quot;</span><span class="o">)</span>

<span class="c1">// register the Table custT as table &quot;custNames&quot;</span>
<span class="n">tableEnv</span><span class="o">.</span><span class="na">registerTable</span><span class="o">(</span><span class="s">&quot;custNames&quot;</span><span class="o">,</span> <span class="n">custT</span><span class="o">)</span></code></pre></figure>

  </div>

  <div data-lang="scala">

    <figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="c1">// works for StreamExecutionEnvironment identically</span>
<span class="k">val</span> <span class="n">env</span> <span class="k">=</span> <span class="nc">ExecutionEnvironment</span><span class="o">.</span><span class="n">getExecutionEnvironment</span>
<span class="k">val</span> <span class="n">tableEnv</span> <span class="k">=</span> <span class="nc">TableEnvironment</span><span class="o">.</span><span class="n">getTableEnvironment</span><span class="o">(</span><span class="n">env</span><span class="o">)</span>

<span class="c1">// convert a DataSet into a Table</span>
<span class="k">val</span> <span class="n">custT</span> <span class="k">=</span> <span class="n">custDs</span>
  <span class="o">.</span><span class="n">toTable</span><span class="o">(</span><span class="n">tableEnv</span><span class="o">,</span> <span class="-Symbol">&#39;name</span><span class="o">,</span> <span class="-Symbol">&#39;zipcode</span><span class="o">)</span>
  <span class="o">.</span><span class="n">where</span><span class="o">(</span><span class="-Symbol">&#39;zipcode</span> <span class="o">===</span> <span class="s">&quot;12345&quot;</span><span class="o">)</span>
  <span class="o">.</span><span class="n">select</span><span class="o">(</span><span class="-Symbol">&#39;name</span><span class="o">)</span>

<span class="c1">// register the Table custT as table &quot;custNames&quot;</span>
<span class="n">tableEnv</span><span class="o">.</span><span class="n">registerTable</span><span class="o">(</span><span class="s">&quot;custNames&quot;</span><span class="o">,</span> <span class="n">custT</span><span class="o">)</span></code></pre></figure>

  </div>
</div>

<p>A registered <code>Table</code> that originates from a Table API operation or SQL query is treated similarly as a view as known from relational DBMS, i.e., it can be inlined when optimizing the query.</p>

<h3 id="register-an-external-table-using-a-tablesource">Register an external Table using a TableSource</h3>

<p>An external table is registered in a <code>TableEnvironment</code> using a <code>TableSource</code> as follows:</p>

<div class="codetabs">
  <div data-lang="java">

    <figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="c1">// works for StreamExecutionEnvironment identically</span>
<span class="n">ExecutionEnvironment</span> <span class="n">env</span> <span class="o">=</span> <span class="n">ExecutionEnvironment</span><span class="o">.</span><span class="na">getExecutionEnvironment</span><span class="o">();</span>
<span class="n">BatchTableEnvironment</span> <span class="n">tableEnv</span> <span class="o">=</span> <span class="n">TableEnvironment</span><span class="o">.</span><span class="na">getTableEnvironment</span><span class="o">(</span><span class="n">env</span><span class="o">);</span>

<span class="n">TableSource</span> <span class="n">custTS</span> <span class="o">=</span> <span class="k">new</span> <span class="nf">CsvTableSource</span><span class="o">(</span><span class="s">&quot;/path/to/file&quot;</span><span class="o">,</span> <span class="o">...)</span>

<span class="c1">// register a `TableSource` as external table &quot;Customers&quot;</span>
<span class="n">tableEnv</span><span class="o">.</span><span class="na">registerTableSource</span><span class="o">(</span><span class="s">&quot;Customers&quot;</span><span class="o">,</span> <span class="n">custTS</span><span class="o">)</span></code></pre></figure>

  </div>

  <div data-lang="scala">

    <figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="c1">// works for StreamExecutionEnvironment identically</span>
<span class="k">val</span> <span class="n">env</span> <span class="k">=</span> <span class="nc">ExecutionEnvironment</span><span class="o">.</span><span class="n">getExecutionEnvironment</span>
<span class="k">val</span> <span class="n">tableEnv</span> <span class="k">=</span> <span class="nc">TableEnvironment</span><span class="o">.</span><span class="n">getTableEnvironment</span><span class="o">(</span><span class="n">env</span><span class="o">)</span>

<span class="k">val</span> <span class="n">custTS</span><span class="k">:</span> <span class="kt">TableSource</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">CsvTableSource</span><span class="o">(</span><span class="s">&quot;/path/to/file&quot;</span><span class="o">,</span> <span class="o">...)</span>

<span class="c1">// register a `TableSource` as external table &quot;Customers&quot;</span>
<span class="n">tableEnv</span><span class="o">.</span><span class="n">registerTableSource</span><span class="o">(</span><span class="s">&quot;Customers&quot;</span><span class="o">,</span> <span class="n">custTS</span><span class="o">)</span></code></pre></figure>

  </div>
</div>

<p>A <code>TableSource</code> can provide access to data stored in various storage systems such as databases (MySQL, HBase, …), file formats (CSV, Apache Parquet, Avro, ORC, …), or messaging systems (Apache Kafka, RabbitMQ, …).</p>

<p>Currently, Flink provides the <code>CsvTableSource</code> to read CSV files and the <code>Kafka08JsonTableSource</code>/<code>Kafka09JsonTableSource</code> to read JSON objects from Kafka.
A custom <code>TableSource</code> can be defined by implementing the <code>BatchTableSource</code> or <code>StreamTableSource</code> interface.</p>

<h3 id="available-table-sources">Available Table Sources</h3>

<table>
  <tbody>
    <tr>
      <td><strong>Class name</strong></td>
      <td><strong>Maven dependency</strong></td>
      <td><strong>Batch?</strong></td>
      <td><strong>Streaming?</strong></td>
      <td><strong>Description</strong></td>
    </tr>
    <tr>
      <td><code>CsvTableSouce</code></td>
      <td><code>flink-table</code></td>
      <td>Y</td>
      <td>Y</td>
      <td>A simple source for CSV files.</td>
    </tr>
    <tr>
      <td><code>Kafka08JsonTableSource</code></td>
      <td><code>flink-connector-kafka-0.8</code></td>
      <td>N</td>
      <td>Y</td>
      <td>A Kafka 0.8 source for JSON data.</td>
    </tr>
    <tr>
      <td><code>Kafka09JsonTableSource</code></td>
      <td><code>flink-connector-kafka-0.9</code></td>
      <td>N</td>
      <td>Y</td>
      <td>A Kafka 0.9 source for JSON data.</td>
    </tr>
  </tbody>
</table>

<p>All sources that come with the <code>flink-table</code> dependency can be directly used by your Table programs. For all other table sources, you have to add the respective dependency in addition to the <code>flink-table</code> dependency.</p>

<h4 id="kafkajsontablesource">KafkaJsonTableSource</h4>

<p>To use the Kafka JSON source, you have to add the Kafka connector dependency to your project:</p>

<ul>
  <li><code>flink-connector-kafka-0.8</code> for Kafka 0.8, and</li>
  <li><code>flink-connector-kafka-0.9</code> for Kafka 0.9, respectively.</li>
</ul>

<p>You can then create the source as follows (example for Kafka 0.8):</p>

<div class="highlight"><pre><code class="language-java"><span class="c1">// The JSON field names and types</span>
<span class="n">String</span><span class="o">[]</span> <span class="n">fieldNames</span> <span class="o">=</span>  <span class="k">new</span> <span class="n">String</span><span class="o">[]</span> <span class="o">{</span> <span class="s">&quot;id&quot;</span><span class="o">,</span> <span class="s">&quot;name&quot;</span><span class="o">,</span> <span class="s">&quot;score&quot;</span><span class="o">};</span>
<span class="n">Class</span><span class="o">&lt;?&gt;[]</span> <span class="n">fieldTypes</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Class</span><span class="o">&lt;?&gt;[]</span> <span class="o">{</span> <span class="n">Integer</span><span class="o">.</span><span class="na">class</span><span class="o">,</span> <span class="n">String</span><span class="o">.</span><span class="na">class</span><span class="o">,</span> <span class="n">Double</span><span class="o">.</span><span class="na">class</span> <span class="o">};</span>

<span class="n">KafkaJsonTableSource</span> <span class="n">kafkaTableSource</span> <span class="o">=</span> <span class="k">new</span> <span class="nf">Kafka08JsonTableSource</span><span class="o">(</span>
    <span class="n">kafkaTopic</span><span class="o">,</span>
    <span class="n">kafkaProperties</span><span class="o">,</span>
    <span class="n">fieldNames</span><span class="o">,</span>
    <span class="n">fieldTypes</span><span class="o">);</span></code></pre></div>

<p>By default, a missing JSON field does not fail the source. You can configure this via:</p>

<div class="highlight"><pre><code class="language-java"><span class="c1">// Fail on missing JSON field</span>
<span class="n">tableSource</span><span class="o">.</span><span class="na">setFailOnMissingField</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span></code></pre></div>

<p>You can work with the Table as explained in the rest of the Table API guide:</p>

<div class="highlight"><pre><code class="language-java"><span class="n">tableEnvironment</span><span class="o">.</span><span class="na">registerTableSource</span><span class="o">(</span><span class="s">&quot;kafka-source&quot;</span><span class="o">,</span> <span class="n">kafkaTableSource</span><span class="o">);</span>
<span class="n">Table</span> <span class="n">result</span> <span class="o">=</span> <span class="n">tableEnvironment</span><span class="o">.</span><span class="na">ingest</span><span class="o">(</span><span class="s">&quot;kafka-source&quot;</span><span class="o">);</span></code></pre></div>

<h4 id="csvtablesource">CsvTableSource</h4>

<p>The <code>CsvTableSource</code> is already included in <code>flink-table</code> without additional dependecies.</p>

<p>It can be configured with the following properties:</p>

<ul>
  <li><code>path</code> The path to the CSV file, required.</li>
  <li><code>fieldNames</code> The names of the table fields, required.</li>
  <li><code>fieldTypes</code> The types of the table fields, required.</li>
  <li><code>fieldDelim</code> The field delimiter, <code>","</code> by default.</li>
  <li><code>rowDelim</code> The row delimiter, <code>"\n"</code> by default.</li>
  <li><code>quoteCharacter</code> An optional quote character for String values, <code>null</code> by default.</li>
  <li><code>ignoreFirstLine</code> Flag to ignore the first line, <code>false</code> by default.</li>
  <li><code>ignoreComments</code> An optional prefix to indicate comments, <code>null</code> by default.</li>
  <li><code>lenient</code> Flag to skip records with parse error instead to fail, <code>false</code> by default.</li>
</ul>

<p>You can create the source as follows:</p>

<div class="codetabs">
  <div data-lang="java">

    <figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">CsvTableSource</span> <span class="n">csvTableSource</span> <span class="o">=</span> <span class="k">new</span> <span class="nf">CsvTableSource</span><span class="o">(</span>
    <span class="s">&quot;/path/to/your/file.csv&quot;</span><span class="o">,</span>
    <span class="k">new</span> <span class="n">String</span><span class="o">[]</span> <span class="o">{</span> <span class="s">&quot;name&quot;</span><span class="o">,</span> <span class="s">&quot;id&quot;</span><span class="o">,</span> <span class="s">&quot;score&quot;</span><span class="o">,</span> <span class="s">&quot;comments&quot;</span> <span class="o">},</span>
    <span class="k">new</span> <span class="n">TypeInformation</span><span class="o">&lt;?&gt;[]</span> <span class="o">{</span>
      <span class="n">Types</span><span class="o">.</span><span class="na">STRING</span><span class="o">(),</span>
      <span class="n">Types</span><span class="o">.</span><span class="na">INT</span><span class="o">(),</span>
      <span class="n">Types</span><span class="o">.</span><span class="na">DOUBLE</span><span class="o">(),</span>
      <span class="n">Types</span><span class="o">.</span><span class="na">STRING</span><span class="o">()</span>
    <span class="o">},</span>
    <span class="s">&quot;#&quot;</span><span class="o">,</span>    <span class="c1">// fieldDelim</span>
    <span class="s">&quot;$&quot;</span><span class="o">,</span>    <span class="c1">// rowDelim</span>
    <span class="kc">null</span><span class="o">,</span>   <span class="c1">// quoteCharacter</span>
    <span class="kc">true</span><span class="o">,</span>   <span class="c1">// ignoreFirstLine</span>
    <span class="s">&quot;%&quot;</span><span class="o">,</span>    <span class="c1">// ignoreComments</span>
    <span class="kc">false</span><span class="o">);</span> <span class="c1">// lenient</span></code></pre></figure>

  </div>

  <div data-lang="scala">

    <figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="k">val</span> <span class="n">csvTableSource</span> <span class="k">=</span> <span class="k">new</span> <span class="nc">CsvTableSource</span><span class="o">(</span>
    <span class="s">&quot;/path/to/your/file.csv&quot;</span><span class="o">,</span>
    <span class="nc">Array</span><span class="o">(</span><span class="s">&quot;name&quot;</span><span class="o">,</span> <span class="s">&quot;id&quot;</span><span class="o">,</span> <span class="s">&quot;score&quot;</span><span class="o">,</span> <span class="s">&quot;comments&quot;</span><span class="o">),</span>
    <span class="nc">Array</span><span class="o">(</span>
      <span class="nc">Types</span><span class="o">.</span><span class="nc">STRING</span><span class="o">,</span>
      <span class="nc">Types</span><span class="o">.</span><span class="nc">INT</span><span class="o">,</span>
      <span class="nc">Types</span><span class="o">.</span><span class="nc">DOUBLE</span><span class="o">,</span>
      <span class="nc">Types</span><span class="o">.</span><span class="nc">STRING</span>
    <span class="o">),</span>
    <span class="n">fieldDelim</span> <span class="k">=</span> <span class="s">&quot;#&quot;</span><span class="o">,</span>
    <span class="n">rowDelim</span> <span class="k">=</span> <span class="s">&quot;$&quot;</span><span class="o">,</span>
    <span class="n">ignoreFirstLine</span> <span class="k">=</span> <span class="kc">true</span><span class="o">,</span>
    <span class="n">ignoreComments</span> <span class="k">=</span> <span class="s">&quot;%&quot;</span><span class="o">)</span></code></pre></figure>

  </div>
</div>

<p>You can work with the Table as explained in the rest of the Table API guide in both stream and batch <code>TableEnvironment</code>s:</p>

<div class="codetabs">
  <div data-lang="java">

    <figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">tableEnvironment</span><span class="o">.</span><span class="na">registerTableSource</span><span class="o">(</span><span class="s">&quot;mycsv&quot;</span><span class="o">,</span> <span class="n">csvTableSource</span><span class="o">);</span>

<span class="n">Table</span> <span class="n">streamTable</span> <span class="o">=</span> <span class="n">streamTableEnvironment</span><span class="o">.</span><span class="na">ingest</span><span class="o">(</span><span class="s">&quot;mycsv&quot;</span><span class="o">);</span>

<span class="n">Table</span> <span class="n">batchTable</span> <span class="o">=</span> <span class="n">batchTableEnvironment</span><span class="o">.</span><span class="na">scan</span><span class="o">(</span><span class="s">&quot;mycsv&quot;</span><span class="o">);</span></code></pre></figure>

  </div>

  <div data-lang="scala">

    <figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="n">tableEnvironment</span><span class="o">.</span><span class="n">registerTableSource</span><span class="o">(</span><span class="s">&quot;mycsv&quot;</span><span class="o">,</span> <span class="n">csvTableSource</span><span class="o">)</span>

<span class="k">val</span> <span class="n">streamTable</span> <span class="k">=</span> <span class="n">streamTableEnvironment</span><span class="o">.</span><span class="n">ingest</span><span class="o">(</span><span class="s">&quot;mycsv&quot;</span><span class="o">)</span>

<span class="k">val</span> <span class="n">batchTable</span> <span class="k">=</span> <span class="n">batchTableEnvironment</span><span class="o">.</span><span class="n">scan</span><span class="o">(</span><span class="s">&quot;mycsv&quot;</span><span class="o">)</span></code></pre></figure>

  </div>
</div>

<h2 id="table-api">Table API</h2>
<p>The Table API provides methods to apply relational operations on DataSets and Datastreams both in Scala and Java.</p>

<p>The central concept of the Table API is a <code>Table</code> which represents a table with relational schema (or relation). Tables can be created from a <code>DataSet</code> or <code>DataStream</code>, converted into a <code>DataSet</code> or <code>DataStream</code>, or registered in a table catalog using a <code>TableEnvironment</code>. A <code>Table</code> is always bound to a specific <code>TableEnvironment</code>. It is not possible to combine Tables of different TableEnvironments.</p>

<p><em>Note: The only operations currently supported on streaming Tables are selection, projection, and union.</em></p>

<div class="codetabs">
  <div data-lang="java">
    <p>When using Flink’s Java DataSet API, DataSets are converted to Tables and Tables to DataSets using a <code>TableEnvironment</code>.
The following example shows:</p>

    <ul>
      <li>how a <code>DataSet</code> is converted to a <code>Table</code>,</li>
      <li>how relational queries are specified, and</li>
      <li>how a <code>Table</code> is converted back to a <code>DataSet</code>.</li>
    </ul>

    <figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">WC</span> <span class="o">{</span>

  <span class="kd">public</span> <span class="nf">WC</span><span class="o">(</span><span class="n">String</span> <span class="n">word</span><span class="o">,</span> <span class="kt">int</span> <span class="n">count</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">this</span><span class="o">.</span><span class="na">word</span> <span class="o">=</span> <span class="n">word</span><span class="o">;</span> <span class="k">this</span><span class="o">.</span><span class="na">count</span> <span class="o">=</span> <span class="n">count</span><span class="o">;</span>
  <span class="o">}</span>

  <span class="kd">public</span> <span class="nf">WC</span><span class="o">()</span> <span class="o">{}</span> <span class="c1">// empty constructor to satisfy POJO requirements</span>

  <span class="kd">public</span> <span class="n">String</span> <span class="n">word</span><span class="o">;</span>
  <span class="kd">public</span> <span class="kt">int</span> <span class="n">count</span><span class="o">;</span>
<span class="o">}</span>

<span class="o">...</span>

<span class="n">ExecutionEnvironment</span> <span class="n">env</span> <span class="o">=</span> <span class="n">ExecutionEnvironment</span><span class="o">.</span><span class="na">getExecutionEnvironment</span><span class="o">();</span>
<span class="n">BatchTableEnvironment</span> <span class="n">tEnv</span> <span class="o">=</span> <span class="n">TableEnvironment</span><span class="o">.</span><span class="na">getTableEnvironment</span><span class="o">(</span><span class="n">env</span><span class="o">);</span>

<span class="n">DataSet</span><span class="o">&lt;</span><span class="n">WC</span><span class="o">&gt;</span> <span class="n">input</span> <span class="o">=</span> <span class="n">env</span><span class="o">.</span><span class="na">fromElements</span><span class="o">(</span>
        <span class="k">new</span> <span class="nf">WC</span><span class="o">(</span><span class="s">&quot;Hello&quot;</span><span class="o">,</span> <span class="mi">1</span><span class="o">),</span>
        <span class="k">new</span> <span class="nf">WC</span><span class="o">(</span><span class="s">&quot;Ciao&quot;</span><span class="o">,</span> <span class="mi">1</span><span class="o">),</span>
        <span class="k">new</span> <span class="nf">WC</span><span class="o">(</span><span class="s">&quot;Hello&quot;</span><span class="o">,</span> <span class="mi">1</span><span class="o">));</span>

<span class="n">Table</span> <span class="n">table</span> <span class="o">=</span> <span class="n">tEnv</span><span class="o">.</span><span class="na">fromDataSet</span><span class="o">(</span><span class="n">input</span><span class="o">);</span>

<span class="n">Table</span> <span class="n">wordCounts</span> <span class="o">=</span> <span class="n">table</span>
        <span class="o">.</span><span class="na">groupBy</span><span class="o">(</span><span class="s">&quot;word&quot;</span><span class="o">)</span>
        <span class="o">.</span><span class="na">select</span><span class="o">(</span><span class="s">&quot;word, count.sum as count&quot;</span><span class="o">);</span>

<span class="n">DataSet</span><span class="o">&lt;</span><span class="n">WC</span><span class="o">&gt;</span> <span class="n">result</span> <span class="o">=</span> <span class="n">tableEnv</span><span class="o">.</span><span class="na">toDataSet</span><span class="o">(</span><span class="n">wordCounts</span><span class="o">,</span> <span class="n">WC</span><span class="o">.</span><span class="na">class</span><span class="o">);</span></code></pre></figure>

    <p>With Java, expressions must be specified by Strings. The embedded expression DSL is not supported.</p>

    <figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">ExecutionEnvironment</span> <span class="n">env</span> <span class="o">=</span> <span class="n">ExecutionEnvironment</span><span class="o">.</span><span class="na">getExecutionEnvironment</span><span class="o">();</span>
<span class="n">BatchTableEnvironment</span> <span class="n">tableEnv</span> <span class="o">=</span> <span class="n">TableEnvironment</span><span class="o">.</span><span class="na">getTableEnvironment</span><span class="o">(</span><span class="n">env</span><span class="o">);</span>

<span class="c1">// register the DataSet cust as table &quot;Customers&quot; with fields derived from the dataset</span>
<span class="n">tableEnv</span><span class="o">.</span><span class="na">registerDataSet</span><span class="o">(</span><span class="s">&quot;Customers&quot;</span><span class="o">,</span> <span class="n">cust</span><span class="o">)</span>

<span class="c1">// register the DataSet ord as table &quot;Orders&quot; with fields user, product, and amount</span>
<span class="n">tableEnv</span><span class="o">.</span><span class="na">registerDataSet</span><span class="o">(</span><span class="s">&quot;Orders&quot;</span><span class="o">,</span> <span class="n">ord</span><span class="o">,</span> <span class="s">&quot;user, product, amount&quot;</span><span class="o">);</span></code></pre></figure>

    <p>Please refer to the Javadoc for a full list of supported operations and a description of the expression syntax.</p>
  </div>

  <div data-lang="scala">
    <p>The Table API is enabled by importing <code>org.apache.flink.api.scala.table._</code>. This enables
implicit conversions to convert a <code>DataSet</code> or <code>DataStream</code> to a Table. The following example shows:</p>

    <ul>
      <li>how a <code>DataSet</code> is converted to a <code>Table</code>,</li>
      <li>how relational queries are specified, and</li>
      <li>how a <code>Table</code> is converted back to a <code>DataSet</code>.</li>
    </ul>

    <figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="k">import</span> <span class="nn">org.apache.flink.api.scala._</span>
<span class="k">import</span> <span class="nn">org.apache.flink.api.scala.table._</span>

<span class="k">case</span> <span class="k">class</span> <span class="nc">WC</span><span class="o">(</span><span class="n">word</span><span class="k">:</span> <span class="kt">String</span><span class="o">,</span> <span class="n">count</span><span class="k">:</span> <span class="kt">Int</span><span class="o">)</span>

<span class="k">val</span> <span class="n">env</span> <span class="k">=</span> <span class="nc">ExecutionEnvironment</span><span class="o">.</span><span class="n">getExecutionEnvironment</span>
<span class="k">val</span> <span class="n">tEnv</span> <span class="k">=</span> <span class="nc">TableEnvironment</span><span class="o">.</span><span class="n">getTableEnvironment</span><span class="o">(</span><span class="n">env</span><span class="o">)</span>

<span class="k">val</span> <span class="n">input</span> <span class="k">=</span> <span class="n">env</span><span class="o">.</span><span class="n">fromElements</span><span class="o">(</span><span class="nc">WC</span><span class="o">(</span><span class="s">&quot;hello&quot;</span><span class="o">,</span> <span class="mi">1</span><span class="o">),</span> <span class="nc">WC</span><span class="o">(</span><span class="s">&quot;hello&quot;</span><span class="o">,</span> <span class="mi">1</span><span class="o">),</span> <span class="nc">WC</span><span class="o">(</span><span class="s">&quot;ciao&quot;</span><span class="o">,</span> <span class="mi">1</span><span class="o">))</span>
<span class="k">val</span> <span class="n">expr</span> <span class="k">=</span> <span class="n">input</span><span class="o">.</span><span class="n">toTable</span><span class="o">(</span><span class="n">tEnv</span><span class="o">)</span>
<span class="k">val</span> <span class="n">result</span> <span class="k">=</span> <span class="n">expr</span>
               <span class="o">.</span><span class="n">groupBy</span><span class="o">(</span><span class="-Symbol">&#39;word</span><span class="o">)</span>
               <span class="o">.</span><span class="n">select</span><span class="o">(</span><span class="-Symbol">&#39;word</span><span class="o">,</span> <span class="-Symbol">&#39;count</span><span class="o">.</span><span class="n">sum</span> <span class="n">as</span> <span class="-Symbol">&#39;count</span><span class="o">)</span>
               <span class="o">.</span><span class="n">toDataSet</span><span class="o">[</span><span class="kt">WC</span><span class="o">]</span></code></pre></figure>

    <p>The expression DSL uses Scala symbols to refer to field names and code generation to
transform expressions to efficient runtime code. Please note that the conversion to and from
Tables only works when using Scala case classes or Java POJOs. Please refer to the <a href="https://alpinegizmo.github.io/flink-docs//internals/types_serialization.html">Type Extraction and Serialization</a> section
to learn the characteristics of a valid POJO.</p>

    <p>Another example shows how to join two Tables:</p>

    <figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="k">case</span> <span class="k">class</span> <span class="nc">MyResult</span><span class="o">(</span><span class="n">a</span><span class="k">:</span> <span class="kt">String</span><span class="o">,</span> <span class="n">d</span><span class="k">:</span> <span class="kt">Int</span><span class="o">)</span>

<span class="k">val</span> <span class="n">input1</span> <span class="k">=</span> <span class="n">env</span><span class="o">.</span><span class="n">fromElements</span><span class="o">(...).</span><span class="n">toTable</span><span class="o">(</span><span class="n">tEnv</span><span class="o">).</span><span class="n">as</span><span class="o">(</span><span class="-Symbol">&#39;a</span><span class="o">,</span> <span class="-Symbol">&#39;b</span><span class="o">)</span>
<span class="k">val</span> <span class="n">input2</span> <span class="k">=</span> <span class="n">env</span><span class="o">.</span><span class="n">fromElements</span><span class="o">(...).</span><span class="n">toTable</span><span class="o">(</span><span class="n">tEnv</span><span class="o">,</span> <span class="-Symbol">&#39;c</span><span class="o">,</span> <span class="-Symbol">&#39;d</span><span class="o">)</span>

<span class="k">val</span> <span class="n">joined</span> <span class="k">=</span> <span class="n">input1</span><span class="o">.</span><span class="n">join</span><span class="o">(</span><span class="n">input2</span><span class="o">)</span>
               <span class="o">.</span><span class="n">where</span><span class="o">(</span><span class="s">&quot;a = c &amp;&amp; d &gt; 42&quot;</span><span class="o">)</span>
               <span class="o">.</span><span class="n">select</span><span class="o">(</span><span class="s">&quot;a, d&quot;</span><span class="o">)</span>
               <span class="o">.</span><span class="n">toDataSet</span><span class="o">[</span><span class="kt">MyResult</span><span class="o">]</span></code></pre></figure>

    <p>Notice, how the field names of a Table can be changed with <code>as()</code> or specified with <code>toTable()</code> when converting a DataSet to a Table. In addition, the example shows how to use Strings to specify relational expressions.</p>

    <p>Creating a <code>Table</code> from a <code>DataStream</code> works in a similar way.
The following example shows how to convert a <code>DataStream</code> to a <code>Table</code> and filter it with the Table API.</p>

    <figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="k">import</span> <span class="nn">org.apache.flink.api.scala._</span>
<span class="k">import</span> <span class="nn">org.apache.flink.api.scala.table._</span>

<span class="k">val</span> <span class="n">env</span> <span class="k">=</span> <span class="nc">StreamExecutionEnvironment</span><span class="o">.</span><span class="n">getExecutionEnvironment</span>
<span class="k">val</span> <span class="n">tEnv</span> <span class="k">=</span> <span class="nc">TableEnvironment</span><span class="o">.</span><span class="n">getTableEnvironment</span><span class="o">(</span><span class="n">env</span><span class="o">)</span>

<span class="k">val</span> <span class="n">inputStream</span> <span class="k">=</span> <span class="n">env</span><span class="o">.</span><span class="n">addSource</span><span class="o">(...)</span>
<span class="k">val</span> <span class="n">result</span> <span class="k">=</span> <span class="n">inputStream</span>
                <span class="o">.</span><span class="n">toTable</span><span class="o">(</span><span class="n">tEnv</span><span class="o">,</span> <span class="-Symbol">&#39;a</span><span class="o">,</span> <span class="-Symbol">&#39;b</span><span class="o">,</span> <span class="-Symbol">&#39;c</span><span class="o">)</span>
                <span class="o">.</span><span class="n">filter</span><span class="o">(</span><span class="-Symbol">&#39;a</span> <span class="o">===</span> <span class="mi">3</span><span class="o">)</span>
<span class="k">val</span> <span class="n">resultStream</span> <span class="k">=</span> <span class="n">result</span><span class="o">.</span><span class="n">toDataStream</span><span class="o">[</span><span class="kt">Row</span><span class="o">]</span></code></pre></figure>

    <p>Please refer to the Scaladoc for a full list of supported operations and a description of the expression syntax.</p>
  </div>
</div>

<p><a href="#top" class="top pull-right"><span class="glyphicon glyphicon-chevron-up"></span> Back to top</a></p>

<h3 id="access-a-registered-table">Access a registered Table</h3>

<p>A registered table can be accessed from a <code>TableEnvironment</code> as follows:</p>

<ul>
  <li><code>tEnv.scan("tName")</code> scans a <code>Table</code> that was registered as <code>"tName"</code> in a <code>BatchTableEnvironment</code>.</li>
  <li><code>tEnv.ingest("tName")</code> ingests a <code>Table</code> that was registered as <code>"tName"</code> in a <code>StreamTableEnvironment</code>.</li>
</ul>

<p><a href="#top" class="top pull-right"><span class="glyphicon glyphicon-chevron-up"></span> Back to top</a></p>

<h3 id="table-api-operators">Table API Operators</h3>

<p>The Table API features a domain-specific language to execute language-integrated queries on structured data in Scala and Java.
This section gives a brief overview of the available operators. You can find more details of operators in the <a href="https://alpinegizmo.github.io/flink-docs//api/java/org/apache/flink/api/table/Table.html">Javadoc</a>.</p>

<div class="codetabs">
  <div data-lang="java">

    <table class="table table-bordered">
  <thead>
    <tr>
      <th class="text-left" style="width: 20%">Operators</th>
      <th class="text-center">Description</th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td><strong>Select</strong></td>
      <td>
        <p>Similar to a SQL SELECT statement. Performs a select operation.</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">Table</span> <span class="n">in</span> <span class="o">=</span> <span class="n">tableEnv</span><span class="o">.</span><span class="na">fromDataSet</span><span class="o">(</span><span class="n">ds</span><span class="o">,</span> <span class="s">&quot;a, b, c&quot;</span><span class="o">);</span>
<span class="n">Table</span> <span class="n">result</span> <span class="o">=</span> <span class="n">in</span><span class="o">.</span><span class="na">select</span><span class="o">(</span><span class="s">&quot;a, c as d&quot;</span><span class="o">);</span></code></pre></figure>

        <p>You can use star (<code>*</code>) to act as a wild card, selecting all of the columns in the table.</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">Table</span> <span class="n">result</span> <span class="o">=</span> <span class="n">in</span><span class="o">.</span><span class="na">select</span><span class="o">(</span><span class="s">&quot;*&quot;</span><span class="o">);</span></code></pre></figure>

      </td>
    </tr>

    <tr>
      <td><strong>As</strong></td>
      <td>
        <p>Renames fields.</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">Table</span> <span class="n">in</span> <span class="o">=</span> <span class="n">tableEnv</span><span class="o">.</span><span class="na">fromDataSet</span><span class="o">(</span><span class="n">ds</span><span class="o">,</span> <span class="s">&quot;a, b, c&quot;</span><span class="o">);</span>
<span class="n">Table</span> <span class="n">result</span> <span class="o">=</span> <span class="n">in</span><span class="o">.</span><span class="na">as</span><span class="o">(</span><span class="s">&quot;d, e, f&quot;</span><span class="o">);</span></code></pre></figure>

      </td>
    </tr>

    <tr>
      <td><strong>Where / Filter</strong></td>
      <td>
        <p>Similar to a SQL WHERE clause. Filters out rows that do not pass the filter predicate.</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">Table</span> <span class="n">in</span> <span class="o">=</span> <span class="n">tableEnv</span><span class="o">.</span><span class="na">fromDataSet</span><span class="o">(</span><span class="n">ds</span><span class="o">,</span> <span class="s">&quot;a, b, c&quot;</span><span class="o">);</span>
<span class="n">Table</span> <span class="n">result</span> <span class="o">=</span> <span class="n">in</span><span class="o">.</span><span class="na">where</span><span class="o">(</span><span class="s">&quot;b = &#39;red&#39;&quot;</span><span class="o">);</span></code></pre></figure>

or

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">Table</span> <span class="n">in</span> <span class="o">=</span> <span class="n">tableEnv</span><span class="o">.</span><span class="na">fromDataSet</span><span class="o">(</span><span class="n">ds</span><span class="o">,</span> <span class="s">&quot;a, b, c&quot;</span><span class="o">);</span>
<span class="n">Table</span> <span class="n">result</span> <span class="o">=</span> <span class="n">in</span><span class="o">.</span><span class="na">filter</span><span class="o">(</span><span class="s">&quot;a % 2 = 0&quot;</span><span class="o">);</span></code></pre></figure>

      </td>
    </tr>
    <tr>
      <td><strong>GroupBy</strong></td>
      <td>
        <p>Similar to a SQL GROUPBY clause. Groups the rows on the grouping keys, with a following aggregation
        operator to aggregate rows group-wise.</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">Table</span> <span class="n">in</span> <span class="o">=</span> <span class="n">tableEnv</span><span class="o">.</span><span class="na">fromDataSet</span><span class="o">(</span><span class="n">ds</span><span class="o">,</span> <span class="s">&quot;a, b, c&quot;</span><span class="o">);</span>
<span class="n">Table</span> <span class="n">result</span> <span class="o">=</span> <span class="n">in</span><span class="o">.</span><span class="na">groupBy</span><span class="o">(</span><span class="s">&quot;a&quot;</span><span class="o">).</span><span class="na">select</span><span class="o">(</span><span class="s">&quot;a, b.sum as d&quot;</span><span class="o">);</span></code></pre></figure>

      </td>
    </tr>

    <tr>
      <td><strong>Join</strong></td>
      <td>
        <p>Similar to a SQL JOIN clause. Joins two tables. Both tables must have distinct field names and at least one equality join predicate must be defined through join operator or using a where or filter operator.</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">Table</span> <span class="n">left</span> <span class="o">=</span> <span class="n">tableEnv</span><span class="o">.</span><span class="na">fromDataSet</span><span class="o">(</span><span class="n">ds1</span><span class="o">,</span> <span class="s">&quot;a, b, c&quot;</span><span class="o">);</span>
<span class="n">Table</span> <span class="n">right</span> <span class="o">=</span> <span class="n">tableEnv</span><span class="o">.</span><span class="na">fromDataSet</span><span class="o">(</span><span class="n">ds2</span><span class="o">,</span> <span class="s">&quot;d, e, f&quot;</span><span class="o">);</span>
<span class="n">Table</span> <span class="n">result</span> <span class="o">=</span> <span class="n">left</span><span class="o">.</span><span class="na">join</span><span class="o">(</span><span class="n">right</span><span class="o">).</span><span class="na">where</span><span class="o">(</span><span class="s">&quot;a = d&quot;</span><span class="o">).</span><span class="na">select</span><span class="o">(</span><span class="s">&quot;a, b, e&quot;</span><span class="o">);</span></code></pre></figure>

      </td>
    </tr>

    <tr>
      <td><strong>LeftOuterJoin</strong></td>
      <td>
        <p>Similar to a SQL LEFT OUTER JOIN clause. Joins two tables. Both tables must have distinct field names and at least one equality join predicate must be defined.</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">Table</span> <span class="n">left</span> <span class="o">=</span> <span class="n">tableEnv</span><span class="o">.</span><span class="na">fromDataSet</span><span class="o">(</span><span class="n">ds1</span><span class="o">,</span> <span class="s">&quot;a, b, c&quot;</span><span class="o">);</span>
<span class="n">Table</span> <span class="n">right</span> <span class="o">=</span> <span class="n">tableEnv</span><span class="o">.</span><span class="na">fromDataSet</span><span class="o">(</span><span class="n">ds2</span><span class="o">,</span> <span class="s">&quot;d, e, f&quot;</span><span class="o">);</span>
<span class="n">Table</span> <span class="n">result</span> <span class="o">=</span> <span class="n">left</span><span class="o">.</span><span class="na">leftOuterJoin</span><span class="o">(</span><span class="n">right</span><span class="o">,</span> <span class="s">&quot;a = d&quot;</span><span class="o">).</span><span class="na">select</span><span class="o">(</span><span class="s">&quot;a, b, e&quot;</span><span class="o">);</span></code></pre></figure>

      </td>
    </tr>

    <tr>
      <td><strong>RightOuterJoin</strong></td>
      <td>
        <p>Similar to a SQL RIGHT OUTER JOIN clause. Joins two tables. Both tables must have distinct field names and at least one equality join predicate must be defined.</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">Table</span> <span class="n">left</span> <span class="o">=</span> <span class="n">tableEnv</span><span class="o">.</span><span class="na">fromDataSet</span><span class="o">(</span><span class="n">ds1</span><span class="o">,</span> <span class="s">&quot;a, b, c&quot;</span><span class="o">);</span>
<span class="n">Table</span> <span class="n">right</span> <span class="o">=</span> <span class="n">tableEnv</span><span class="o">.</span><span class="na">fromDataSet</span><span class="o">(</span><span class="n">ds2</span><span class="o">,</span> <span class="s">&quot;d, e, f&quot;</span><span class="o">);</span>
<span class="n">Table</span> <span class="n">result</span> <span class="o">=</span> <span class="n">left</span><span class="o">.</span><span class="na">rightOuterJoin</span><span class="o">(</span><span class="n">right</span><span class="o">,</span> <span class="s">&quot;a = d&quot;</span><span class="o">).</span><span class="na">select</span><span class="o">(</span><span class="s">&quot;a, b, e&quot;</span><span class="o">);</span></code></pre></figure>

      </td>
    </tr>

    <tr>
      <td><strong>FullOuterJoin</strong></td>
      <td>
        <p>Similar to a SQL FULL OUTER JOIN clause. Joins two tables. Both tables must have distinct field names and at least one equality join predicate must be defined.</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">Table</span> <span class="n">left</span> <span class="o">=</span> <span class="n">tableEnv</span><span class="o">.</span><span class="na">fromDataSet</span><span class="o">(</span><span class="n">ds1</span><span class="o">,</span> <span class="s">&quot;a, b, c&quot;</span><span class="o">);</span>
<span class="n">Table</span> <span class="n">right</span> <span class="o">=</span> <span class="n">tableEnv</span><span class="o">.</span><span class="na">fromDataSet</span><span class="o">(</span><span class="n">ds2</span><span class="o">,</span> <span class="s">&quot;d, e, f&quot;</span><span class="o">);</span>
<span class="n">Table</span> <span class="n">result</span> <span class="o">=</span> <span class="n">left</span><span class="o">.</span><span class="na">fullOuterJoin</span><span class="o">(</span><span class="n">right</span><span class="o">,</span> <span class="s">&quot;a = d&quot;</span><span class="o">).</span><span class="na">select</span><span class="o">(</span><span class="s">&quot;a, b, e&quot;</span><span class="o">);</span></code></pre></figure>

      </td>
    </tr>

    <tr>
      <td><strong>Union</strong></td>
      <td>
        <p>Similar to a SQL UNION clause. Unions two tables with duplicate records removed. Both tables must have identical field types.</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">Table</span> <span class="n">left</span> <span class="o">=</span> <span class="n">tableEnv</span><span class="o">.</span><span class="na">fromDataSet</span><span class="o">(</span><span class="n">ds1</span><span class="o">,</span> <span class="s">&quot;a, b, c&quot;</span><span class="o">);</span>
<span class="n">Table</span> <span class="n">right</span> <span class="o">=</span> <span class="n">tableEnv</span><span class="o">.</span><span class="na">fromDataSet</span><span class="o">(</span><span class="n">ds2</span><span class="o">,</span> <span class="s">&quot;a, b, c&quot;</span><span class="o">);</span>
<span class="n">Table</span> <span class="n">result</span> <span class="o">=</span> <span class="n">left</span><span class="o">.</span><span class="na">union</span><span class="o">(</span><span class="n">right</span><span class="o">);</span></code></pre></figure>

      </td>
    </tr>

    <tr>
      <td><strong>UnionAll</strong></td>
      <td>
        <p>Similar to a SQL UNION ALL clause. Unions two tables. Both tables must have identical field types.</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">Table</span> <span class="n">left</span> <span class="o">=</span> <span class="n">tableEnv</span><span class="o">.</span><span class="na">fromDataSet</span><span class="o">(</span><span class="n">ds1</span><span class="o">,</span> <span class="s">&quot;a, b, c&quot;</span><span class="o">);</span>
<span class="n">Table</span> <span class="n">right</span> <span class="o">=</span> <span class="n">tableEnv</span><span class="o">.</span><span class="na">fromDataSet</span><span class="o">(</span><span class="n">ds2</span><span class="o">,</span> <span class="s">&quot;a, b, c&quot;</span><span class="o">);</span>
<span class="n">Table</span> <span class="n">result</span> <span class="o">=</span> <span class="n">left</span><span class="o">.</span><span class="na">unionAll</span><span class="o">(</span><span class="n">right</span><span class="o">);</span></code></pre></figure>

      </td>
    </tr>

    <tr>
      <td><strong>Intersect</strong></td>
      <td>
        <p>Similar to a SQL INTERSECT clause. Intersect returns records that exist in both tables. If a record is present one or both tables more than once, it is returned just once, i.e., the resulting table has no duplicate records. Both tables must have identical field types.</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">Table</span> <span class="n">left</span> <span class="o">=</span> <span class="n">tableEnv</span><span class="o">.</span><span class="na">fromDataSet</span><span class="o">(</span><span class="n">ds1</span><span class="o">,</span> <span class="s">&quot;a, b, c&quot;</span><span class="o">);</span>
<span class="n">Table</span> <span class="n">right</span> <span class="o">=</span> <span class="n">tableEnv</span><span class="o">.</span><span class="na">fromDataSet</span><span class="o">(</span><span class="n">ds2</span><span class="o">,</span> <span class="s">&quot;d, e, f&quot;</span><span class="o">);</span>
<span class="n">Table</span> <span class="n">result</span> <span class="o">=</span> <span class="n">left</span><span class="o">.</span><span class="na">intersect</span><span class="o">(</span><span class="n">right</span><span class="o">);</span></code></pre></figure>

      </td>
    </tr>

    <tr>
      <td><strong>IntersectAll</strong></td>
      <td>
        <p>Similar to a SQL INTERSECT ALL clause. IntersectAll returns records that exist in both tables. If a record is present in both tables more than once, it is returned as many times as it is present in both tables, i.e., the resulting table might have duplicate records. Both tables must have identical field types.</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">Table</span> <span class="n">left</span> <span class="o">=</span> <span class="n">tableEnv</span><span class="o">.</span><span class="na">fromDataSet</span><span class="o">(</span><span class="n">ds1</span><span class="o">,</span> <span class="s">&quot;a, b, c&quot;</span><span class="o">);</span>
<span class="n">Table</span> <span class="n">right</span> <span class="o">=</span> <span class="n">tableEnv</span><span class="o">.</span><span class="na">fromDataSet</span><span class="o">(</span><span class="n">ds2</span><span class="o">,</span> <span class="s">&quot;d, e, f&quot;</span><span class="o">);</span>
<span class="n">Table</span> <span class="n">result</span> <span class="o">=</span> <span class="n">left</span><span class="o">.</span><span class="na">intersectAll</span><span class="o">(</span><span class="n">right</span><span class="o">);</span></code></pre></figure>

      </td>
    </tr>

    <tr>
      <td><strong>Minus</strong></td>
      <td>
        <p>Similar to a SQL EXCEPT clause. Minus returns records from the left table that do not exist in the right table. Duplicate records in the left table are returned exactly once, i.e., duplicates are removed. Both tables must have identical field types.</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">Table</span> <span class="n">left</span> <span class="o">=</span> <span class="n">tableEnv</span><span class="o">.</span><span class="na">fromDataSet</span><span class="o">(</span><span class="n">ds1</span><span class="o">,</span> <span class="s">&quot;a, b, c&quot;</span><span class="o">);</span>
<span class="n">Table</span> <span class="n">right</span> <span class="o">=</span> <span class="n">tableEnv</span><span class="o">.</span><span class="na">fromDataSet</span><span class="o">(</span><span class="n">ds2</span><span class="o">,</span> <span class="s">&quot;a, b, c&quot;</span><span class="o">);</span>
<span class="n">Table</span> <span class="n">result</span> <span class="o">=</span> <span class="n">left</span><span class="o">.</span><span class="na">minus</span><span class="o">(</span><span class="n">right</span><span class="o">);</span></code></pre></figure>

      </td>
    </tr>

    <tr>
      <td><strong>MinusAll</strong></td>
      <td>
        <p>Similar to a SQL EXCEPT ALL clause. MinusAll returns the records that do not exist in the right table. A record that is present n times in the left table and m times in the right table is returned (n - m) times, i.e., as many duplicates as are present in the right table are removed. Both tables must have identical field types.</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">Table</span> <span class="n">left</span> <span class="o">=</span> <span class="n">tableEnv</span><span class="o">.</span><span class="na">fromDataSet</span><span class="o">(</span><span class="n">ds1</span><span class="o">,</span> <span class="s">&quot;a, b, c&quot;</span><span class="o">);</span>
<span class="n">Table</span> <span class="n">right</span> <span class="o">=</span> <span class="n">tableEnv</span><span class="o">.</span><span class="na">fromDataSet</span><span class="o">(</span><span class="n">ds2</span><span class="o">,</span> <span class="s">&quot;a, b, c&quot;</span><span class="o">);</span>
<span class="n">Table</span> <span class="n">result</span> <span class="o">=</span> <span class="n">left</span><span class="o">.</span><span class="na">minusAll</span><span class="o">(</span><span class="n">right</span><span class="o">);</span></code></pre></figure>

      </td>
    </tr>

    <tr>
      <td><strong>Distinct</strong></td>
      <td>
        <p>Similar to a SQL DISTINCT clause. Returns records with distinct value combinations.</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">Table</span> <span class="n">in</span> <span class="o">=</span> <span class="n">tableEnv</span><span class="o">.</span><span class="na">fromDataSet</span><span class="o">(</span><span class="n">ds</span><span class="o">,</span> <span class="s">&quot;a, b, c&quot;</span><span class="o">);</span>
<span class="n">Table</span> <span class="n">result</span> <span class="o">=</span> <span class="n">in</span><span class="o">.</span><span class="na">distinct</span><span class="o">();</span></code></pre></figure>

      </td>
    </tr>

    <tr>
      <td><strong>Order By</strong></td>
      <td>
        <p>Similar to a SQL ORDER BY clause. Returns records globally sorted across all parallel partitions.</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">Table</span> <span class="n">in</span> <span class="o">=</span> <span class="n">tableEnv</span><span class="o">.</span><span class="na">fromDataSet</span><span class="o">(</span><span class="n">ds</span><span class="o">,</span> <span class="s">&quot;a, b, c&quot;</span><span class="o">);</span>
<span class="n">Table</span> <span class="n">result</span> <span class="o">=</span> <span class="n">in</span><span class="o">.</span><span class="na">orderBy</span><span class="o">(</span><span class="s">&quot;a.asc&quot;</span><span class="o">);</span></code></pre></figure>

      </td>
    </tr>

    <tr>
      <td><strong>Limit</strong></td>
      <td>
        <p>Similar to a SQL LIMIT clause. Limits a sorted result to a specified number of records from an offset position. Limit is technically part of the Order By operator and thus must be preceded by it.</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">Table</span> <span class="n">in</span> <span class="o">=</span> <span class="n">tableEnv</span><span class="o">.</span><span class="na">fromDataSet</span><span class="o">(</span><span class="n">ds</span><span class="o">,</span> <span class="s">&quot;a, b, c&quot;</span><span class="o">);</span>
<span class="n">Table</span> <span class="n">result</span> <span class="o">=</span> <span class="n">in</span><span class="o">.</span><span class="na">orderBy</span><span class="o">(</span><span class="s">&quot;a.asc&quot;</span><span class="o">).</span><span class="na">limit</span><span class="o">(</span><span class="mi">3</span><span class="o">);</span> <span class="c1">// returns unlimited number of records beginning with the 4th record</span></code></pre></figure>

or

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">Table</span> <span class="n">in</span> <span class="o">=</span> <span class="n">tableEnv</span><span class="o">.</span><span class="na">fromDataSet</span><span class="o">(</span><span class="n">ds</span><span class="o">,</span> <span class="s">&quot;a, b, c&quot;</span><span class="o">);</span>
<span class="n">Table</span> <span class="n">result</span> <span class="o">=</span> <span class="n">in</span><span class="o">.</span><span class="na">orderBy</span><span class="o">(</span><span class="s">&quot;a.asc&quot;</span><span class="o">).</span><span class="na">limit</span><span class="o">(</span><span class="mi">3</span><span class="o">,</span> <span class="mi">5</span><span class="o">);</span> <span class="c1">// returns 5 records beginning with the 4th record</span></code></pre></figure>

      </td>
    </tr>

  </tbody>
</table>

  </div>
  <div data-lang="scala">

    <table class="table table-bordered">
  <thead>
    <tr>
      <th class="text-left" style="width: 20%">Operators</th>
      <th class="text-center">Description</th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td><strong>Select</strong></td>
      <td>
        <p>Similar to a SQL SELECT statement. Performs a select operation.</p>

<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="k">val</span> <span class="n">in</span> <span class="k">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">toTable</span><span class="o">(</span><span class="n">tableEnv</span><span class="o">,</span> <span class="-Symbol">&#39;a</span><span class="o">,</span> <span class="-Symbol">&#39;b</span><span class="o">,</span> <span class="-Symbol">&#39;c</span><span class="o">);</span>
<span class="k">val</span> <span class="n">result</span> <span class="k">=</span> <span class="n">in</span><span class="o">.</span><span class="n">select</span><span class="o">(</span><span class="-Symbol">&#39;a</span><span class="o">,</span> <span class="-Symbol">&#39;c</span> <span class="n">as</span> <span class="-Symbol">&#39;d</span><span class="o">);</span></code></pre></figure>

        <p>You can use star (<code>*</code>) to act as a wild card, selecting all of the columns in the table.</p>

<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="k">val</span> <span class="n">in</span> <span class="k">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">toTable</span><span class="o">(</span><span class="n">tableEnv</span><span class="o">,</span> <span class="-Symbol">&#39;a</span><span class="o">,</span> <span class="-Symbol">&#39;b</span><span class="o">,</span> <span class="-Symbol">&#39;c</span><span class="o">);</span>
<span class="k">val</span> <span class="n">result</span> <span class="k">=</span> <span class="n">in</span><span class="o">.</span><span class="n">select</span><span class="o">(</span><span class="err">&#39;</span><span class="o">*);</span></code></pre></figure>

      </td>
    </tr>

    <tr>
      <td><strong>As</strong></td>
      <td>
        <p>Renames fields.</p>

<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="k">val</span> <span class="n">in</span> <span class="k">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">toTable</span><span class="o">(</span><span class="n">tableEnv</span><span class="o">).</span><span class="n">as</span><span class="o">(</span><span class="-Symbol">&#39;a</span><span class="o">,</span> <span class="-Symbol">&#39;b</span><span class="o">,</span> <span class="-Symbol">&#39;c</span><span class="o">);</span></code></pre></figure>

      </td>
    </tr>

    <tr>
      <td><strong>Where / Filter</strong></td>
      <td>
        <p>Similar to a SQL WHERE clause. Filters out rows that do not pass the filter predicate.</p>

<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="k">val</span> <span class="n">in</span> <span class="k">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">toTable</span><span class="o">(</span><span class="n">tableEnv</span><span class="o">,</span> <span class="-Symbol">&#39;a</span><span class="o">,</span> <span class="-Symbol">&#39;b</span><span class="o">,</span> <span class="-Symbol">&#39;c</span><span class="o">);</span>
<span class="k">val</span> <span class="n">result</span> <span class="k">=</span> <span class="n">in</span><span class="o">.</span><span class="n">filter</span><span class="o">(</span><span class="-Symbol">&#39;a</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">===</span> <span class="mi">0</span><span class="o">)</span></code></pre></figure>

or

<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="k">val</span> <span class="n">in</span> <span class="k">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">toTable</span><span class="o">(</span><span class="n">tableEnv</span><span class="o">,</span> <span class="-Symbol">&#39;a</span><span class="o">,</span> <span class="-Symbol">&#39;b</span><span class="o">,</span> <span class="-Symbol">&#39;c</span><span class="o">);</span>
<span class="k">val</span> <span class="n">result</span> <span class="k">=</span> <span class="n">in</span><span class="o">.</span><span class="n">where</span><span class="o">(</span><span class="-Symbol">&#39;b</span> <span class="o">===</span> <span class="s">&quot;red&quot;</span><span class="o">);</span></code></pre></figure>

      </td>
    </tr>

    <tr>
      <td><strong>GroupBy</strong></td>
      <td>
        <p>Similar to a SQL GROUPBY clause. Groups rows on the grouping keys, with a following aggregation
        operator to aggregate rows group-wise.</p>

<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="k">val</span> <span class="n">in</span> <span class="k">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">toTable</span><span class="o">(</span><span class="n">tableEnv</span><span class="o">,</span> <span class="-Symbol">&#39;a</span><span class="o">,</span> <span class="-Symbol">&#39;b</span><span class="o">,</span> <span class="-Symbol">&#39;c</span><span class="o">);</span>
<span class="k">val</span> <span class="n">result</span> <span class="k">=</span> <span class="n">in</span><span class="o">.</span><span class="n">groupBy</span><span class="o">(</span><span class="-Symbol">&#39;a</span><span class="o">).</span><span class="n">select</span><span class="o">(</span><span class="-Symbol">&#39;a</span><span class="o">,</span> <span class="-Symbol">&#39;b</span><span class="o">.</span><span class="n">sum</span> <span class="n">as</span> <span class="-Symbol">&#39;d</span><span class="o">);</span></code></pre></figure>

      </td>
    </tr>

    <tr>
      <td><strong>Join</strong></td>
      <td>
        <p>Similar to a SQL JOIN clause. Joins two tables. Both tables must have distinct field names and an equality join predicate must be defined using a where or filter operator.</p>

<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="k">val</span> <span class="n">left</span> <span class="k">=</span> <span class="n">ds1</span><span class="o">.</span><span class="n">toTable</span><span class="o">(</span><span class="n">tableEnv</span><span class="o">,</span> <span class="-Symbol">&#39;a</span><span class="o">,</span> <span class="-Symbol">&#39;b</span><span class="o">,</span> <span class="-Symbol">&#39;c</span><span class="o">);</span>
<span class="k">val</span> <span class="n">right</span> <span class="k">=</span> <span class="n">ds2</span><span class="o">.</span><span class="n">toTable</span><span class="o">(</span><span class="n">tableEnv</span><span class="o">,</span> <span class="-Symbol">&#39;d</span><span class="o">,</span> <span class="-Symbol">&#39;e</span><span class="o">,</span> <span class="-Symbol">&#39;f</span><span class="o">);</span>
<span class="k">val</span> <span class="n">result</span> <span class="k">=</span> <span class="n">left</span><span class="o">.</span><span class="n">join</span><span class="o">(</span><span class="n">right</span><span class="o">).</span><span class="n">where</span><span class="o">(</span><span class="-Symbol">&#39;a</span> <span class="o">===</span> <span class="-Symbol">&#39;d</span><span class="o">).</span><span class="n">select</span><span class="o">(</span><span class="-Symbol">&#39;a</span><span class="o">,</span> <span class="-Symbol">&#39;b</span><span class="o">,</span> <span class="-Symbol">&#39;e</span><span class="o">);</span></code></pre></figure>

      </td>
    </tr>

    <tr>
      <td><strong>LeftOuterJoin</strong></td>
      <td>
        <p>Similar to a SQL LEFT OUTER JOIN clause. Joins two tables. Both tables must have distinct field names and at least one equality join predicate must be defined.</p>

<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="k">val</span> <span class="n">left</span> <span class="k">=</span> <span class="n">tableEnv</span><span class="o">.</span><span class="n">fromDataSet</span><span class="o">(</span><span class="n">ds1</span><span class="o">,</span> <span class="-Symbol">&#39;a</span><span class="o">,</span> <span class="-Symbol">&#39;b</span><span class="o">,</span> <span class="-Symbol">&#39;c</span><span class="o">)</span>
<span class="k">val</span> <span class="n">right</span> <span class="k">=</span> <span class="n">tableEnv</span><span class="o">.</span><span class="n">fromDataSet</span><span class="o">(</span><span class="n">ds2</span><span class="o">,</span> <span class="-Symbol">&#39;d</span><span class="o">,</span> <span class="-Symbol">&#39;e</span><span class="o">,</span> <span class="-Symbol">&#39;f</span><span class="o">)</span>
<span class="k">val</span> <span class="n">result</span> <span class="k">=</span> <span class="n">left</span><span class="o">.</span><span class="n">leftOuterJoin</span><span class="o">(</span><span class="n">right</span><span class="o">,</span> <span class="-Symbol">&#39;a</span> <span class="o">===</span> <span class="-Symbol">&#39;d</span><span class="o">).</span><span class="n">select</span><span class="o">(</span><span class="-Symbol">&#39;a</span><span class="o">,</span> <span class="-Symbol">&#39;b</span><span class="o">,</span> <span class="-Symbol">&#39;e</span><span class="o">)</span></code></pre></figure>

      </td>
    </tr>

    <tr>
      <td><strong>RightOuterJoin</strong></td>
      <td>
        <p>Similar to a SQL RIGHT OUTER JOIN clause. Joins two tables. Both tables must have distinct field names and at least one equality join predicate must be defined.</p>

<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="k">val</span> <span class="n">left</span> <span class="k">=</span> <span class="n">tableEnv</span><span class="o">.</span><span class="n">fromDataSet</span><span class="o">(</span><span class="n">ds1</span><span class="o">,</span> <span class="-Symbol">&#39;a</span><span class="o">,</span> <span class="-Symbol">&#39;b</span><span class="o">,</span> <span class="-Symbol">&#39;c</span><span class="o">)</span>
<span class="k">val</span> <span class="n">right</span> <span class="k">=</span> <span class="n">tableEnv</span><span class="o">.</span><span class="n">fromDataSet</span><span class="o">(</span><span class="n">ds2</span><span class="o">,</span> <span class="-Symbol">&#39;d</span><span class="o">,</span> <span class="-Symbol">&#39;e</span><span class="o">,</span> <span class="-Symbol">&#39;f</span><span class="o">)</span>
<span class="k">val</span> <span class="n">result</span> <span class="k">=</span> <span class="n">left</span><span class="o">.</span><span class="n">rightOuterJoin</span><span class="o">(</span><span class="n">right</span><span class="o">,</span> <span class="-Symbol">&#39;a</span> <span class="o">===</span> <span class="-Symbol">&#39;d</span><span class="o">).</span><span class="n">select</span><span class="o">(</span><span class="-Symbol">&#39;a</span><span class="o">,</span> <span class="-Symbol">&#39;b</span><span class="o">,</span> <span class="-Symbol">&#39;e</span><span class="o">)</span></code></pre></figure>

      </td>
    </tr>

    <tr>
      <td><strong>FullOuterJoin</strong></td>
      <td>
        <p>Similar to a SQL FULL OUTER JOIN clause. Joins two tables. Both tables must have distinct field names and at least one equality join predicate must be defined.</p>

<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="k">val</span> <span class="n">left</span> <span class="k">=</span> <span class="n">tableEnv</span><span class="o">.</span><span class="n">fromDataSet</span><span class="o">(</span><span class="n">ds1</span><span class="o">,</span> <span class="-Symbol">&#39;a</span><span class="o">,</span> <span class="-Symbol">&#39;b</span><span class="o">,</span> <span class="-Symbol">&#39;c</span><span class="o">)</span>
<span class="k">val</span> <span class="n">right</span> <span class="k">=</span> <span class="n">tableEnv</span><span class="o">.</span><span class="n">fromDataSet</span><span class="o">(</span><span class="n">ds2</span><span class="o">,</span> <span class="-Symbol">&#39;d</span><span class="o">,</span> <span class="-Symbol">&#39;e</span><span class="o">,</span> <span class="-Symbol">&#39;f</span><span class="o">)</span>
<span class="k">val</span> <span class="n">result</span> <span class="k">=</span> <span class="n">left</span><span class="o">.</span><span class="n">fullOuterJoin</span><span class="o">(</span><span class="n">right</span><span class="o">,</span> <span class="-Symbol">&#39;a</span> <span class="o">===</span> <span class="-Symbol">&#39;d</span><span class="o">).</span><span class="n">select</span><span class="o">(</span><span class="-Symbol">&#39;a</span><span class="o">,</span> <span class="-Symbol">&#39;b</span><span class="o">,</span> <span class="-Symbol">&#39;e</span><span class="o">)</span></code></pre></figure>

      </td>
    </tr>

    <tr>
      <td><strong>Union</strong></td>
      <td>
        <p>Similar to a SQL UNION clause. Unions two tables with duplicate records removed, both tables must have identical field types.</p>

<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="k">val</span> <span class="n">left</span> <span class="k">=</span> <span class="n">ds1</span><span class="o">.</span><span class="n">toTable</span><span class="o">(</span><span class="n">tableEnv</span><span class="o">,</span> <span class="-Symbol">&#39;a</span><span class="o">,</span> <span class="-Symbol">&#39;b</span><span class="o">,</span> <span class="-Symbol">&#39;c</span><span class="o">);</span>
<span class="k">val</span> <span class="n">right</span> <span class="k">=</span> <span class="n">ds2</span><span class="o">.</span><span class="n">toTable</span><span class="o">(</span><span class="n">tableEnv</span><span class="o">,</span> <span class="-Symbol">&#39;a</span><span class="o">,</span> <span class="-Symbol">&#39;b</span><span class="o">,</span> <span class="-Symbol">&#39;c</span><span class="o">);</span>
<span class="k">val</span> <span class="n">result</span> <span class="k">=</span> <span class="n">left</span><span class="o">.</span><span class="n">union</span><span class="o">(</span><span class="n">right</span><span class="o">);</span></code></pre></figure>

      </td>
    </tr>

    <tr>
      <td><strong>UnionAll</strong></td>
      <td>
        <p>Similar to a SQL UNION ALL clause. Unions two tables, both tables must have identical field types.</p>

<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="k">val</span> <span class="n">left</span> <span class="k">=</span> <span class="n">ds1</span><span class="o">.</span><span class="n">toTable</span><span class="o">(</span><span class="n">tableEnv</span><span class="o">,</span> <span class="-Symbol">&#39;a</span><span class="o">,</span> <span class="-Symbol">&#39;b</span><span class="o">,</span> <span class="-Symbol">&#39;c</span><span class="o">);</span>
<span class="k">val</span> <span class="n">right</span> <span class="k">=</span> <span class="n">ds2</span><span class="o">.</span><span class="n">toTable</span><span class="o">(</span><span class="n">tableEnv</span><span class="o">,</span> <span class="-Symbol">&#39;a</span><span class="o">,</span> <span class="-Symbol">&#39;b</span><span class="o">,</span> <span class="-Symbol">&#39;c</span><span class="o">);</span>
<span class="k">val</span> <span class="n">result</span> <span class="k">=</span> <span class="n">left</span><span class="o">.</span><span class="n">unionAll</span><span class="o">(</span><span class="n">right</span><span class="o">);</span></code></pre></figure>

      </td>
    </tr>

    <tr>
      <td><strong>Intersect</strong></td>
      <td>
        <p>Similar to a SQL INTERSECT clause. Intersect returns records that exist in both tables. If a record is present in one or both tables more than once, it is returned just once, i.e., the resulting table has no duplicate records. Both tables must have identical field types.</p>

<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="k">val</span> <span class="n">left</span> <span class="k">=</span> <span class="n">ds1</span><span class="o">.</span><span class="n">toTable</span><span class="o">(</span><span class="n">tableEnv</span><span class="o">,</span> <span class="-Symbol">&#39;a</span><span class="o">,</span> <span class="-Symbol">&#39;b</span><span class="o">,</span> <span class="-Symbol">&#39;c</span><span class="o">);</span>
<span class="k">val</span> <span class="n">right</span> <span class="k">=</span> <span class="n">ds2</span><span class="o">.</span><span class="n">toTable</span><span class="o">(</span><span class="n">tableEnv</span><span class="o">,</span> <span class="-Symbol">&#39;e</span><span class="o">,</span> <span class="-Symbol">&#39;f</span><span class="o">,</span> <span class="-Symbol">&#39;g</span><span class="o">);</span>
<span class="k">val</span> <span class="n">result</span> <span class="k">=</span> <span class="n">left</span><span class="o">.</span><span class="n">intersect</span><span class="o">(</span><span class="n">right</span><span class="o">);</span></code></pre></figure>

      </td>
    </tr>

    <tr>
      <td><strong>IntersectAll</strong></td>
      <td>
        <p>Similar to a SQL INTERSECT ALL clause. IntersectAll returns records that exist in both tables. If a record is present in both tables more than once, it is returned as many times as it is present in both tables, i.e., the resulting table might have duplicate records. Both tables must have identical field types.</p>

<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="k">val</span> <span class="n">left</span> <span class="k">=</span> <span class="n">ds1</span><span class="o">.</span><span class="n">toTable</span><span class="o">(</span><span class="n">tableEnv</span><span class="o">,</span> <span class="-Symbol">&#39;a</span><span class="o">,</span> <span class="-Symbol">&#39;b</span><span class="o">,</span> <span class="-Symbol">&#39;c</span><span class="o">);</span>
<span class="k">val</span> <span class="n">right</span> <span class="k">=</span> <span class="n">ds2</span><span class="o">.</span><span class="n">toTable</span><span class="o">(</span><span class="n">tableEnv</span><span class="o">,</span> <span class="-Symbol">&#39;e</span><span class="o">,</span> <span class="-Symbol">&#39;f</span><span class="o">,</span> <span class="-Symbol">&#39;g</span><span class="o">);</span>
<span class="k">val</span> <span class="n">result</span> <span class="k">=</span> <span class="n">left</span><span class="o">.</span><span class="n">intersectAll</span><span class="o">(</span><span class="n">right</span><span class="o">);</span></code></pre></figure>

      </td>
    </tr>

    <tr>
      <td><strong>Minus</strong></td>
      <td>
        <p>Similar to a SQL EXCEPT clause. Minus returns records from the left table that do not exist in the right table. Duplicate records in the left table are returned exactly once, i.e., duplicates are removed. Both tables must have identical field types.</p>

<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="k">val</span> <span class="n">left</span> <span class="k">=</span> <span class="n">ds1</span><span class="o">.</span><span class="n">toTable</span><span class="o">(</span><span class="n">tableEnv</span><span class="o">,</span> <span class="-Symbol">&#39;a</span><span class="o">,</span> <span class="-Symbol">&#39;b</span><span class="o">,</span> <span class="-Symbol">&#39;c</span><span class="o">);</span>
<span class="k">val</span> <span class="n">right</span> <span class="k">=</span> <span class="n">ds2</span><span class="o">.</span><span class="n">toTable</span><span class="o">(</span><span class="n">tableEnv</span><span class="o">,</span> <span class="-Symbol">&#39;a</span><span class="o">,</span> <span class="-Symbol">&#39;b</span><span class="o">,</span> <span class="-Symbol">&#39;c</span><span class="o">);</span>
<span class="k">val</span> <span class="n">result</span> <span class="k">=</span> <span class="n">left</span><span class="o">.</span><span class="n">minus</span><span class="o">(</span><span class="n">right</span><span class="o">);</span></code></pre></figure>

      </td>
    </tr>

    <tr>
      <td><strong>MinusAll</strong></td>
      <td>
        <p>Similar to a SQL EXCEPT ALL clause. MinusAll returns the records that do not exist in the right table. A record that is present n times in the left table and m times in the right table is returned (n - m) times, i.e., as many duplicates as are present in the right table are removed. Both tables must have identical field types.</p>

<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="k">val</span> <span class="n">left</span> <span class="k">=</span> <span class="n">ds1</span><span class="o">.</span><span class="n">toTable</span><span class="o">(</span><span class="n">tableEnv</span><span class="o">,</span> <span class="-Symbol">&#39;a</span><span class="o">,</span> <span class="-Symbol">&#39;b</span><span class="o">,</span> <span class="-Symbol">&#39;c</span><span class="o">);</span>
<span class="k">val</span> <span class="n">right</span> <span class="k">=</span> <span class="n">ds2</span><span class="o">.</span><span class="n">toTable</span><span class="o">(</span><span class="n">tableEnv</span><span class="o">,</span> <span class="-Symbol">&#39;a</span><span class="o">,</span> <span class="-Symbol">&#39;b</span><span class="o">,</span> <span class="-Symbol">&#39;c</span><span class="o">);</span>
<span class="k">val</span> <span class="n">result</span> <span class="k">=</span> <span class="n">left</span><span class="o">.</span><span class="n">minusAll</span><span class="o">(</span><span class="n">right</span><span class="o">);</span></code></pre></figure>

      </td>
    </tr>

    <tr>
      <td><strong>Distinct</strong></td>
      <td>
        <p>Similar to a SQL DISTINCT clause. Returns records with distinct value combinations.</p>

<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="k">val</span> <span class="n">in</span> <span class="k">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">toTable</span><span class="o">(</span><span class="n">tableEnv</span><span class="o">,</span> <span class="-Symbol">&#39;a</span><span class="o">,</span> <span class="-Symbol">&#39;b</span><span class="o">,</span> <span class="-Symbol">&#39;c</span><span class="o">);</span>
<span class="k">val</span> <span class="n">result</span> <span class="k">=</span> <span class="n">in</span><span class="o">.</span><span class="n">distinct</span><span class="o">();</span></code></pre></figure>

      </td>
    </tr>

    <tr>
      <td><strong>Order By</strong></td>
      <td>
        <p>Similar to a SQL ORDER BY clause. Returns records globally sorted across all parallel partitions.</p>

<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="k">val</span> <span class="n">in</span> <span class="k">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">toTable</span><span class="o">(</span><span class="n">tableEnv</span><span class="o">,</span> <span class="-Symbol">&#39;a</span><span class="o">,</span> <span class="-Symbol">&#39;b</span><span class="o">,</span> <span class="-Symbol">&#39;c</span><span class="o">);</span>
<span class="k">val</span> <span class="n">result</span> <span class="k">=</span> <span class="n">in</span><span class="o">.</span><span class="n">orderBy</span><span class="o">(</span><span class="-Symbol">&#39;a</span><span class="o">.</span><span class="n">asc</span><span class="o">);</span></code></pre></figure>

      </td>
    </tr>

    <tr>
      <td><strong>Limit</strong></td>
      <td>
        <p>Similar to a SQL LIMIT clause. Limits a sorted result to a specified number of records from an offset position. Limit is technically part of the Order By operator and thus must be preceded by it.</p>

<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="k">val</span> <span class="n">in</span> <span class="k">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">toTable</span><span class="o">(</span><span class="n">tableEnv</span><span class="o">,</span> <span class="-Symbol">&#39;a</span><span class="o">,</span> <span class="-Symbol">&#39;b</span><span class="o">,</span> <span class="-Symbol">&#39;c</span><span class="o">);</span>
<span class="k">val</span> <span class="n">result</span> <span class="k">=</span> <span class="n">in</span><span class="o">.</span><span class="n">orderBy</span><span class="o">(</span><span class="-Symbol">&#39;a</span><span class="o">.</span><span class="n">asc</span><span class="o">).</span><span class="n">limit</span><span class="o">(</span><span class="mi">3</span><span class="o">);</span> <span class="c1">// returns unlimited number of records beginning with the 4th record</span></code></pre></figure>

or

<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="k">val</span> <span class="n">in</span> <span class="k">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">toTable</span><span class="o">(</span><span class="n">tableEnv</span><span class="o">,</span> <span class="-Symbol">&#39;a</span><span class="o">,</span> <span class="-Symbol">&#39;b</span><span class="o">,</span> <span class="-Symbol">&#39;c</span><span class="o">);</span>
<span class="k">val</span> <span class="n">result</span> <span class="k">=</span> <span class="n">in</span><span class="o">.</span><span class="n">orderBy</span><span class="o">(</span><span class="-Symbol">&#39;a</span><span class="o">.</span><span class="n">asc</span><span class="o">).</span><span class="n">limit</span><span class="o">(</span><span class="mi">3</span><span class="o">,</span> <span class="mi">5</span><span class="o">);</span> <span class="c1">// returns 5 records beginning with the 4th record</span></code></pre></figure>

      </td>
    </tr>

  </tbody>
</table>
  </div>
</div>

<p><a href="#top" class="top pull-right"><span class="glyphicon glyphicon-chevron-up"></span> Back to top</a></p>

<h3 id="expression-syntax">Expression Syntax</h3>
<p>Some of the operators in previous sections expect one or more expressions. Expressions can be specified using an embedded Scala DSL or as Strings. Please refer to the examples above to learn how expressions can be specified.</p>

<p>This is the EBNF grammar for expressions:</p>

<figure class="highlight"><pre><code class="language-ebnf" data-lang="ebnf"><span class="k">expressionList </span><span class="o">=</span> <span class="k">expression </span><span class="p">,</span> <span class="p">{</span> <span class="s2">&quot;,&quot;</span> <span class="p">,</span> <span class="k">expression </span><span class="p">}</span> <span class="p">;</span>

<span class="k">expression </span><span class="o">=</span> <span class="k">alias </span><span class="p">;</span>

<span class="k">alias </span><span class="o">=</span> <span class="k">logic </span><span class="p">|</span> <span class="p">(</span> <span class="k">logic </span><span class="p">,</span> <span class="s2">&quot;AS&quot;</span> <span class="p">,</span> <span class="k">fieldReference </span><span class="p">)</span> <span class="p">;</span>

<span class="k">logic </span><span class="o">=</span> <span class="k">comparison </span><span class="p">,</span> <span class="p">[</span> <span class="p">(</span> <span class="s2">&quot;&amp;&amp;&quot;</span> <span class="p">|</span> <span class="s2">&quot;||&quot;</span> <span class="p">)</span> <span class="p">,</span> <span class="k">comparison </span><span class="p">]</span> <span class="p">;</span>

<span class="k">comparison </span><span class="o">=</span> <span class="k">term </span><span class="p">,</span> <span class="p">[</span> <span class="p">(</span> <span class="s2">&quot;=&quot;</span> <span class="p">|</span> <span class="s2">&quot;==&quot;</span> <span class="p">|</span> <span class="s2">&quot;===&quot;</span> <span class="p">|</span> <span class="s2">&quot;!=&quot;</span> <span class="p">|</span> <span class="s2">&quot;!==&quot;</span> <span class="p">|</span> <span class="s2">&quot;&gt;&quot;</span> <span class="p">|</span> <span class="s2">&quot;&gt;=&quot;</span> <span class="p">|</span> <span class="s2">&quot;&lt;&quot;</span> <span class="p">|</span> <span class="s2">&quot;&lt;=&quot;</span> <span class="p">)</span> <span class="p">,</span> <span class="k">term </span><span class="p">]</span> <span class="p">;</span>

<span class="k">term </span><span class="o">=</span> <span class="k">product </span><span class="p">,</span> <span class="p">[</span> <span class="p">(</span> <span class="s2">&quot;+&quot;</span> <span class="p">|</span> <span class="s2">&quot;-&quot;</span> <span class="p">)</span> <span class="p">,</span> <span class="k">product </span><span class="p">]</span> <span class="p">;</span>

<span class="k">product </span><span class="o">=</span> <span class="k">unary </span><span class="p">,</span> <span class="p">[</span> <span class="p">(</span> <span class="s2">&quot;*&quot;</span> <span class="p">|</span> <span class="s2">&quot;/&quot;</span> <span class="p">|</span> <span class="s2">&quot;%&quot;</span><span class="p">)</span> <span class="p">,</span> <span class="k">unary </span><span class="p">]</span> <span class="p">;</span>

<span class="k">unary </span><span class="o">=</span> <span class="p">[</span> <span class="s2">&quot;!&quot;</span> <span class="p">|</span> <span class="s2">&quot;-&quot;</span> <span class="p">]</span> <span class="p">,</span> <span class="k">composite </span><span class="p">;</span>

<span class="k">composite </span><span class="o">=</span> <span class="k">suffixed </span><span class="p">|</span> <span class="k">atom </span><span class="p">;</span>

<span class="k">suffixed </span><span class="o">=</span> <span class="k">interval </span><span class="p">|</span> <span class="k">cast </span><span class="p">|</span> <span class="k">as </span><span class="p">|</span> <span class="k">aggregation </span><span class="p">|</span> <span class="k">if </span><span class="p">|</span> <span class="k">functionCall </span><span class="p">;</span>

<span class="k">timeInterval </span><span class="o">=</span> <span class="k">composite </span><span class="p">,</span> <span class="s2">&quot;.&quot;</span> <span class="p">,</span> <span class="p">(</span><span class="s2">&quot;year&quot;</span> <span class="p">|</span> <span class="s2">&quot;years&quot;</span> <span class="p">|</span> <span class="s2">&quot;month&quot;</span> <span class="p">|</span> <span class="s2">&quot;months&quot;</span> <span class="p">|</span> <span class="s2">&quot;day&quot;</span> <span class="p">|</span> <span class="s2">&quot;days&quot;</span> <span class="p">|</span> <span class="s2">&quot;hour&quot;</span> <span class="p">|</span> <span class="s2">&quot;hours&quot;</span> <span class="p">|</span> <span class="s2">&quot;minute&quot;</span> <span class="p">|</span> <span class="s2">&quot;minutes&quot;</span> <span class="p">|</span> <span class="s2">&quot;second&quot;</span> <span class="p">|</span> <span class="s2">&quot;seconds&quot;</span> <span class="p">|</span> <span class="s2">&quot;milli&quot;</span> <span class="p">|</span> <span class="s2">&quot;millis&quot;</span><span class="p">)</span> <span class="p">;</span>

<span class="k">rowInterval </span><span class="o">=</span> <span class="k">composite </span><span class="p">,</span> <span class="s2">&quot;.&quot;</span> <span class="p">,</span> <span class="s2">&quot;rows&quot;</span> <span class="p">;</span>

<span class="k">cast </span><span class="o">=</span> <span class="k">composite </span><span class="p">,</span> <span class="s2">&quot;.cast(&quot;</span> <span class="p">,</span> <span class="k">dataType </span><span class="p">,</span> <span class="s2">&quot;)&quot;</span> <span class="p">;</span>

<span class="k">dataType </span><span class="o">=</span> <span class="s2">&quot;BYTE&quot;</span> <span class="p">|</span> <span class="s2">&quot;SHORT&quot;</span> <span class="p">|</span> <span class="s2">&quot;INT&quot;</span> <span class="p">|</span> <span class="s2">&quot;LONG&quot;</span> <span class="p">|</span> <span class="s2">&quot;FLOAT&quot;</span> <span class="p">|</span> <span class="s2">&quot;DOUBLE&quot;</span> <span class="p">|</span> <span class="s2">&quot;BOOLEAN&quot;</span> <span class="p">|</span> <span class="s2">&quot;STRING&quot;</span> <span class="p">|</span> <span class="s2">&quot;DECIMAL&quot;</span> <span class="p">|</span> <span class="s2">&quot;DATE&quot;</span> <span class="p">|</span> <span class="s2">&quot;TIME&quot;</span> <span class="p">|</span> <span class="s2">&quot;TIMESTAMP&quot;</span> <span class="p">|</span> <span class="s2">&quot;INTERVAL_MONTHS&quot;</span> <span class="p">|</span> <span class="s2">&quot;INTERVAL_MILLIS&quot;</span> <span class="p">;</span>

<span class="k">as </span><span class="o">=</span> <span class="k">composite </span><span class="p">,</span> <span class="s2">&quot;.as(&quot;</span> <span class="p">,</span> <span class="k">fieldReference </span><span class="p">,</span> <span class="s2">&quot;)&quot;</span> <span class="p">;</span>

<span class="k">aggregation </span><span class="o">=</span> <span class="k">composite </span><span class="p">,</span> <span class="p">(</span> <span class="s2">&quot;.sum&quot;</span> <span class="p">|</span> <span class="s2">&quot;.min&quot;</span> <span class="p">|</span> <span class="s2">&quot;.max&quot;</span> <span class="p">|</span> <span class="s2">&quot;.count&quot;</span> <span class="p">|</span> <span class="s2">&quot;.avg&quot;</span> <span class="p">|</span> <span class="s2">&quot;.start&quot;</span> <span class="p">|</span> <span class="s2">&quot;.end&quot;</span> <span class="p">)</span> <span class="p">,</span> <span class="p">[</span> <span class="s2">&quot;()&quot;</span> <span class="p">]</span> <span class="p">;</span>

<span class="k">if </span><span class="o">=</span> <span class="k">composite </span><span class="p">,</span> <span class="s2">&quot;.?(&quot;</span> <span class="p">,</span> <span class="k">expression </span><span class="p">,</span> <span class="s2">&quot;,&quot;</span> <span class="p">,</span> <span class="k">expression </span><span class="p">,</span> <span class="s2">&quot;)&quot;</span> <span class="p">;</span>

<span class="k">functionCall </span><span class="o">=</span> <span class="k">composite </span><span class="p">,</span> <span class="s2">&quot;.&quot;</span> <span class="p">,</span> <span class="k">functionIdentifier </span><span class="p">,</span> <span class="p">[</span> <span class="s2">&quot;(&quot;</span> <span class="p">,</span> <span class="p">[</span> <span class="k">expression </span><span class="p">,</span> <span class="p">{</span> <span class="s2">&quot;,&quot;</span> <span class="p">,</span> <span class="k">expression </span><span class="p">}</span> <span class="p">]</span> <span class="p">,</span> <span class="s2">&quot;)&quot;</span> <span class="p">]</span> <span class="p">;</span>

<span class="k">atom </span><span class="o">=</span> <span class="p">(</span> <span class="s2">&quot;(&quot;</span> <span class="p">,</span> <span class="k">expression </span><span class="p">,</span> <span class="s2">&quot;)&quot;</span> <span class="p">)</span> <span class="p">|</span> <span class="k">literal </span><span class="p">|</span> <span class="k">nullLiteral </span><span class="p">|</span> <span class="k">fieldReference </span><span class="p">;</span>

<span class="k">fieldReference </span><span class="o">=</span> <span class="s2">&quot;*&quot;</span> <span class="p">|</span> <span class="k">identifier </span><span class="p">;</span>

<span class="k">nullLiteral </span><span class="o">=</span> <span class="s2">&quot;Null(&quot;</span> <span class="p">,</span> <span class="k">dataType </span><span class="p">,</span> <span class="s2">&quot;)&quot;</span> <span class="p">;</span>

<span class="k">timeIntervalUnit </span><span class="o">=</span> <span class="s2">&quot;YEAR&quot;</span> <span class="p">|</span> <span class="s2">&quot;YEAR_TO_MONTH&quot;</span> <span class="p">|</span> <span class="s2">&quot;MONTH&quot;</span> <span class="p">|</span> <span class="s2">&quot;DAY&quot;</span> <span class="p">|</span> <span class="s2">&quot;DAY_TO_HOUR&quot;</span> <span class="p">|</span> <span class="s2">&quot;DAY_TO_MINUTE&quot;</span> <span class="p">|</span> <span class="s2">&quot;DAY_TO_SECOND&quot;</span> <span class="p">|</span> <span class="s2">&quot;HOUR&quot;</span> <span class="p">|</span> <span class="s2">&quot;HOUR_TO_MINUTE&quot;</span> <span class="p">|</span> <span class="s2">&quot;HOUR_TO_SECOND&quot;</span> <span class="p">|</span> <span class="s2">&quot;MINUTE&quot;</span> <span class="p">|</span> <span class="s2">&quot;MINUTE_TO_SECOND&quot;</span> <span class="p">|</span> <span class="s2">&quot;SECOND&quot;</span> <span class="p">;</span>

<span class="k">timePointUnit </span><span class="o">=</span> <span class="s2">&quot;YEAR&quot;</span> <span class="p">|</span> <span class="s2">&quot;MONTH&quot;</span> <span class="p">|</span> <span class="s2">&quot;DAY&quot;</span> <span class="p">|</span> <span class="s2">&quot;HOUR&quot;</span> <span class="p">|</span> <span class="s2">&quot;MINUTE&quot;</span> <span class="p">|</span> <span class="s2">&quot;SECOND&quot;</span> <span class="p">|</span> <span class="s2">&quot;QUARTER&quot;</span> <span class="p">|</span> <span class="s2">&quot;WEEK&quot;</span> <span class="p">|</span> <span class="s2">&quot;MILLISECOND&quot;</span> <span class="p">|</span> <span class="s2">&quot;MICROSECOND&quot;</span> <span class="p">;</span></code></pre></figure>

<p>Here, <code>literal</code> is a valid Java literal, <code>fieldReference</code> specifies a column in the data (or all columns if <code>*</code> is used), and <code>functionIdentifier</code> specifies a supported scalar function. The
column names and function names follow Java identifier syntax. The column name <code>rowtime</code> is a reserved logical attribute in streaming environments. Expressions specified as Strings can also use prefix notation instead of suffix notation to call operators and functions.</p>

<p>If working with exact numeric values or large decimals is required, the Table API also supports Java’s BigDecimal type. In the Scala Table API decimals can be defined by <code>BigDecimal("123456")</code> and in Java by appending a “p” for precise e.g. <code>123456p</code>.</p>

<p>In order to work with temporal values the Table API supports Java SQL’s Date, Time, and Timestamp types. In the Scala Table API literals can be defined by using <code>java.sql.Date.valueOf("2016-06-27")</code>, <code>java.sql.Time.valueOf("10:10:42")</code>, or <code>java.sql.Timestamp.valueOf("2016-06-27 10:10:42.123")</code>. The Java and Scala Table API also support calling <code>"2016-06-27".toDate()</code>, <code>"10:10:42".toTime()</code>, and <code>"2016-06-27 10:10:42.123".toTimestamp()</code> for converting Strings into temporal types. <em>Note:</em> Since Java’s temporal SQL types are time zone dependent, please make sure that the Flink Client and all TaskManagers use the same time zone.</p>

<p>Temporal intervals can be represented as number of months (<code>Types.INTERVAL_MONTHS</code>) or number of milliseconds (<code>Types.INTERVAL_MILLIS</code>). Intervals of same type can be added or subtracted (e.g. <code>1.hour + 10.minutes</code>). Intervals of milliseconds can be added to time points (e.g. <code>"2016-08-10".toDate + 5.days</code>).</p>

<p><a href="#top" class="top pull-right"><span class="glyphicon glyphicon-chevron-up"></span> Back to top</a></p>

<h3 id="windows">Windows</h3>

<p>The Table API is a declarative API to define queries on batch and streaming tables. Projection, selection, and union operations can be applied both on streaming and batch tables without additional semantics. Aggregations on (possibly) infinite streaming tables, however, can only be computed on finite groups of records. Group-window aggregates group rows into finite groups based on time or row-count intervals and evaluate aggregation functions once per group. For batch tables, group-windows are a convenient shortcut to group records by time intervals.</p>

<p>Group-windows are defined using the <code>window(w: GroupWindow)</code> clause. The following example shows how to define a group-window aggregation on a table.</p>

<div class="codetabs">
  <div data-lang="java">

    <figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">Table</span> <span class="n">table</span> <span class="o">=</span> <span class="n">input</span>
  <span class="o">.</span><span class="na">window</span><span class="o">(</span><span class="n">GroupWindow</span> <span class="n">w</span><span class="o">)</span>  <span class="c1">// define window</span>
  <span class="o">.</span><span class="na">select</span><span class="o">(</span><span class="s">&quot;b.sum&quot;</span><span class="o">)</span>        <span class="c1">// aggregate</span></code></pre></figure>

  </div>

  <div data-lang="scala">

    <figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="k">val</span> <span class="n">table</span> <span class="k">=</span> <span class="n">input</span>
  <span class="o">.</span><span class="n">window</span><span class="o">(</span><span class="n">w</span><span class="k">:</span> <span class="kt">GroupWindow</span><span class="o">)</span> <span class="c1">// define window</span>
  <span class="o">.</span><span class="n">select</span><span class="o">(</span><span class="-Symbol">&#39;b</span><span class="o">.</span><span class="n">sum</span><span class="o">)</span>         <span class="c1">// aggregate</span></code></pre></figure>

  </div>
</div>

<p>In streaming environments, group-window aggregates can only be computed in parallel, if they are <em>keyed</em>, i.e., there is an additional <code>groupBy</code> attribute. Group-window aggregates without additional <code>groupBy</code>, such as in the example above, can only be evaluated in a single, non-parallel task. The following example shows how to define a keyed group-window aggregation on a table.</p>

<div class="codetabs">
  <div data-lang="java">

    <figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">Table</span> <span class="n">table</span> <span class="o">=</span> <span class="n">input</span>
  <span class="o">.</span><span class="na">groupBy</span><span class="o">(</span><span class="s">&quot;a&quot;</span><span class="o">)</span>
  <span class="o">.</span><span class="na">window</span><span class="o">(</span><span class="n">GroupWindow</span> <span class="n">w</span><span class="o">)</span>  <span class="c1">// define window</span>
  <span class="o">.</span><span class="na">select</span><span class="o">(</span><span class="s">&quot;a, b.sum&quot;</span><span class="o">)</span>     <span class="c1">// aggregate</span></code></pre></figure>

  </div>

  <div data-lang="scala">

    <figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="k">val</span> <span class="n">table</span> <span class="k">=</span> <span class="n">input</span>
  <span class="o">.</span><span class="n">groupBy</span><span class="o">(</span><span class="-Symbol">&#39;a</span><span class="o">)</span>
  <span class="o">.</span><span class="n">window</span><span class="o">(</span><span class="n">w</span><span class="k">:</span> <span class="kt">GroupWindow</span><span class="o">)</span> <span class="c1">// define window</span>
  <span class="o">.</span><span class="n">select</span><span class="o">(</span><span class="-Symbol">&#39;a</span><span class="o">,</span> <span class="-Symbol">&#39;b</span><span class="o">.</span><span class="n">sum</span><span class="o">)</span>     <span class="c1">// aggregate</span></code></pre></figure>

  </div>
</div>

<p>The <code>GroupWindow</code> parameter defines how rows are mapped to windows. <code>GroupWindow</code> is not an interface that users can implement. Instead, the Table API provides a set of predefined <code>GroupWindow</code> classes with specific semantics, which are translated into underlying <code>DataStream</code> or <code>DataSet</code> operations. The supported window definitions are listed below. 
By assigning the group-window an alias using <code>as</code>, properties such as the start and end timestamp of a time window can be accessed in the <code>select</code> statement.</p>

<div class="codetabs">
  <div data-lang="java">

    <figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">Table</span> <span class="n">table</span> <span class="o">=</span> <span class="n">input</span>
  <span class="o">.</span><span class="na">groupBy</span><span class="o">(</span><span class="s">&quot;a&quot;</span><span class="o">)</span>
  <span class="o">.</span><span class="na">window</span><span class="o">(</span><span class="n">XXX</span><span class="o">.</span><span class="na">as</span><span class="o">(</span><span class="s">&quot;myWin&quot;</span><span class="o">))</span>                      <span class="c1">// define window alias</span>
  <span class="o">.</span><span class="na">select</span><span class="o">(</span><span class="s">&quot;a, myWin.start, myWin.end, b.count&quot;</span><span class="o">)</span> <span class="c1">// aggregate</span></code></pre></figure>

  </div>

  <div data-lang="scala">

    <figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="k">val</span> <span class="n">table</span> <span class="k">=</span> <span class="n">input</span>
  <span class="o">.</span><span class="n">groupBy</span><span class="o">(</span><span class="-Symbol">&#39;a</span><span class="o">)</span>
  <span class="o">.</span><span class="n">window</span><span class="o">(</span><span class="nc">XXX</span> <span class="n">as</span> <span class="-Symbol">&#39;myWin</span><span class="o">)</span>                          <span class="c1">// define window alias</span>
  <span class="o">.</span><span class="n">select</span><span class="o">(</span><span class="-Symbol">&#39;a</span><span class="o">,</span> <span class="-Symbol">&#39;myWin</span><span class="o">.</span><span class="n">start</span><span class="o">,</span> <span class="-Symbol">&#39;myWin</span><span class="o">.</span><span class="n">end</span><span class="o">,</span> <span class="-Symbol">&#39;b</span><span class="o">.</span><span class="n">count</span><span class="o">)</span> <span class="c1">// aggregate</span></code></pre></figure>

  </div>
</div>

<h4 id="tumble-tumbling-windows">Tumble (Tumbling Windows)</h4>

<p>A tumbling window assigns rows to non-overlapping, continuous windows of fixed length. For example, a tumbling window of 5 minutes groups rows in 5 minutes intervals. Tumbling windows can be defined on event-time, processing-time, or on a row-count.</p>

<p>Tumbling windows are defined by using the <code>Tumble</code> class as follows:</p>

<table class="table table-bordered">
  <thead>
    <tr>
      <th class="text-left" style="width: 20%">Method</th>
      <th class="text-left" style="width: 20%">Required?</th>
      <th class="text-left">Description</th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td><code>over</code></td>
      <td>Required.</td>
      <td>Defines the length the window, either as time or row-count interval.</td>
    </tr>
    <tr>
      <td><code>on</code></td>
      <td>Required for streaming event-time windows and windows on batch tables.</td>
      <td>Defines the time mode for streaming tables (<code>rowtime</code> is a logical system attribute); for batch tables, the time attribute on which records are grouped.</td>
    </tr>
    <tr>
      <td><code>as</code></td>
      <td>Optional.</td>
      <td>Assigns an alias to the window that can be used in the following <code>select()</code> clause to access window properties such as window start or end time.</td>
    </tr>
  </tbody>
</table>

<div class="codetabs">
  <div data-lang="java">

    <figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="c1">// Tumbling Event-time Window</span>
<span class="o">.</span><span class="na">window</span><span class="o">(</span><span class="n">Tumble</span><span class="o">.</span><span class="na">over</span><span class="o">(</span><span class="s">&quot;10.minutes&quot;</span><span class="o">).</span><span class="na">on</span><span class="o">(</span><span class="s">&quot;rowtime&quot;</span><span class="o">).</span><span class="na">as</span><span class="o">(</span><span class="s">&quot;w&quot;</span><span class="o">))</span>

<span class="c1">// Tumbling Processing-time Window</span>
<span class="o">.</span><span class="na">window</span><span class="o">(</span><span class="n">Tumble</span><span class="o">.</span><span class="na">over</span><span class="o">(</span><span class="s">&quot;10.minutes&quot;</span><span class="o">).</span><span class="na">as</span><span class="o">(</span><span class="s">&quot;w&quot;</span><span class="o">))</span>

<span class="c1">// Tumbling Row-count Window</span>
<span class="o">.</span><span class="na">window</span><span class="o">(</span><span class="n">Tumble</span><span class="o">.</span><span class="na">over</span><span class="o">(</span><span class="s">&quot;10.rows&quot;</span><span class="o">).</span><span class="na">as</span><span class="o">(</span><span class="s">&quot;w&quot;</span><span class="o">))</span></code></pre></figure>

  </div>

  <div data-lang="scala">

    <figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="c1">// Tumbling Event-time Window</span>
<span class="o">.</span><span class="n">window</span><span class="o">(</span><span class="nc">Tumble</span> <span class="n">over</span> <span class="mf">10.</span><span class="n">minutes</span> <span class="n">on</span> <span class="-Symbol">&#39;rowtime</span> <span class="n">as</span> <span class="-Symbol">&#39;w</span><span class="o">)</span>

<span class="c1">// Tumbling Processing-time Window</span>
<span class="o">.</span><span class="n">window</span><span class="o">(</span><span class="nc">Tumble</span> <span class="n">over</span> <span class="mf">10.</span><span class="n">minutes</span> <span class="n">as</span> <span class="-Symbol">&#39;w</span><span class="o">)</span>

<span class="c1">// Tumbling Row-count Window</span>
<span class="o">.</span><span class="n">window</span><span class="o">(</span><span class="nc">Tumble</span> <span class="n">over</span> <span class="mf">10.</span><span class="n">rows</span> <span class="n">as</span> <span class="-Symbol">&#39;w</span><span class="o">)</span></code></pre></figure>

  </div>
</div>

<h4 id="slide-sliding-windows">Slide (Sliding Windows)</h4>

<p>A sliding window has a fixed size and slides by a specified slide interval. If the slide interval is smaller than the window size, sliding windows are overlapping. Thus, rows can be assigned to multiple windows. For example, a sliding window of 15 minutes size and 5 minute slide interval assigns each row to 3 different windows of 15 minute size, which are evaluated in an interval of 5 minutes. Sliding windows can be defined on event-time, processing-time, or on a row-count.</p>

<p>Sliding windows are defined by using the <code>Slide</code> class as follows:</p>

<table class="table table-bordered">
  <thead>
    <tr>
      <th class="text-left" style="width: 20%">Method</th>
      <th class="text-left" style="width: 20%">Required?</th>
      <th class="text-left">Description</th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td><code>over</code></td>
      <td>Required.</td>
      <td>Defines the length of the window, either as time or row-count interval.</td>
    </tr>
    <tr>
      <td><code>every</code></td>
      <td>Required.</td>
      <td>Defines the slide interval, either as time or row-count interval. The slide interval must be of the same type as the size interval.</td>
    </tr>
    <tr>
      <td><code>on</code></td>
      <td>Required for event-time windows and windows on batch tables.</td>
      <td>Defines the time mode for streaming tables (<code>rowtime</code> is a logical system attribute); for batch tables, the time attribute on which records are grouped</td>
    </tr>
    <tr>
      <td><code>as</code></td>
      <td>Optional.</td>
      <td>Assigns an alias to the window that can be used in the following <code>select()</code> clause to access window properties such as window start or end time.</td>
    </tr>
  </tbody>
</table>

<div class="codetabs">
  <div data-lang="java">

    <figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="c1">// Sliding Event-time Window</span>
<span class="o">.</span><span class="na">window</span><span class="o">(</span><span class="n">Slide</span><span class="o">.</span><span class="na">over</span><span class="o">(</span><span class="s">&quot;10.minutes&quot;</span><span class="o">).</span><span class="na">every</span><span class="o">(</span><span class="s">&quot;5.minutes&quot;</span><span class="o">).</span><span class="na">on</span><span class="o">(</span><span class="s">&quot;rowtime&quot;</span><span class="o">).</span><span class="na">as</span><span class="o">(</span><span class="s">&quot;w&quot;</span><span class="o">))</span>

<span class="c1">// Sliding Processing-time window</span>
<span class="o">.</span><span class="na">window</span><span class="o">(</span><span class="n">Slide</span><span class="o">.</span><span class="na">over</span><span class="o">(</span><span class="s">&quot;10.minutes&quot;</span><span class="o">).</span><span class="na">every</span><span class="o">(</span><span class="s">&quot;5.minutes&quot;</span><span class="o">).</span><span class="na">as</span><span class="o">(</span><span class="s">&quot;w&quot;</span><span class="o">))</span>

<span class="c1">// Sliding Row-count window</span>
<span class="o">.</span><span class="na">window</span><span class="o">(</span><span class="n">Slide</span><span class="o">.</span><span class="na">over</span><span class="o">(</span><span class="s">&quot;10.rows&quot;</span><span class="o">).</span><span class="na">every</span><span class="o">(</span><span class="s">&quot;5.rows&quot;</span><span class="o">).</span><span class="na">as</span><span class="o">(</span><span class="s">&quot;w&quot;</span><span class="o">))</span></code></pre></figure>

  </div>

  <div data-lang="scala">

    <figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="c1">// Sliding Event-time Window</span>
<span class="o">.</span><span class="n">window</span><span class="o">(</span><span class="nc">Slide</span> <span class="n">over</span> <span class="mf">10.</span><span class="n">minutes</span> <span class="n">every</span> <span class="mf">5.</span><span class="n">minutes</span> <span class="n">on</span> <span class="-Symbol">&#39;rowtime</span> <span class="n">as</span> <span class="-Symbol">&#39;w</span><span class="o">)</span>

<span class="c1">// Sliding Processing-time window</span>
<span class="o">.</span><span class="n">window</span><span class="o">(</span><span class="nc">Slide</span> <span class="n">over</span> <span class="mf">10.</span><span class="n">minutes</span> <span class="n">every</span> <span class="mf">5.</span><span class="n">minutes</span> <span class="n">as</span> <span class="-Symbol">&#39;w</span><span class="o">)</span>

<span class="c1">// Sliding Row-count window</span>
<span class="o">.</span><span class="n">window</span><span class="o">(</span><span class="nc">Slide</span> <span class="n">over</span> <span class="mf">10.</span><span class="n">rows</span> <span class="n">every</span> <span class="mf">5.</span><span class="n">rows</span> <span class="n">as</span> <span class="-Symbol">&#39;w</span><span class="o">)</span></code></pre></figure>

  </div>
</div>

<h4 id="session-session-windows">Session (Session Windows)</h4>

<p>Session windows do not have a fixed size but their bounds are defined by an interval of inactivity, i.e., a session window is closes if no event appears for a defined gap period. For example a session window with a 30 minute gap starts when a row is observed after 30 minutes inactivity (otherwise the row would be added to an existing window) and is closed if no row is added within 30 minutes. Session windows can work on event-time or processing-time.</p>

<p>A session window is defined by using the <code>Session</code> class as follows:</p>

<table class="table table-bordered">
  <thead>
    <tr>
      <th class="text-left" style="width: 20%">Method</th>
      <th class="text-left" style="width: 20%">Required?</th>
      <th class="text-left">Description</th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td><code>withGap</code></td>
      <td>Required.</td>
      <td>Defines the gap between two windows as time interval.</td>
    </tr>
    <tr>
      <td><code>on</code></td>
      <td>Required for event-time windows and windows on batch tables.</td>
      <td>Defines the time mode for streaming tables (<code>rowtime</code> is a logical system attribute); for batch tables, the time attribute on which records are grouped</td>
    </tr>
    <tr>
      <td><code>as</code></td>
      <td>Optional.</td>
      <td>Assigns an alias to the window that can be used in the following <code>select()</code> clause to access window properties such as window start or end time.</td>
    </tr>
  </tbody>
</table>

<div class="codetabs">
  <div data-lang="java">

    <figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="c1">// Session Event-time Window</span>
<span class="o">.</span><span class="na">window</span><span class="o">(</span><span class="n">Session</span><span class="o">.</span><span class="na">withGap</span><span class="o">(</span><span class="s">&quot;10.minutes&quot;</span><span class="o">).</span><span class="na">on</span><span class="o">(</span><span class="s">&quot;rowtime&quot;</span><span class="o">).</span><span class="na">as</span><span class="o">(</span><span class="s">&quot;w&quot;</span><span class="o">))</span>

<span class="c1">// Session Processing-time Window</span>
<span class="o">.</span><span class="na">window</span><span class="o">(</span><span class="n">Session</span><span class="o">.</span><span class="na">withGap</span><span class="o">(</span><span class="s">&quot;10.minutes&quot;</span><span class="o">).</span><span class="na">as</span><span class="o">(</span><span class="s">&quot;w&quot;</span><span class="o">))</span></code></pre></figure>

  </div>

  <div data-lang="scala">

    <figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="c1">// Session Event-time Window</span>
<span class="o">.</span><span class="n">window</span><span class="o">(</span><span class="nc">Session</span> <span class="n">withGap</span> <span class="mf">10.</span><span class="n">minutes</span> <span class="n">on</span> <span class="-Symbol">&#39;rowtime</span> <span class="n">as</span> <span class="-Symbol">&#39;w</span><span class="o">)</span>

<span class="c1">// Session Processing-time Window</span>
<span class="o">.</span><span class="n">window</span><span class="o">(</span><span class="nc">Session</span> <span class="n">withGap</span> <span class="mf">10.</span><span class="n">minutes</span> <span class="n">as</span> <span class="-Symbol">&#39;w</span><span class="o">)</span></code></pre></figure>

  </div>
</div>

<h4 id="limitations">Limitations</h4>

<p>Currently the following features are not supported yet:</p>

<ul>
  <li>Row-count windows on event-time</li>
  <li>Windows on batch tables</li>
</ul>

<h2 id="sql">SQL</h2>
<p>SQL queries are specified using the <code>sql()</code> method of the <code>TableEnvironment</code>. The method returns the result of the SQL query as a <code>Table</code> which can be converted into a <code>DataSet</code> or <code>DataStream</code>, used in subsequent Table API queries, or written to a <code>TableSink</code> (see <a href="#writing-tables-to-external-sinks">Writing Tables to External Sinks</a>). SQL and Table API queries can seamlessly mixed and are holistically optimized and translated into a single DataStream or DataSet program.</p>

<p>A <code>Table</code>, <code>DataSet</code>, <code>DataStream</code>, or external <code>TableSource</code> must be registered in the <code>TableEnvironment</code> in order to be accessible by a SQL query (see <a href="#registering-tables">Registering Tables</a>).</p>

<p><em>Note: Flink’s SQL support is not feature complete, yet. Queries that include unsupported SQL features will cause a <code>TableException</code>. The limitations of SQL on batch and streaming tables are listed in the following sections.</em></p>

<h3 id="sql-on-batch-tables">SQL on Batch Tables</h3>

<div class="codetabs">
  <div data-lang="java">

    <figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">ExecutionEnvironment</span> <span class="n">env</span> <span class="o">=</span> <span class="n">ExecutionEnvironment</span><span class="o">.</span><span class="na">getExecutionEnvironment</span><span class="o">();</span>
<span class="n">BatchTableEnvironment</span> <span class="n">tableEnv</span> <span class="o">=</span> <span class="n">TableEnvironment</span><span class="o">.</span><span class="na">getTableEnvironment</span><span class="o">(</span><span class="n">env</span><span class="o">);</span>

<span class="c1">// read a DataSet from an external source</span>
<span class="n">DataSet</span><span class="o">&lt;</span><span class="n">Tuple3</span><span class="o">&lt;</span><span class="n">Long</span><span class="o">,</span> <span class="n">String</span><span class="o">,</span> <span class="n">Integer</span><span class="o">&gt;&gt;</span> <span class="n">ds</span> <span class="o">=</span> <span class="n">env</span><span class="o">.</span><span class="na">readCsvFile</span><span class="o">(...);</span>
<span class="c1">// register the DataSet as table &quot;Orders&quot;</span>
<span class="n">tableEnv</span><span class="o">.</span><span class="na">registerDataSet</span><span class="o">(</span><span class="s">&quot;Orders&quot;</span><span class="o">,</span> <span class="n">ds</span><span class="o">,</span> <span class="s">&quot;user, product, amount&quot;</span><span class="o">);</span>
<span class="c1">// run a SQL query on the Table and retrieve the result as a new Table</span>
<span class="n">Table</span> <span class="n">result</span> <span class="o">=</span> <span class="n">tableEnv</span><span class="o">.</span><span class="na">sql</span><span class="o">(</span>
  <span class="s">&quot;SELECT SUM(amount) FROM Orders WHERE product LIKE &#39;%Rubber%&#39;&quot;</span><span class="o">);</span></code></pre></figure>

  </div>

  <div data-lang="scala">

    <figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="k">val</span> <span class="n">env</span> <span class="k">=</span> <span class="nc">ExecutionEnvironment</span><span class="o">.</span><span class="n">getExecutionEnvironment</span>
<span class="k">val</span> <span class="n">tableEnv</span> <span class="k">=</span> <span class="nc">TableEnvironment</span><span class="o">.</span><span class="n">getTableEnvironment</span><span class="o">(</span><span class="n">env</span><span class="o">)</span>

<span class="c1">// read a DataSet from an external source</span>
<span class="k">val</span> <span class="n">ds</span><span class="k">:</span> <span class="kt">DataSet</span><span class="o">[(</span><span class="kt">Long</span>, <span class="kt">String</span>, <span class="kt">Integer</span><span class="o">)]</span> <span class="k">=</span> <span class="n">env</span><span class="o">.</span><span class="n">readCsvFile</span><span class="o">(...)</span>
<span class="c1">// register the DataSet under the name &quot;Orders&quot;</span>
<span class="n">tableEnv</span><span class="o">.</span><span class="n">registerDataSet</span><span class="o">(</span><span class="s">&quot;Orders&quot;</span><span class="o">,</span> <span class="n">ds</span><span class="o">,</span> <span class="-Symbol">&#39;user</span><span class="o">,</span> <span class="-Symbol">&#39;product</span><span class="o">,</span> <span class="-Symbol">&#39;amount</span><span class="o">)</span>
<span class="c1">// run a SQL query on the Table and retrieve the result as a new Table</span>
<span class="k">val</span> <span class="n">result</span> <span class="k">=</span> <span class="n">tableEnv</span><span class="o">.</span><span class="n">sql</span><span class="o">(</span>
  <span class="s">&quot;SELECT SUM(amount) FROM Orders WHERE product LIKE &#39;%Rubber%&#39;&quot;</span><span class="o">)</span></code></pre></figure>

  </div>
</div>

<h4 id="limitations-1">Limitations</h4>

<p>The current version supports selection (filter), projection, inner equi-joins, grouping, non-distinct aggregates, and sorting on batch tables.</p>

<p>Among others, the following SQL features are not supported, yet:</p>

<ul>
  <li>Timestamps and intervals are limited to milliseconds precision</li>
  <li>Interval arithmetic is currenly limited</li>
  <li>Distinct aggregates (e.g., <code>COUNT(DISTINCT name)</code>)</li>
  <li>Non-equi joins and Cartesian products</li>
  <li>Grouping sets</li>
</ul>

<p><em>Note: Tables are joined in the order in which they are specified in the <code>FROM</code> clause. In some cases the table order must be manually tweaked to resolve Cartesian products.</em></p>

<h3 id="sql-on-streaming-tables">SQL on Streaming Tables</h3>

<p>SQL queries can be executed on streaming Tables (Tables backed by <code>DataStream</code> or <code>StreamTableSource</code>) like standard SQL.</p>

<div class="codetabs">
  <div data-lang="java">

    <figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">StreamExecutionEnvironment</span> <span class="n">env</span> <span class="o">=</span> <span class="n">StreamExecutionEnvironment</span><span class="o">.</span><span class="na">getExecutionEnvironment</span><span class="o">();</span>
<span class="n">StreamTableEnvironment</span> <span class="n">tableEnv</span> <span class="o">=</span> <span class="n">TableEnvironment</span><span class="o">.</span><span class="na">getTableEnvironment</span><span class="o">(</span><span class="n">env</span><span class="o">);</span>

<span class="c1">// ingest a DataStream from an external source</span>
<span class="n">DataStream</span><span class="o">&lt;</span><span class="n">Tuple3</span><span class="o">&lt;</span><span class="n">Long</span><span class="o">,</span> <span class="n">String</span><span class="o">,</span> <span class="n">Integer</span><span class="o">&gt;&gt;</span> <span class="n">ds</span> <span class="o">=</span> <span class="n">env</span><span class="o">.</span><span class="na">addSource</span><span class="o">(...);</span>
<span class="c1">// register the DataStream as table &quot;Orders&quot;</span>
<span class="n">tableEnv</span><span class="o">.</span><span class="na">registerDataStream</span><span class="o">(</span><span class="s">&quot;Orders&quot;</span><span class="o">,</span> <span class="n">ds</span><span class="o">,</span> <span class="s">&quot;user, product, amount&quot;</span><span class="o">);</span>
<span class="c1">// run a SQL query on the Table and retrieve the result as a new Table</span>
<span class="n">Table</span> <span class="n">result</span> <span class="o">=</span> <span class="n">tableEnv</span><span class="o">.</span><span class="na">sql</span><span class="o">(</span>
  <span class="s">&quot;SELECT product, amount FROM Orders WHERE product LIKE &#39;%Rubber%&#39;&quot;</span><span class="o">);</span></code></pre></figure>

  </div>

  <div data-lang="scala">

    <figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="k">val</span> <span class="n">env</span> <span class="k">=</span> <span class="nc">StreamExecutionEnvironment</span><span class="o">.</span><span class="n">getExecutionEnvironment</span>
<span class="k">val</span> <span class="n">tableEnv</span> <span class="k">=</span> <span class="nc">TableEnvironment</span><span class="o">.</span><span class="n">getTableEnvironment</span><span class="o">(</span><span class="n">env</span><span class="o">)</span>

<span class="c1">// read a DataStream from an external source</span>
<span class="k">val</span> <span class="n">ds</span><span class="k">:</span> <span class="kt">DataStream</span><span class="o">[(</span><span class="kt">Long</span>, <span class="kt">String</span>, <span class="kt">Integer</span><span class="o">)]</span> <span class="k">=</span> <span class="n">env</span><span class="o">.</span><span class="n">addSource</span><span class="o">(...)</span>
<span class="c1">// register the DataStream under the name &quot;Orders&quot;</span>
<span class="n">tableEnv</span><span class="o">.</span><span class="n">registerDataStream</span><span class="o">(</span><span class="s">&quot;Orders&quot;</span><span class="o">,</span> <span class="n">ds</span><span class="o">,</span> <span class="-Symbol">&#39;user</span><span class="o">,</span> <span class="-Symbol">&#39;product</span><span class="o">,</span> <span class="-Symbol">&#39;amount</span><span class="o">)</span>
<span class="c1">// run a SQL query on the Table and retrieve the result as a new Table</span>
<span class="k">val</span> <span class="n">result</span> <span class="k">=</span> <span class="n">tableEnv</span><span class="o">.</span><span class="n">sql</span><span class="o">(</span>
  <span class="s">&quot;SELECT product, amount FROM Orders WHERE product LIKE &#39;%Rubber%&#39;&quot;</span><span class="o">)</span></code></pre></figure>

  </div>
</div>

<h4 id="limitations-2">Limitations</h4>

<p>The current version of streaming SQL only supports <code>SELECT</code>, <code>FROM</code>, <code>WHERE</code>, and <code>UNION</code> clauses. Aggregations or joins are not supported yet.</p>

<p><a href="#top" class="top pull-right"><span class="glyphicon glyphicon-chevron-up"></span> Back to top</a></p>

<h3 id="sql-syntax">SQL Syntax</h3>

<p>Flink uses <a href="https://calcite.apache.org/docs/reference.html">Apache Calcite</a> for SQL parsing. Currently, Flink SQL only supports query-related SQL syntax and only a subset of the comprehensive SQL standard. The following BNF-grammar describes the supported SQL features:</p>

<div class="highlight"><pre><code>
query:
  values
  | {
      select
      | selectWithoutFrom
      | query UNION [ ALL ] query
      | query EXCEPT query
      | query INTERSECT query
    }
    [ ORDER BY orderItem [, orderItem ]* ]
    [ LIMIT { count | ALL } ]
    [ OFFSET start { ROW | ROWS } ]
    [ FETCH { FIRST | NEXT } [ count ] { ROW | ROWS } ONLY]

orderItem:
  expression [ ASC | DESC ]

select:
  SELECT [ ALL | DISTINCT ]
  { * | projectItem [, projectItem ]* }
  FROM tableExpression
  [ WHERE booleanExpression ]
  [ GROUP BY { groupItem [, groupItem ]* } ]
  [ HAVING booleanExpression ]

selectWithoutFrom:
  SELECT [ ALL | DISTINCT ]
  { * | projectItem [, projectItem ]* }

projectItem:
  expression [ [ AS ] columnAlias ]
  | tableAlias . *

tableExpression:
  tableReference [, tableReference ]*
  | tableExpression [ NATURAL ] [ LEFT | RIGHT | FULL ] JOIN tableExpression [ joinCondition ]

joinCondition:
  ON booleanExpression
  | USING '(' column [, column ]* ')'

tableReference:
  tablePrimary
  [ [ AS ] alias [ '(' columnAlias [, columnAlias ]* ')' ] ]

tablePrimary:
  [ TABLE ] [ [ catalogName . ] schemaName . ] tableName

values:
  VALUES expression [, expression ]*

groupItem:
  expression
  | '(' ')'
  | '(' expression [, expression ]* ')'

</code></pre></div>

<p>For a better definition of SQL queries within a Java String, Flink SQL uses a lexical policy similar to Java:</p>

<ul>
  <li>The case of identifiers is preserved whether or not they are quoted.</li>
  <li>After which, identifiers are matched case-sensitively.</li>
  <li>Unlike Java, back-ticks allow identifiers to contain non-alphanumeric characters (e.g. <code>"SELECT a AS `my field` FROM t"</code>).</li>
</ul>

<p><a href="#top" class="top pull-right"><span class="glyphicon glyphicon-chevron-up"></span> Back to top</a></p>

<h3 id="reserved-keywords">Reserved Keywords</h3>

<p>Although not every SQL feature is implemented yet, some string combinations are already reserved as keywords for future use. If you want to use one of the following strings as a field name, make sure to surround them with backticks (e.g. <code>`value`</code>, <code>`count`</code>).</p>

<figure class="highlight"><pre><code class="language-sql" data-lang="sql"><span class="n">A</span><span class="p">,</span> <span class="k">ABS</span><span class="p">,</span> <span class="k">ABSOLUTE</span><span class="p">,</span> <span class="n">ACTION</span><span class="p">,</span> <span class="k">ADA</span><span class="p">,</span> <span class="k">ADD</span><span class="p">,</span> <span class="k">ADMIN</span><span class="p">,</span> <span class="k">AFTER</span><span class="p">,</span> <span class="k">ALL</span><span class="p">,</span> <span class="k">ALLOCATE</span><span class="p">,</span> <span class="n">ALLOW</span><span class="p">,</span> <span class="k">ALTER</span><span class="p">,</span> <span class="n">ALWAYS</span><span class="p">,</span> <span class="k">AND</span><span class="p">,</span> <span class="k">ANY</span><span class="p">,</span> <span class="k">ARE</span><span class="p">,</span> <span class="nb">ARRAY</span><span class="p">,</span> <span class="k">AS</span><span class="p">,</span> <span class="k">ASC</span><span class="p">,</span> <span class="k">ASENSITIVE</span><span class="p">,</span> <span class="k">ASSERTION</span><span class="p">,</span> <span class="k">ASSIGNMENT</span><span class="p">,</span> <span class="k">ASYMMETRIC</span><span class="p">,</span> <span class="k">AT</span><span class="p">,</span> <span class="k">ATOMIC</span><span class="p">,</span> <span class="n">ATTRIBUTE</span><span class="p">,</span> <span class="n">ATTRIBUTES</span><span class="p">,</span> <span class="k">AUTHORIZATION</span><span class="p">,</span> <span class="k">AVG</span><span class="p">,</span> <span class="k">BEFORE</span><span class="p">,</span> <span class="k">BEGIN</span><span class="p">,</span> <span class="n">BERNOULLI</span><span class="p">,</span> <span class="k">BETWEEN</span><span class="p">,</span> <span class="nb">BIGINT</span><span class="p">,</span> <span class="nb">BINARY</span><span class="p">,</span> <span class="nb">BIT</span><span class="p">,</span> <span class="nb">BLOB</span><span class="p">,</span> <span class="nb">BOOLEAN</span><span class="p">,</span> <span class="k">BOTH</span><span class="p">,</span> <span class="k">BREADTH</span><span class="p">,</span> <span class="k">BY</span><span class="p">,</span> <span class="k">C</span><span class="p">,</span> <span class="k">CALL</span><span class="p">,</span> <span class="k">CALLED</span><span class="p">,</span> <span class="k">CARDINALITY</span><span class="p">,</span> <span class="k">CASCADE</span><span class="p">,</span> <span class="k">CASCADED</span><span class="p">,</span> <span class="k">CASE</span><span class="p">,</span> <span class="k">CAST</span><span class="p">,</span> <span class="k">CATALOG</span><span class="p">,</span> <span class="k">CATALOG_NAME</span><span class="p">,</span> <span class="n">CEIL</span><span class="p">,</span> <span class="n">CEILING</span><span class="p">,</span> <span class="n">CENTURY</span><span class="p">,</span> <span class="k">CHAIN</span><span class="p">,</span> <span class="nb">CHAR</span><span class="p">,</span> <span class="nb">CHARACTER</span><span class="p">,</span> <span class="n">CHARACTERISTICTS</span><span class="p">,</span> <span class="n">CHARACTERS</span><span class="p">,</span> <span class="k">CHARACTER_LENGTH</span><span class="p">,</span> <span class="k">CHARACTER_SET_CATALOG</span><span class="p">,</span> <span class="k">CHARACTER_SET_NAME</span><span class="p">,</span> <span class="k">CHARACTER_SET_SCHEMA</span><span class="p">,</span> <span class="k">CHAR_LENGTH</span><span class="p">,</span> <span class="k">CHECK</span><span class="p">,</span> <span class="k">CLASS_ORIGIN</span><span class="p">,</span> <span class="k">CLOB</span><span class="p">,</span> <span class="k">CLOSE</span><span class="p">,</span> <span class="n">COALESCE</span><span class="p">,</span> <span class="k">COBOL</span><span class="p">,</span> <span class="k">COLLATE</span><span class="p">,</span> <span class="k">COLLATION</span><span class="p">,</span> <span class="k">COLLATION_CATALOG</span><span class="p">,</span> <span class="k">COLLATION_NAME</span><span class="p">,</span> <span class="k">COLLATION_SCHEMA</span><span class="p">,</span> <span class="n">COLLECT</span><span class="p">,</span> <span class="k">COLUMN</span><span class="p">,</span> <span class="k">COLUMN_NAME</span><span class="p">,</span> <span class="k">COMMAND_FUNCTION</span><span class="p">,</span> <span class="k">COMMAND_FUNCTION_CODE</span><span class="p">,</span> <span class="k">COMMIT</span><span class="p">,</span> <span class="k">COMMITTED</span><span class="p">,</span> <span class="n">CONDITION</span><span class="p">,</span> <span class="k">CONDITION_NUMBER</span><span class="p">,</span> <span class="k">CONNECT</span><span class="p">,</span> <span class="k">CONNECTION</span><span class="p">,</span> <span class="k">CONNECTION_NAME</span><span class="p">,</span> <span class="k">CONSTRAINT</span><span class="p">,</span> <span class="k">CONSTRAINTS</span><span class="p">,</span> <span class="k">CONSTRAINT_CATALOG</span><span class="p">,</span> <span class="k">CONSTRAINT_NAME</span><span class="p">,</span> <span class="k">CONSTRAINT_SCHEMA</span><span class="p">,</span> <span class="k">CONSTRUCTOR</span><span class="p">,</span> <span class="k">CONTAINS</span><span class="p">,</span> <span class="k">CONTINUE</span><span class="p">,</span> <span class="k">CONVERT</span><span class="p">,</span> <span class="n">CORR</span><span class="p">,</span> <span class="n">CORRESPONDING</span><span class="p">,</span> <span class="k">COUNT</span><span class="p">,</span> <span class="n">COVAR_POP</span><span class="p">,</span> <span class="n">COVAR_SAMP</span><span class="p">,</span> <span class="k">CREATE</span><span class="p">,</span> <span class="k">CROSS</span><span class="p">,</span> <span class="k">CUBE</span><span class="p">,</span> <span class="n">CUME_DIST</span><span class="p">,</span> <span class="k">CURRENT</span><span class="p">,</span> <span class="n">CURRENT_CATALOG</span><span class="p">,</span> <span class="k">CURRENT_DATE</span><span class="p">,</span> <span class="n">CURRENT_DEFAULT_TRANSFORM_GROUP</span><span class="p">,</span> <span class="k">CURRENT_PATH</span><span class="p">,</span> <span class="k">CURRENT_ROLE</span><span class="p">,</span> <span class="n">CURRENT_SCHEMA</span><span class="p">,</span> <span class="k">CURRENT_TIME</span><span class="p">,</span> <span class="k">CURRENT_TIMESTAMP</span><span class="p">,</span> <span class="n">CURRENT_TRANSFORM_GROUP_FOR_TYPE</span><span class="p">,</span> <span class="k">CURRENT_USER</span><span class="p">,</span> <span class="k">CURSOR</span><span class="p">,</span> <span class="k">CURSOR_NAME</span><span class="p">,</span> <span class="k">CYCLE</span><span class="p">,</span> <span class="k">DATA</span><span class="p">,</span> <span class="k">DATABASE</span><span class="p">,</span> <span class="nb">DATE</span><span class="p">,</span> <span class="k">DATETIME_INTERVAL_CODE</span><span class="p">,</span> <span class="k">DATETIME_INTERVAL_PRECISION</span><span class="p">,</span> <span class="k">DAY</span><span class="p">,</span> <span class="k">DEALLOCATE</span><span class="p">,</span> <span class="nb">DEC</span><span class="p">,</span> <span class="n">DECADE</span><span class="p">,</span> <span class="nb">DECIMAL</span><span class="p">,</span> <span class="k">DECLARE</span><span class="p">,</span> <span class="k">DEFAULT</span><span class="p">,</span> <span class="k">DEFAULTS</span><span class="p">,</span> <span class="k">DEFERRABLE</span><span class="p">,</span> <span class="k">DEFERRED</span><span class="p">,</span> <span class="k">DEFINED</span><span class="p">,</span> <span class="k">DEFINER</span><span class="p">,</span> <span class="n">DEGREE</span><span class="p">,</span> <span class="k">DELETE</span><span class="p">,</span> <span class="n">DENSE_RANK</span><span class="p">,</span> <span class="n">DEPTH</span><span class="p">,</span> <span class="k">DEREF</span><span class="p">,</span> <span class="n">DERIVED</span><span class="p">,</span> <span class="k">DESC</span><span class="p">,</span> <span class="k">DESCRIBE</span><span class="p">,</span> <span class="n">DESCRIPTION</span><span class="p">,</span> <span class="k">DESCRIPTOR</span><span class="p">,</span> <span class="k">DETERMINISTIC</span><span class="p">,</span> <span class="k">DIAGNOSTICS</span><span class="p">,</span> <span class="n">DISALLOW</span><span class="p">,</span> <span class="k">DISCONNECT</span><span class="p">,</span> <span class="k">DISPATCH</span><span class="p">,</span> <span class="k">DISTINCT</span><span class="p">,</span> <span class="k">DOMAIN</span><span class="p">,</span> <span class="n">DOUBLE</span><span class="p">,</span> <span class="n">DOW</span><span class="p">,</span> <span class="n">DOY</span><span class="p">,</span> <span class="k">DROP</span><span class="p">,</span> <span class="k">DYNAMIC</span><span class="p">,</span> <span class="k">DYNAMIC_FUNCTION</span><span class="p">,</span> <span class="k">DYNAMIC_FUNCTION_CODE</span><span class="p">,</span> <span class="k">EACH</span><span class="p">,</span> <span class="n">ELEMENT</span><span class="p">,</span> <span class="k">ELSE</span><span class="p">,</span> <span class="k">END</span><span class="p">,</span> <span class="k">END</span><span class="o">-</span><span class="k">EXEC</span><span class="p">,</span> <span class="n">EPOCH</span><span class="p">,</span> <span class="k">EQUALS</span><span class="p">,</span> <span class="k">ESCAPE</span><span class="p">,</span> <span class="k">EVERY</span><span class="p">,</span> <span class="k">EXCEPT</span><span class="p">,</span> <span class="k">EXCEPTION</span><span class="p">,</span> <span class="n">EXCLUDE</span><span class="p">,</span> <span class="k">EXCLUDING</span><span class="p">,</span> <span class="k">EXEC</span><span class="p">,</span> <span class="k">EXECUTE</span><span class="p">,</span> <span class="k">EXISTS</span><span class="p">,</span> <span class="n">EXP</span><span class="p">,</span> <span class="k">EXPLAIN</span><span class="p">,</span> <span class="n">EXTEND</span><span class="p">,</span> <span class="k">EXTERNAL</span><span class="p">,</span> <span class="k">EXTRACT</span><span class="p">,</span> <span class="k">FALSE</span><span class="p">,</span> <span class="k">FETCH</span><span class="p">,</span> <span class="n">FILTER</span><span class="p">,</span> <span class="k">FINAL</span><span class="p">,</span> <span class="k">FIRST</span><span class="p">,</span> <span class="n">FIRST_VALUE</span><span class="p">,</span> <span class="nb">FLOAT</span><span class="p">,</span> <span class="n">FLOOR</span><span class="p">,</span> <span class="n">FOLLOWING</span><span class="p">,</span> <span class="k">FOR</span><span class="p">,</span> <span class="k">FOREIGN</span><span class="p">,</span> <span class="k">FORTRAN</span><span class="p">,</span> <span class="k">FOUND</span><span class="p">,</span> <span class="n">FRAC_SECOND</span><span class="p">,</span> <span class="k">FREE</span><span class="p">,</span> <span class="k">FROM</span><span class="p">,</span> <span class="k">FULL</span><span class="p">,</span> <span class="k">FUNCTION</span><span class="p">,</span> <span class="n">FUSION</span><span class="p">,</span> <span class="k">G</span><span class="p">,</span> <span class="k">GENERAL</span><span class="p">,</span> <span class="k">GENERATED</span><span class="p">,</span> <span class="k">GET</span><span class="p">,</span> <span class="k">GLOBAL</span><span class="p">,</span> <span class="k">GO</span><span class="p">,</span> <span class="k">GOTO</span><span class="p">,</span> <span class="k">GRANT</span><span class="p">,</span> <span class="k">GRANTED</span><span class="p">,</span> <span class="k">GROUP</span><span class="p">,</span> <span class="k">GROUPING</span><span class="p">,</span> <span class="k">HAVING</span><span class="p">,</span> <span class="k">HIERARCHY</span><span class="p">,</span> <span class="k">HOLD</span><span class="p">,</span> <span class="n">HOUR</span><span class="p">,</span> <span class="k">IDENTITY</span><span class="p">,</span> <span class="k">IMMEDIATE</span><span class="p">,</span> <span class="k">IMPLEMENTATION</span><span class="p">,</span> <span class="n">IMPORT</span><span class="p">,</span> <span class="k">IN</span><span class="p">,</span> <span class="k">INCLUDING</span><span class="p">,</span> <span class="k">INCREMENT</span><span class="p">,</span> <span class="n">INDICATOR</span><span class="p">,</span> <span class="k">INITIALLY</span><span class="p">,</span> <span class="k">INNER</span><span class="p">,</span> <span class="k">INOUT</span><span class="p">,</span> <span class="k">INPUT</span><span class="p">,</span> <span class="k">INSENSITIVE</span><span class="p">,</span> <span class="k">INSERT</span><span class="p">,</span> <span class="n">INSTANCE</span><span class="p">,</span> <span class="k">INSTANTIABLE</span><span class="p">,</span> <span class="nb">INT</span><span class="p">,</span> <span class="nb">INTEGER</span><span class="p">,</span> <span class="k">INTERSECT</span><span class="p">,</span> <span class="n">INTERSECTION</span><span class="p">,</span> <span class="nb">INTERVAL</span><span class="p">,</span> <span class="k">INTO</span><span class="p">,</span> <span class="k">INVOKER</span><span class="p">,</span> <span class="k">IS</span><span class="p">,</span> <span class="k">ISOLATION</span><span class="p">,</span> <span class="n">JAVA</span><span class="p">,</span> <span class="k">JOIN</span><span class="p">,</span> <span class="n">K</span><span class="p">,</span> <span class="k">KEY</span><span class="p">,</span> <span class="k">KEY_MEMBER</span><span class="p">,</span> <span class="k">KEY_TYPE</span><span class="p">,</span> <span class="n">LABEL</span><span class="p">,</span> <span class="k">LANGUAGE</span><span class="p">,</span> <span class="k">LARGE</span><span class="p">,</span> <span class="k">LAST</span><span class="p">,</span> <span class="n">LAST_VALUE</span><span class="p">,</span> <span class="k">LATERAL</span><span class="p">,</span> <span class="k">LEADING</span><span class="p">,</span> <span class="k">LEFT</span><span class="p">,</span> <span class="k">LENGTH</span><span class="p">,</span> <span class="k">LEVEL</span><span class="p">,</span> <span class="n">LIBRARY</span><span class="p">,</span> <span class="k">LIKE</span><span class="p">,</span> <span class="k">LIMIT</span><span class="p">,</span> <span class="n">LN</span><span class="p">,</span> <span class="k">LOCAL</span><span class="p">,</span> <span class="k">LOCALTIME</span><span class="p">,</span> <span class="k">LOCALTIMESTAMP</span><span class="p">,</span> <span class="k">LOCATOR</span><span class="p">,</span> <span class="k">LOWER</span><span class="p">,</span> <span class="n">M</span><span class="p">,</span> <span class="k">MAP</span><span class="p">,</span> <span class="k">MATCH</span><span class="p">,</span> <span class="n">MATCHED</span><span class="p">,</span> <span class="k">MAX</span><span class="p">,</span> <span class="k">MAXVALUE</span><span class="p">,</span> <span class="n">MEMBER</span><span class="p">,</span> <span class="n">MERGE</span><span class="p">,</span> <span class="k">MESSAGE_LENGTH</span><span class="p">,</span> <span class="k">MESSAGE_OCTET_LENGTH</span><span class="p">,</span> <span class="k">MESSAGE_TEXT</span><span class="p">,</span> <span class="k">METHOD</span><span class="p">,</span> <span class="n">MICROSECOND</span><span class="p">,</span> <span class="n">MILLENNIUM</span><span class="p">,</span> <span class="k">MIN</span><span class="p">,</span> <span class="k">MINUTE</span><span class="p">,</span> <span class="k">MINVALUE</span><span class="p">,</span> <span class="k">MOD</span><span class="p">,</span> <span class="k">MODIFIES</span><span class="p">,</span> <span class="n">MODULE</span><span class="p">,</span> <span class="k">MONTH</span><span class="p">,</span> <span class="k">MORE</span><span class="p">,</span> <span class="n">MULTISET</span><span class="p">,</span> <span class="k">MUMPS</span><span class="p">,</span> <span class="n">NAME</span><span class="p">,</span> <span class="k">NAMES</span><span class="p">,</span> <span class="k">NATIONAL</span><span class="p">,</span> <span class="k">NATURAL</span><span class="p">,</span> <span class="k">NCHAR</span><span class="p">,</span> <span class="k">NCLOB</span><span class="p">,</span> <span class="n">NESTING</span><span class="p">,</span> <span class="k">NEW</span><span class="p">,</span> <span class="k">NEXT</span><span class="p">,</span> <span class="k">NO</span><span class="p">,</span> <span class="k">NONE</span><span class="p">,</span> <span class="n">NORMALIZE</span><span class="p">,</span> <span class="n">NORMALIZED</span><span class="p">,</span> <span class="k">NOT</span><span class="p">,</span> <span class="k">NULL</span><span class="p">,</span> <span class="k">NULLABLE</span><span class="p">,</span> <span class="k">NULLIF</span><span class="p">,</span> <span class="n">NULLS</span><span class="p">,</span> <span class="nb">NUMBER</span><span class="p">,</span> <span class="nb">NUMERIC</span><span class="p">,</span> <span class="k">OBJECT</span><span class="p">,</span> <span class="n">OCTETS</span><span class="p">,</span> <span class="k">OCTET_LENGTH</span><span class="p">,</span> <span class="k">OF</span><span class="p">,</span> <span class="k">OFFSET</span><span class="p">,</span> <span class="k">OLD</span><span class="p">,</span> <span class="k">ON</span><span class="p">,</span> <span class="k">ONLY</span><span class="p">,</span> <span class="k">OPEN</span><span class="p">,</span> <span class="k">OPTION</span><span class="p">,</span> <span class="k">OPTIONS</span><span class="p">,</span> <span class="k">OR</span><span class="p">,</span> <span class="k">ORDER</span><span class="p">,</span> <span class="n">ORDERING</span><span class="p">,</span> <span class="k">ORDINALITY</span><span class="p">,</span> <span class="n">OTHERS</span><span class="p">,</span> <span class="k">OUT</span><span class="p">,</span> <span class="k">OUTER</span><span class="p">,</span> <span class="k">OUTPUT</span><span class="p">,</span> <span class="n">OVER</span><span class="p">,</span> <span class="k">OVERLAPS</span><span class="p">,</span> <span class="k">OVERLAY</span><span class="p">,</span> <span class="k">OVERRIDING</span><span class="p">,</span> <span class="k">PAD</span><span class="p">,</span> <span class="k">PARAMETER</span><span class="p">,</span> <span class="k">PARAMETER_MODE</span><span class="p">,</span> <span class="n">PARAMETER_NAME</span><span class="p">,</span> <span class="n">PARAMETER_ORDINAL_POSITION</span><span class="p">,</span> <span class="k">PARAMETER_SPECIFIC_CATALOG</span><span class="p">,</span> <span class="k">PARAMETER_SPECIFIC_NAME</span><span class="p">,</span> <span class="n">PARAMETER_SPECIFIC_SCHEMA</span><span class="p">,</span> <span class="k">PARTIAL</span><span class="p">,</span> <span class="n">PARTITION</span><span class="p">,</span> <span class="k">PASCAL</span><span class="p">,</span> <span class="n">PASSTHROUGH</span><span class="p">,</span> <span class="n">PATH</span><span class="p">,</span> <span class="n">PERCENTILE_CONT</span><span class="p">,</span> <span class="n">PERCENTILE_DISC</span><span class="p">,</span> <span class="n">PERCENT_RANK</span><span class="p">,</span> <span class="k">PLACING</span><span class="p">,</span> <span class="n">PLAN</span><span class="p">,</span> <span class="k">PLI</span><span class="p">,</span> <span class="k">POSITION</span><span class="p">,</span> <span class="n">POWER</span><span class="p">,</span> <span class="n">PRECEDING</span><span class="p">,</span> <span class="k">PRECISION</span><span class="p">,</span> <span class="k">PREPARE</span><span class="p">,</span> <span class="k">PRESERVE</span><span class="p">,</span> <span class="k">PRIMARY</span><span class="p">,</span> <span class="k">PRIOR</span><span class="p">,</span> <span class="k">PRIVILEGES</span><span class="p">,</span> <span class="k">PROCEDURE</span><span class="p">,</span> <span class="k">PUBLIC</span><span class="p">,</span> <span class="n">QUARTER</span><span class="p">,</span> <span class="n">RANGE</span><span class="p">,</span> <span class="n">RANK</span><span class="p">,</span> <span class="k">READ</span><span class="p">,</span> <span class="k">READS</span><span class="p">,</span> <span class="nb">REAL</span><span class="p">,</span> <span class="k">RECURSIVE</span><span class="p">,</span> <span class="k">REF</span><span class="p">,</span> <span class="k">REFERENCES</span><span class="p">,</span> <span class="k">REFERENCING</span><span class="p">,</span> <span class="n">REGR_AVGX</span><span class="p">,</span> <span class="n">REGR_AVGY</span><span class="p">,</span> <span class="n">REGR_COUNT</span><span class="p">,</span> <span class="n">REGR_INTERCEPT</span><span class="p">,</span> <span class="n">REGR_R2</span><span class="p">,</span> <span class="n">REGR_SLOPE</span><span class="p">,</span> <span class="n">REGR_SXX</span><span class="p">,</span> <span class="n">REGR_SXY</span><span class="p">,</span> <span class="n">REGR_SYY</span><span class="p">,</span> <span class="k">RELATIVE</span><span class="p">,</span> <span class="n">RELEASE</span><span class="p">,</span> <span class="k">REPEATABLE</span><span class="p">,</span> <span class="k">RESET</span><span class="p">,</span> <span class="k">RESTART</span><span class="p">,</span> <span class="k">RESTRICT</span><span class="p">,</span> <span class="k">RESULT</span><span class="p">,</span> <span class="k">RETURN</span><span class="p">,</span> <span class="n">RETURNED_CARDINALITY</span><span class="p">,</span> <span class="k">RETURNED_LENGTH</span><span class="p">,</span> <span class="k">RETURNED_OCTET_LENGTH</span><span class="p">,</span> <span class="k">RETURNED_SQLSTATE</span><span class="p">,</span> <span class="k">RETURNS</span><span class="p">,</span> <span class="k">REVOKE</span><span class="p">,</span> <span class="k">RIGHT</span><span class="p">,</span> <span class="k">ROLE</span><span class="p">,</span> <span class="k">ROLLBACK</span><span class="p">,</span> <span class="k">ROLLUP</span><span class="p">,</span> <span class="k">ROUTINE</span><span class="p">,</span> <span class="k">ROUTINE_CATALOG</span><span class="p">,</span> <span class="k">ROUTINE_NAME</span><span class="p">,</span> <span class="k">ROUTINE_SCHEMA</span><span class="p">,</span> <span class="k">ROW</span><span class="p">,</span> <span class="k">ROWS</span><span class="p">,</span> <span class="k">ROW_COUNT</span><span class="p">,</span> <span class="n">ROW_NUMBER</span><span class="p">,</span> <span class="n">SAVEPOINT</span><span class="p">,</span> <span class="k">SCALE</span><span class="p">,</span> <span class="k">SCHEMA</span><span class="p">,</span> <span class="k">SCHEMA_NAME</span><span class="p">,</span> <span class="k">SCOPE</span><span class="p">,</span> <span class="n">SCOPE_CATALOGS</span><span class="p">,</span> <span class="n">SCOPE_NAME</span><span class="p">,</span> <span class="n">SCOPE_SCHEMA</span><span class="p">,</span> <span class="k">SCROLL</span><span class="p">,</span> <span class="k">SEARCH</span><span class="p">,</span> <span class="k">SECOND</span><span class="p">,</span> <span class="n">SECTION</span><span class="p">,</span> <span class="k">SECURITY</span><span class="p">,</span> <span class="k">SELECT</span><span class="p">,</span> <span class="k">SELF</span><span class="p">,</span> <span class="k">SENSITIVE</span><span class="p">,</span> <span class="n">SEQUENCE</span><span class="p">,</span> <span class="k">SERIALIZABLE</span><span class="p">,</span> <span class="n">SERVER</span><span class="p">,</span> <span class="k">SERVER_NAME</span><span class="p">,</span> <span class="k">SESSION</span><span class="p">,</span> <span class="k">SESSION_USER</span><span class="p">,</span> <span class="k">SET</span><span class="p">,</span> <span class="k">SETS</span><span class="p">,</span> <span class="k">SIMILAR</span><span class="p">,</span> <span class="k">SIMPLE</span><span class="p">,</span> <span class="k">SIZE</span><span class="p">,</span> <span class="nb">SMALLINT</span><span class="p">,</span> <span class="k">SOME</span><span class="p">,</span> <span class="k">SOURCE</span><span class="p">,</span> <span class="k">SPACE</span><span class="p">,</span> <span class="k">SPECIFIC</span><span class="p">,</span> <span class="k">SPECIFICTYPE</span><span class="p">,</span> <span class="k">SPECIFIC_NAME</span><span class="p">,</span> <span class="k">SQL</span><span class="p">,</span> <span class="k">SQLEXCEPTION</span><span class="p">,</span> <span class="k">SQLSTATE</span><span class="p">,</span> <span class="n">SQLWARNING</span><span class="p">,</span> <span class="n">SQL_TSI_DAY</span><span class="p">,</span> <span class="n">SQL_TSI_FRAC_SECOND</span><span class="p">,</span> <span class="n">SQL_TSI_HOUR</span><span class="p">,</span> <span class="n">SQL_TSI_MICROSECOND</span><span class="p">,</span> <span class="n">SQL_TSI_MINUTE</span><span class="p">,</span> <span class="n">SQL_TSI_MONTH</span><span class="p">,</span> <span class="n">SQL_TSI_QUARTER</span><span class="p">,</span> <span class="n">SQL_TSI_SECOND</span><span class="p">,</span> <span class="n">SQL_TSI_WEEK</span><span class="p">,</span> <span class="n">SQL_TSI_YEAR</span><span class="p">,</span> <span class="n">SQRT</span><span class="p">,</span> <span class="k">START</span><span class="p">,</span> <span class="k">STATE</span><span class="p">,</span> <span class="k">STATEMENT</span><span class="p">,</span> <span class="k">STATIC</span><span class="p">,</span> <span class="n">STDDEV_POP</span><span class="p">,</span> <span class="n">STDDEV_SAMP</span><span class="p">,</span> <span class="n">STREAM</span><span class="p">,</span> <span class="k">STRUCTURE</span><span class="p">,</span> <span class="n">STYLE</span><span class="p">,</span> <span class="k">SUBCLASS_ORIGIN</span><span class="p">,</span> <span class="n">SUBMULTISET</span><span class="p">,</span> <span class="n">SUBSTITUTE</span><span class="p">,</span> <span class="k">SUBSTRING</span><span class="p">,</span> <span class="k">SUM</span><span class="p">,</span> <span class="k">SYMMETRIC</span><span class="p">,</span> <span class="k">SYSTEM</span><span class="p">,</span> <span class="k">SYSTEM_USER</span><span class="p">,</span> <span class="k">TABLE</span><span class="p">,</span> <span class="n">TABLESAMPLE</span><span class="p">,</span> <span class="k">TABLE_NAME</span><span class="p">,</span> <span class="k">TEMPORARY</span><span class="p">,</span> <span class="k">THEN</span><span class="p">,</span> <span class="n">TIES</span><span class="p">,</span> <span class="n">TIME</span><span class="p">,</span> <span class="k">TIMESTAMP</span><span class="p">,</span> <span class="n">TIMESTAMPADD</span><span class="p">,</span> <span class="n">TIMESTAMPDIFF</span><span class="p">,</span> <span class="k">TIMEZONE_HOUR</span><span class="p">,</span> <span class="k">TIMEZONE_MINUTE</span><span class="p">,</span> <span class="n">TINYINT</span><span class="p">,</span> <span class="k">TO</span><span class="p">,</span> <span class="n">TOP_LEVEL_COUNT</span><span class="p">,</span> <span class="k">TRAILING</span><span class="p">,</span> <span class="n">TRANSACTION</span><span class="p">,</span> <span class="n">TRANSACTIONS_ACTIVE</span><span class="p">,</span> <span class="k">TRANSACTIONS_COMMITTED</span><span class="p">,</span> <span class="k">TRANSACTIONS_ROLLED_BACK</span><span class="p">,</span> <span class="k">TRANSFORM</span><span class="p">,</span> <span class="k">TRANSFORMS</span><span class="p">,</span> <span class="k">TRANSLATE</span><span class="p">,</span> <span class="k">TRANSLATION</span><span class="p">,</span> <span class="k">TREAT</span><span class="p">,</span> <span class="k">TRIGGER</span><span class="p">,</span> <span class="k">TRIGGER_CATALOG</span><span class="p">,</span> <span class="k">TRIGGER_NAME</span><span class="p">,</span> <span class="k">TRIGGER_SCHEMA</span><span class="p">,</span> <span class="k">TRIM</span><span class="p">,</span> <span class="k">TRUE</span><span class="p">,</span> <span class="k">TYPE</span><span class="p">,</span> <span class="n">UESCAPE</span><span class="p">,</span> <span class="n">UNBOUNDED</span><span class="p">,</span> <span class="k">UNCOMMITTED</span><span class="p">,</span> <span class="k">UNDER</span><span class="p">,</span> <span class="k">UNION</span><span class="p">,</span> <span class="k">UNIQUE</span><span class="p">,</span> <span class="k">UNKNOWN</span><span class="p">,</span> <span class="k">UNNAMED</span><span class="p">,</span> <span class="k">UNNEST</span><span class="p">,</span> <span class="k">UPDATE</span><span class="p">,</span> <span class="k">UPPER</span><span class="p">,</span> <span class="n">UPSERT</span><span class="p">,</span> <span class="k">USAGE</span><span class="p">,</span> <span class="k">USER</span><span class="p">,</span> <span class="k">USER_DEFINED_TYPE_CATALOG</span><span class="p">,</span> <span class="n">USER_DEFINED_TYPE_CODE</span><span class="p">,</span> <span class="k">USER_DEFINED_TYPE_NAME</span><span class="p">,</span> <span class="k">USER_DEFINED_TYPE_SCHEMA</span><span class="p">,</span> <span class="k">USING</span><span class="p">,</span> <span class="n">VALUE</span><span class="p">,</span> <span class="k">VALUES</span><span class="p">,</span> <span class="n">VARBINARY</span><span class="p">,</span> <span class="nb">VARCHAR</span><span class="p">,</span> <span class="nb">VARYING</span><span class="p">,</span> <span class="n">VAR_POP</span><span class="p">,</span> <span class="n">VAR_SAMP</span><span class="p">,</span> <span class="k">VERSION</span><span class="p">,</span> <span class="k">VIEW</span><span class="p">,</span> <span class="n">WEEK</span><span class="p">,</span> <span class="k">WHEN</span><span class="p">,</span> <span class="k">WHENEVER</span><span class="p">,</span> <span class="k">WHERE</span><span class="p">,</span> <span class="n">WIDTH_BUCKET</span><span class="p">,</span> <span class="n">WINDOW</span><span class="p">,</span> <span class="k">WITH</span><span class="p">,</span> <span class="n">WITHIN</span><span class="p">,</span> <span class="k">WITHOUT</span><span class="p">,</span> <span class="k">WORK</span><span class="p">,</span> <span class="n">WRAPPER</span><span class="p">,</span> <span class="k">WRITE</span><span class="p">,</span> <span class="n">XML</span><span class="p">,</span> <span class="k">YEAR</span><span class="p">,</span> <span class="k">ZONE</span></code></pre></figure>

<p><a href="#top" class="top pull-right"><span class="glyphicon glyphicon-chevron-up"></span> Back to top</a></p>

<h2 id="data-types">Data Types</h2>

<p>The Table API is built on top of Flink’s DataSet and DataStream API. Internally, it also uses Flink’s <code>TypeInformation</code> to distinguish between types. The Table API does not support all Flink types so far. All supported simple types are listed in <code>org.apache.flink.api.table.Types</code>. The following table summarizes the relation between Table API types, SQL types, and the resulting Java class.</p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Table API</th>
      <th style="text-align: left">SQL</th>
      <th style="text-align: left">Java type</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code>Types.STRING</code></td>
      <td style="text-align: left"><code>VARCHAR</code></td>
      <td style="text-align: left"><code>java.lang.String</code></td>
    </tr>
    <tr>
      <td style="text-align: left"><code>Types.BOOLEAN</code></td>
      <td style="text-align: left"><code>BOOLEAN</code></td>
      <td style="text-align: left"><code>java.lang.Boolean</code></td>
    </tr>
    <tr>
      <td style="text-align: left"><code>Types.BYTE</code></td>
      <td style="text-align: left"><code>TINYINT</code></td>
      <td style="text-align: left"><code>java.lang.Byte</code></td>
    </tr>
    <tr>
      <td style="text-align: left"><code>Types.SHORT</code></td>
      <td style="text-align: left"><code>SMALLINT</code></td>
      <td style="text-align: left"><code>java.lang.Short</code></td>
    </tr>
    <tr>
      <td style="text-align: left"><code>Types.INT</code></td>
      <td style="text-align: left"><code>INTEGER, INT</code></td>
      <td style="text-align: left"><code>java.lang.Integer</code></td>
    </tr>
    <tr>
      <td style="text-align: left"><code>Types.LONG</code></td>
      <td style="text-align: left"><code>BIGINT</code></td>
      <td style="text-align: left"><code>java.lang.Long</code></td>
    </tr>
    <tr>
      <td style="text-align: left"><code>Types.FLOAT</code></td>
      <td style="text-align: left"><code>REAL, FLOAT</code></td>
      <td style="text-align: left"><code>java.lang.Float</code></td>
    </tr>
    <tr>
      <td style="text-align: left"><code>Types.DOUBLE</code></td>
      <td style="text-align: left"><code>DOUBLE</code></td>
      <td style="text-align: left"><code>java.lang.Double</code></td>
    </tr>
    <tr>
      <td style="text-align: left"><code>Types.DECIMAL</code></td>
      <td style="text-align: left"><code>DECIMAL</code></td>
      <td style="text-align: left"><code>java.math.BigDecimal</code></td>
    </tr>
    <tr>
      <td style="text-align: left"><code>Types.DATE</code></td>
      <td style="text-align: left"><code>DATE</code></td>
      <td style="text-align: left"><code>java.sql.Date</code></td>
    </tr>
    <tr>
      <td style="text-align: left"><code>Types.TIME</code></td>
      <td style="text-align: left"><code>TIME</code></td>
      <td style="text-align: left"><code>java.sql.Time</code></td>
    </tr>
    <tr>
      <td style="text-align: left"><code>Types.TIMESTAMP</code></td>
      <td style="text-align: left"><code>TIMESTAMP(3)</code></td>
      <td style="text-align: left"><code>java.sql.Timestamp</code></td>
    </tr>
    <tr>
      <td style="text-align: left"><code>Types.INTERVAL_MONTHS</code></td>
      <td style="text-align: left"><code>INTERVAL YEAR TO MONTH</code></td>
      <td style="text-align: left"><code>java.lang.Integer</code></td>
    </tr>
    <tr>
      <td style="text-align: left"><code>Types.INTERVAL_MILLIS</code></td>
      <td style="text-align: left"><code>INTERVAL DAY TO SECOND(3)</code></td>
      <td style="text-align: left"><code>java.lang.Long</code></td>
    </tr>
  </tbody>
</table>

<p>Advanced types such as generic types, composite types (e.g. POJOs or Tuples), and arrays can be fields of a row but can not be accessed yet. They are treated like a black box within Table API and SQL.</p>

<p><a href="#top" class="top pull-right"><span class="glyphicon glyphicon-chevron-up"></span> Back to top</a></p>

<h2 id="built-in-functions">Built-in Functions</h2>

<p>Both the Table API and SQL come with a set of built-in functions for data transformations. This section gives a brief overview of the available functions so far.</p>

<div class="codetabs">
  <div data-lang="java">

    <table class="table table-bordered">
  <thead>
    <tr>
      <th class="text-left" style="width: 40%">Function</th>
      <th class="text-center">Description</th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">ANY</span><span class="o">.</span><span class="na">isNull</span></code></pre></figure>

      </td>
      <td>
        <p>Returns true if the given expression is null.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">ANY</span><span class="o">.</span><span class="na">isNotNull</span></code></pre></figure>

      </td>
      <td>
        <p>Returns true if the given expression is not null.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">BOOLEAN</span><span class="o">.</span><span class="na">isTrue</span></code></pre></figure>

      </td>
      <td>
        <p>Returns true if the given boolean expression is true. False otherwise (for null and false).</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">BOOLEAN</span><span class="o">.</span><span class="na">isFalse</span></code></pre></figure>

      </td>
      <td>
        <p>Returns true if given boolean expression is false. False otherwise (for null and true).</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">BOOLEAN</span><span class="o">.</span><span class="na">isNotTrue</span></code></pre></figure>

      </td>
      <td>
        <p>Returns true if the given boolean expression is not true (for null and false). False otherwise.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">BOOLEAN</span><span class="o">.</span><span class="na">isNotFalse</span></code></pre></figure>

      </td>
      <td>
        <p>Returns true if given boolean expression is not false (for null and true). False otherwise.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">NUMERIC</span><span class="o">.</span><span class="na">exp</span><span class="o">()</span></code></pre></figure>

      </td>
      <td>
        <p>Calculates the Euler's number raised to the given power.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">NUMERIC</span><span class="o">.</span><span class="na">log10</span><span class="o">()</span></code></pre></figure>

      </td>
      <td>
        <p>Calculates the base 10 logarithm of given value.</p>
      </td>
    </tr>


    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">NUMERIC</span><span class="o">.</span><span class="na">ln</span><span class="o">()</span></code></pre></figure>

      </td>
      <td>
        <p>Calculates the natural logarithm of given value.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">NUMERIC</span><span class="o">.</span><span class="na">power</span><span class="o">(</span><span class="n">NUMERIC</span><span class="o">)</span></code></pre></figure>

      </td>
      <td>
        <p>Calculates the given number raised to the power of the other value.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">NUMERIC</span><span class="o">.</span><span class="na">sqrt</span><span class="o">()</span></code></pre></figure>

      </td>
      <td>
        <p>Calculates the square root of a given value.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">NUMERIC</span><span class="o">.</span><span class="na">abs</span><span class="o">()</span></code></pre></figure>

      </td>
      <td>
        <p>Calculates the absolute value of given value.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">NUMERIC</span><span class="o">.</span><span class="na">floor</span><span class="o">()</span></code></pre></figure>

      </td>
      <td>
        <p>Calculates the largest integer less than or equal to a given number.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">NUMERIC</span><span class="o">.</span><span class="na">ceil</span><span class="o">()</span></code></pre></figure>

      </td>
      <td>
        <p>Calculates the smallest integer greater than or equal to a given number.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">STRING</span><span class="o">.</span><span class="na">substring</span><span class="o">(</span><span class="n">INT</span><span class="o">,</span> <span class="n">INT</span><span class="o">)</span></code></pre></figure>

      </td>
      <td>
        <p>Creates a substring of the given string at the given index for the given length. The index starts at 1 and is inclusive, i.e., the character at the index is included in the substring. The substring has the specified length or less.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">STRING</span><span class="o">.</span><span class="na">substring</span><span class="o">(</span><span class="n">INT</span><span class="o">)</span></code></pre></figure>

      </td>
      <td>
        <p>Creates a substring of the given string beginning at the given index to the end. The start index starts at 1 and is inclusive.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">STRING</span><span class="o">.</span><span class="na">trim</span><span class="o">(</span><span class="n">LEADING</span><span class="o">,</span> <span class="n">STRING</span><span class="o">)</span>
<span class="n">STRING</span><span class="o">.</span><span class="na">trim</span><span class="o">(</span><span class="n">TRAILING</span><span class="o">,</span> <span class="n">STRING</span><span class="o">)</span>
<span class="n">STRING</span><span class="o">.</span><span class="na">trim</span><span class="o">(</span><span class="n">BOTH</span><span class="o">,</span> <span class="n">STRING</span><span class="o">)</span>
<span class="n">STRING</span><span class="o">.</span><span class="na">trim</span><span class="o">(</span><span class="n">BOTH</span><span class="o">)</span>
<span class="n">STRING</span><span class="o">.</span><span class="na">trim</span><span class="o">()</span></code></pre></figure>

      </td>
      <td>
        <p>Removes leading and/or trailing characters from the given string. By default, whitespaces at both sides are removed.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">STRING</span><span class="o">.</span><span class="na">charLength</span><span class="o">()</span></code></pre></figure>

      </td>
      <td>
        <p>Returns the length of a String.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">STRING</span><span class="o">.</span><span class="na">upperCase</span><span class="o">()</span></code></pre></figure>

      </td>
      <td>
        <p>Returns all of the characters in a string in upper case using the rules of the default locale.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">STRING</span><span class="o">.</span><span class="na">lowerCase</span><span class="o">()</span></code></pre></figure>

      </td>
      <td>
        <p>Returns all of the characters in a string in lower case using the rules of the default locale.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">STRING</span><span class="o">.</span><span class="na">initCap</span><span class="o">()</span></code></pre></figure>

      </td>

      <td>
        <p>Converts the initial letter of each word in a string to uppercase. Assumes a string containing only [A-Za-z0-9], everything else is treated as whitespace.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">STRING</span><span class="o">.</span><span class="na">like</span><span class="o">(</span><span class="n">STRING</span><span class="o">)</span></code></pre></figure>

      </td>
      <td>
        <p>Returns true, if a string matches the specified LIKE pattern. E.g. "Jo_n%" matches all strings that start with "Jo(arbitrary letter)n".</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">STRING</span><span class="o">.</span><span class="na">similar</span><span class="o">(</span><span class="n">STRING</span><span class="o">)</span></code></pre></figure>

      </td>
      <td>
        <p>Returns true, if a string matches the specified SQL regex pattern. E.g. "A+" matches all strings that consist of at least one "A".</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">STRING</span><span class="o">.</span><span class="na">position</span><span class="o">(</span><span class="n">STRING</span><span class="o">)</span></code></pre></figure>

      </td>
      <td>
        <p>Returns the position of string in an other string starting at 1. Returns 0 if string could not be found. E.g. <code>'a'.position('bbbbba')</code> leads to 6.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">STRING</span><span class="o">.</span><span class="na">overlay</span><span class="o">(</span><span class="n">STRING</span><span class="o">,</span> <span class="n">INT</span><span class="o">)</span>
<span class="n">STRING</span><span class="o">.</span><span class="na">overlay</span><span class="o">(</span><span class="n">STRING</span><span class="o">,</span> <span class="n">INT</span><span class="o">,</span> <span class="n">INT</span><span class="o">)</span></code></pre></figure>

      </td>
      <td>
        <p>Replaces a substring of string with a string starting at a position (starting at 1). An optional length specifies how many characters should be removed. E.g. <code>'xxxxxtest'.overlay('xxxx', 6)</code> leads to "xxxxxxxxx", <code>'xxxxxtest'.overlay('xxxx', 6, 2)</code> leads to "xxxxxxxxxst".</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">STRING</span><span class="o">.</span><span class="na">toDate</span><span class="o">()</span></code></pre></figure>

      </td>
      <td>
        <p>Parses a date string in the form "yy-mm-dd" to a SQL date.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">STRING</span><span class="o">.</span><span class="na">toTime</span><span class="o">()</span></code></pre></figure>

      </td>
      <td>
        <p>Parses a time string in the form "hh:mm:ss" to a SQL time.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">STRING</span><span class="o">.</span><span class="na">toTimestamp</span><span class="o">()</span></code></pre></figure>

      </td>
      <td>
        <p>Parses a timestamp string in the form "yy-mm-dd hh:mm:ss.fff" to a SQL timestamp.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">NUMERIC</span><span class="o">.</span><span class="na">year</span></code></pre></figure>

      </td>
      <td>
        <p>Creates an interval of months for a given number of years.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">NUMERIC</span><span class="o">.</span><span class="na">month</span></code></pre></figure>

      </td>
      <td>
        <p>Creates an interval of months for a given number of months.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">NUMERIC</span><span class="o">.</span><span class="na">day</span></code></pre></figure>

      </td>
      <td>
        <p>Creates an interval of milliseconds for a given number of days.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">NUMERIC</span><span class="o">.</span><span class="na">hour</span></code></pre></figure>

      </td>
      <td>
        <p>Creates an interval of milliseconds for a given number of hours.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">NUMERIC</span><span class="o">.</span><span class="na">minute</span></code></pre></figure>

      </td>
      <td>
        <p>Creates an interval of milliseconds for a given number of minutes.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">NUMERIC</span><span class="o">.</span><span class="na">second</span></code></pre></figure>

      </td>
      <td>
        <p>Creates an interval of milliseconds for a given number of seconds.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">NUMERIC</span><span class="o">.</span><span class="na">milli</span></code></pre></figure>

      </td>
      <td>
        <p>Creates an interval of milliseconds.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">TEMPORAL</span><span class="o">.</span><span class="na">extract</span><span class="o">(</span><span class="n">TIMEINTERVALUNIT</span><span class="o">)</span></code></pre></figure>

      </td>
      <td>
        <p>Extracts parts of a time point or time interval. Returns the part as a long value. E.g. <code>'2006-06-05'.toDate.extract(DAY)</code> leads to 5.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">DATE</span><span class="o">.</span><span class="na">quarter</span><span class="o">()</span></code></pre></figure>

      </td>
      <td>
        <p>Returns the quarter of a year from a SQL date. E.g. <code>'1994-09-27'.toDate.quarter()</code> leads to 3.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">TIMEPOINT</span><span class="o">.</span><span class="na">floor</span><span class="o">(</span><span class="n">TIMEINTERVALUNIT</span><span class="o">)</span></code></pre></figure>

      </td>
      <td>
        <p>Rounds a time point down to the given unit. E.g. <code>'12:44:31'.toDate.floor(MINUTE)</code> leads to 12:44:00.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">TIMEPOINT</span><span class="o">.</span><span class="na">ceil</span><span class="o">(</span><span class="n">TIMEINTERVALUNIT</span><span class="o">)</span></code></pre></figure>

      </td>
      <td>
        <p>Rounds a time point up to the given unit. E.g. <code>'12:44:31'.toTime.floor(MINUTE)</code> leads to 12:45:00.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">currentDate</span><span class="o">()</span></code></pre></figure>

      </td>
      <td>
        <p>Returns the current SQL date in UTC time zone.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">currentTime</span><span class="o">()</span></code></pre></figure>

      </td>
      <td>
        <p>Returns the current SQL time in UTC time zone.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">currentTimestamp</span><span class="o">()</span></code></pre></figure>

      </td>
      <td>
        <p>Returns the current SQL timestamp in UTC time zone.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">localTime</span><span class="o">()</span></code></pre></figure>

      </td>
      <td>
        <p>Returns the current SQL time in local time zone.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">localTimestamp</span><span class="o">()</span></code></pre></figure>

      </td>
      <td>
        <p>Returns the current SQL timestamp in local time zone.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">temporalOverlaps</span><span class="o">(</span><span class="n">TIMEPOINT</span><span class="o">,</span> <span class="n">TEMPORAL</span><span class="o">,</span> <span class="n">TIMEPOINT</span><span class="o">,</span> <span class="n">TEMPORAL</span><span class="o">)</span></code></pre></figure>

      </td>
      <td>
        <p>Determines whether two anchored time intervals overlap. Time point and temporal are transformed into a range defined by two time points (start, end). The function evaluates <code>leftEnd &gt;= rightStart &amp;&amp; rightEnd &gt;= leftStart</code>. E.g. <code>temporalOverlaps("2:55:00".toTime, 1.hour, "3:30:00".toTime, 2.hour)</code> leads to true.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">NUMERIC</span><span class="o">.</span><span class="na">rows</span></code></pre></figure>

      </td>
      <td>
        <p>Creates an interval of rows.</p>
      </td>
    </tr>

  </tbody>
</table>

  </div>
  <div data-lang="scala">

    <table class="table table-bordered">
  <thead>
    <tr>
      <th class="text-left" style="width: 40%">Function</th>
      <th class="text-center">Description</th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="nc">ANY</span><span class="o">.</span><span class="n">isNull</span></code></pre></figure>

      </td>
      <td>
        <p>Returns true if the given expression is null.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="nc">ANY</span><span class="o">.</span><span class="n">isNotNull</span></code></pre></figure>

      </td>
      <td>
        <p>Returns true if the given expression is not null.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="nc">BOOLEAN</span><span class="o">.</span><span class="n">isTrue</span></code></pre></figure>

      </td>
      <td>
        <p>Returns true if the given boolean expression is true. False otherwise (for null and false).</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="nc">BOOLEAN</span><span class="o">.</span><span class="n">isFalse</span></code></pre></figure>

      </td>
      <td>
        <p>Returns true if given boolean expression is false. False otherwise (for null and true).</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="nc">BOOLEAN</span><span class="o">.</span><span class="n">isNotTrue</span></code></pre></figure>

      </td>
      <td>
        <p>Returns true if the given boolean expression is not true (for null and false). False otherwise.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="nc">BOOLEAN</span><span class="o">.</span><span class="n">isNotFalse</span></code></pre></figure>

      </td>
      <td>
        <p>Returns true if given boolean expression is not false (for null and true). False otherwise.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="nc">NUMERIC</span><span class="o">.</span><span class="n">exp</span><span class="o">()</span></code></pre></figure>

      </td>
      <td>
        <p>Calculates the Euler's number raised to the given power.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="nc">NUMERIC</span><span class="o">.</span><span class="n">log10</span><span class="o">()</span></code></pre></figure>

      </td>
      <td>
        <p>Calculates the base 10 logarithm of given value.</p>
      </td>
    </tr>


    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="nc">NUMERIC</span><span class="o">.</span><span class="n">ln</span><span class="o">()</span></code></pre></figure>

      </td>
      <td>
        <p>Calculates the natural logarithm of given value.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="nc">NUMERIC</span><span class="o">.</span><span class="n">power</span><span class="o">(</span><span class="nc">NUMERIC</span><span class="o">)</span></code></pre></figure>

      </td>
      <td>
        <p>Calculates the given number raised to the power of the other value.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="nc">NUMERIC</span><span class="o">.</span><span class="n">sqrt</span><span class="o">()</span></code></pre></figure>

      </td>
      <td>
        <p>Calculates the square root of a given value.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="nc">NUMERIC</span><span class="o">.</span><span class="n">abs</span><span class="o">()</span></code></pre></figure>

      </td>
      <td>
        <p>Calculates the absolute value of given value.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="nc">NUMERIC</span><span class="o">.</span><span class="n">floor</span><span class="o">()</span></code></pre></figure>

      </td>
      <td>
        <p>Calculates the largest integer less than or equal to a given number.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="nc">NUMERIC</span><span class="o">.</span><span class="n">ceil</span><span class="o">()</span></code></pre></figure>

      </td>
      <td>
        <p>Calculates the smallest integer greater than or equal to a given number.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="nc">STRING</span><span class="o">.</span><span class="n">substring</span><span class="o">(</span><span class="nc">INT</span><span class="o">,</span> <span class="nc">INT</span><span class="o">)</span></code></pre></figure>

      </td>
      <td>
        <p>Creates a substring of the given string at the given index for the given length. The index starts at 1 and is inclusive, i.e., the character at the index is included in the substring. The substring has the specified length or less.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="nc">STRING</span><span class="o">.</span><span class="n">substring</span><span class="o">(</span><span class="nc">INT</span><span class="o">)</span></code></pre></figure>

      </td>
      <td>
        <p>Creates a substring of the given string beginning at the given index to the end. The start index starts at 1 and is inclusive.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="nc">STRING</span><span class="o">.</span><span class="n">trim</span><span class="o">(</span>
  <span class="n">leading</span> <span class="k">=</span> <span class="kc">true</span><span class="o">,</span>
  <span class="n">trailing</span> <span class="k">=</span> <span class="kc">true</span><span class="o">,</span>
  <span class="n">character</span> <span class="k">=</span> <span class="s">&quot; &quot;</span><span class="o">)</span></code></pre></figure>

      </td>
      <td>
        <p>Removes leading and/or trailing characters from the given string.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="nc">STRING</span><span class="o">.</span><span class="n">charLength</span><span class="o">()</span></code></pre></figure>

      </td>
      <td>
        <p>Returns the length of a String.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="nc">STRING</span><span class="o">.</span><span class="n">upperCase</span><span class="o">()</span></code></pre></figure>

      </td>
      <td>
        <p>Returns all of the characters in a string in upper case using the rules of the default locale.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="nc">STRING</span><span class="o">.</span><span class="n">lowerCase</span><span class="o">()</span></code></pre></figure>

      </td>
      <td>
        <p>Returns all of the characters in a string in lower case using the rules of the default locale.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="nc">STRING</span><span class="o">.</span><span class="n">initCap</span><span class="o">()</span></code></pre></figure>

      </td>

      <td>
        <p>Converts the initial letter of each word in a string to uppercase. Assumes a string containing only [A-Za-z0-9], everything else is treated as whitespace.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="nc">STRING</span><span class="o">.</span><span class="n">like</span><span class="o">(</span><span class="nc">STRING</span><span class="o">)</span></code></pre></figure>

      </td>
      <td>
        <p>Returns true, if a string matches the specified LIKE pattern. E.g. "Jo_n%" matches all strings that start with "Jo(arbitrary letter)n".</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="nc">STRING</span><span class="o">.</span><span class="n">similar</span><span class="o">(</span><span class="nc">STRING</span><span class="o">)</span></code></pre></figure>

      </td>
      <td>
        <p>Returns true, if a string matches the specified SQL regex pattern. E.g. "A+" matches all strings that consist of at least one "A".</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="nc">STRING</span><span class="o">.</span><span class="n">position</span><span class="o">(</span><span class="nc">STRING</span><span class="o">)</span></code></pre></figure>

      </td>
      <td>
        <p>Returns the position of string in an other string starting at 1. Returns 0 if string could not be found. E.g. <code>"a".position("bbbbba")</code> leads to 6.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="nc">STRING</span><span class="o">.</span><span class="n">overlay</span><span class="o">(</span><span class="nc">STRING</span><span class="o">,</span> <span class="nc">INT</span><span class="o">)</span>
<span class="nc">STRING</span><span class="o">.</span><span class="n">overlay</span><span class="o">(</span><span class="nc">STRING</span><span class="o">,</span> <span class="nc">INT</span><span class="o">,</span> <span class="nc">INT</span><span class="o">)</span></code></pre></figure>

      </td>
      <td>
        <p>Replaces a substring of string with a string starting at a position (starting at 1). An optional length specifies how many characters should be removed. E.g. <code>"xxxxxtest".overlay("xxxx", 6)</code> leads to "xxxxxxxxx", <code>"xxxxxtest".overlay('xxxx', 6, 2)</code> leads to "xxxxxxxxxst".</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="nc">STRING</span><span class="o">.</span><span class="n">toDate</span></code></pre></figure>

      </td>
      <td>
        <p>Parses a date string in the form "yy-mm-dd" to a SQL date.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="nc">STRING</span><span class="o">.</span><span class="n">toTime</span></code></pre></figure>

      </td>
      <td>
        <p>Parses a time string in the form "hh:mm:ss" to a SQL time.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="nc">STRING</span><span class="o">.</span><span class="n">toTimestamp</span></code></pre></figure>

      </td>
      <td>
        <p>Parses a timestamp string in the form "yy-mm-dd hh:mm:ss.fff" to a SQL timestamp.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="nc">NUMERIC</span><span class="o">.</span><span class="n">year</span></code></pre></figure>

      </td>
      <td>
        <p>Creates an interval of months for a given number of years.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="nc">NUMERIC</span><span class="o">.</span><span class="n">month</span></code></pre></figure>

      </td>
      <td>
        <p>Creates an interval of months for a given number of months.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="nc">NUMERIC</span><span class="o">.</span><span class="n">day</span></code></pre></figure>

      </td>
      <td>
        <p>Creates an interval of milliseconds for a given number of days.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="nc">NUMERIC</span><span class="o">.</span><span class="n">hour</span></code></pre></figure>

      </td>
      <td>
        <p>Creates an interval of milliseconds for a given number of hours.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="nc">NUMERIC</span><span class="o">.</span><span class="n">minute</span></code></pre></figure>

      </td>
      <td>
        <p>Creates an interval of milliseconds for a given number of minutes.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="nc">NUMERIC</span><span class="o">.</span><span class="n">second</span></code></pre></figure>

      </td>
      <td>
        <p>Creates an interval of milliseconds for a given number of seconds.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="nc">NUMERIC</span><span class="o">.</span><span class="n">milli</span></code></pre></figure>

      </td>
      <td>
        <p>Creates an interval of milliseconds.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="nc">TEMPORAL</span><span class="o">.</span><span class="n">extract</span><span class="o">(</span><span class="nc">TimeIntervalUnit</span><span class="o">)</span></code></pre></figure>

      </td>
      <td>
        <p>Extracts parts of a time point or time interval. Returns the part as a long value. E.g. <code>"2006-06-05".toDate.extract(TimeIntervalUnit.DAY)</code> leads to 5.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="nc">DATE</span><span class="o">.</span><span class="n">quarter</span><span class="o">()</span></code></pre></figure>

      </td>
      <td>
        <p>Returns the quarter of a year from a SQL date. E.g. <code>"1994-09-27".toDate.quarter()</code> leads to 3.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="nc">TIMEPOINT</span><span class="o">.</span><span class="n">floor</span><span class="o">(</span><span class="nc">TimeIntervalUnit</span><span class="o">)</span></code></pre></figure>

      </td>
      <td>
        <p>Rounds a time point down to the given unit. E.g. <code>"12:44:31".toTime.floor(TimeIntervalUnit.MINUTE)</code> leads to 12:44:00.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="nc">TIMEPOINT</span><span class="o">.</span><span class="n">ceil</span><span class="o">(</span><span class="nc">TimeIntervalUnit</span><span class="o">)</span></code></pre></figure>

      </td>
      <td>
        <p>Rounds a time point up to the given unit. E.g. <code>"12:44:31".toTime.floor(TimeIntervalUnit.MINUTE)</code> leads to 12:45:00.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="n">currentDate</span><span class="o">()</span></code></pre></figure>

      </td>
      <td>
        <p>Returns the current SQL date in UTC time zone.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="n">currentTime</span><span class="o">()</span></code></pre></figure>

      </td>
      <td>
        <p>Returns the current SQL time in UTC time zone.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="n">currentTimestamp</span><span class="o">()</span></code></pre></figure>

      </td>
      <td>
        <p>Returns the current SQL timestamp in UTC time zone.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="n">localTime</span><span class="o">()</span></code></pre></figure>

      </td>
      <td>
        <p>Returns the current SQL time in local time zone.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="n">localTimestamp</span><span class="o">()</span></code></pre></figure>

      </td>
      <td>
        <p>Returns the current SQL timestamp in local time zone.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="n">temporalOverlaps</span><span class="o">(</span><span class="nc">TIMEPOINT</span><span class="o">,</span> <span class="nc">TEMPORAL</span><span class="o">,</span> <span class="nc">TIMEPOINT</span><span class="o">,</span> <span class="nc">TEMPORAL</span><span class="o">)</span></code></pre></figure>

      </td>
      <td>
        <p>Determines whether two anchored time intervals overlap. Time point and temporal are transformed into a range defined by two time points (start, end). The function evaluates <code>leftEnd &gt;= rightStart &amp;&amp; rightEnd &gt;= leftStart</code>. E.g. <code>temporalOverlaps('2:55:00'.toTime, 1.hour, '3:30:00'.toTime, 2.hours)</code> leads to true.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="nc">NUMERIC</span><span class="o">.</span><span class="n">rows</span></code></pre></figure>

      </td>
      <td>
        <p>Creates an interval of rows.</p>
      </td>
    </tr>

  </tbody>
</table>
  </div>

  <div data-lang="SQL">

    <!--
This list of SQL functions should be kept in sync with SqlExpressionTest to reduce confusion due to the large amount of SQL functions.
The documentation is split up and ordered like the tests in SqlExpressionTest.
-->

    <p>The Flink SQL functions (including their syntax) are a subset of Apache Calcite’s built-in functions. Most of the documentation has been adopted from the <a href="https://calcite.apache.org/docs/reference.html">Calcite SQL reference</a>.</p>

    <table class="table table-bordered">
  <thead>
    <tr>
      <th class="text-left" style="width: 40%">Comparison functions</th>
      <th class="text-center">Description</th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-text" data-lang="text">value1 = value2</code></pre></figure>

      </td>
      <td>
        <p>Equals.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-text" data-lang="text">value1 &lt;&gt; value2</code></pre></figure>

      </td>
      <td>
        <p>Not equal.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-text" data-lang="text">value1 &gt; value2</code></pre></figure>

      </td>
      <td>
        <p>Greater than.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-text" data-lang="text">value1 &gt;= value2</code></pre></figure>

      </td>
      <td>
        <p>Greater than or equal.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-text" data-lang="text">value1 &lt; value2</code></pre></figure>

      </td>
      <td>
        <p>Less than.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-text" data-lang="text">value1 &lt;= value2</code></pre></figure>

      </td>
      <td>
        <p>Less than or equal.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-text" data-lang="text">value IS NULL</code></pre></figure>

      </td>
      <td>
        <p>Whether <i>value</i> is null.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-text" data-lang="text">value IS NOT NULL</code></pre></figure>

      </td>
      <td>
        <p>Whether <i>value</i> is not null.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-text" data-lang="text">value1 IS DISTINCT FROM value2</code></pre></figure>

      </td>
      <td>
        <p>Whether two values are not equal, treating null values as the same.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-text" data-lang="text">value1 IS NOT DISTINCT FROM value2</code></pre></figure>

      </td>
      <td>
        <p>Whether two values are equal, treating null values as the same.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-text" data-lang="text">value1 BETWEEN [ASYMMETRIC | SYMMETRIC] value2 AND value3</code></pre></figure>

      </td>
      <td>
        <p>Whether <i>value1</i> is greater than or equal to <i>value2</i> and less than or equal to <i>value3</i>.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-text" data-lang="text">value1 NOT BETWEEN value2 AND value3</code></pre></figure>

      </td>
      <td>
        <p>Whether <i>value1</i> is less than <i>value2</i> or greater than <i>value3</i>.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-text" data-lang="text">string1 LIKE string2</code></pre></figure>

      </td>
      <td>
        <p>Whether <i>string1</i> matches pattern <i>string2</i>.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-text" data-lang="text">string1 NOT LIKE string2</code></pre></figure>

      </td>
      <td>
        <p>Whether <i>string1</i> does not match pattern <i>string2</i>.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-text" data-lang="text">string1 SIMILAR TO string2</code></pre></figure>

      </td>
      <td>
        <p>Whether <i>string1</i> matches regular expression <i>string2</i>.</p>
      </td>
    </tr>


    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-text" data-lang="text">string1 NOT SIMILAR TO string2</code></pre></figure>

      </td>
      <td>
        <p>Whether <i>string1</i> does not match regular expression <i>string2</i>.</p>
      </td>
    </tr>


    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-text" data-lang="text">value IN (value [, value]* )</code></pre></figure>

      </td>
      <td>
        <p>Whether <i>value</i> is equal to a value in a list.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-text" data-lang="text">value NOT IN (value [, value]* )</code></pre></figure>

      </td>
      <td>
        <p>Whether <i>value</i> is not equal to every value in a list.</p>
      </td>
    </tr>
<!-- NOT SUPPORTED SO FAR
    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-text" data-lang="text">value IN (sub-query)</code></pre></figure>

      </td>
      <td>
        <p>Whether <i>value</i> is equal to a row returned by sub-query.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-text" data-lang="text">value NOT IN (sub-query)</code></pre></figure>

      </td>
      <td>
        <p>Whether <i>value</i> is not equal to every row returned by sub-query.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-text" data-lang="text">EXISTS (sub-query)</code></pre></figure>

      </td>
      <td>
        <p>Whether sub-query returns at least one row.</p>
      </td>
    </tr>-->

  </tbody>
</table>

    <table class="table table-bordered">
  <thead>
    <tr>
      <th class="text-left" style="width: 40%">Logical functions</th>
      <th class="text-center">Description</th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-text" data-lang="text">boolean1 OR boolean2</code></pre></figure>

      </td>
      <td>
        <p>Whether <i>boolean1</i> is TRUE or <i>boolean2</i> is TRUE.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-text" data-lang="text">boolean1 AND boolean2</code></pre></figure>

      </td>
      <td>
        <p>Whether <i>boolean1</i> and <i>boolean2</i> are both TRUE.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-text" data-lang="text">NOT boolean</code></pre></figure>

      </td>
      <td>
        <p>Whether <i>boolean</i> is not TRUE; returns UNKNOWN if <i>boolean</i> is UNKNOWN.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-text" data-lang="text">boolean IS FALSE</code></pre></figure>

      </td>
      <td>
        <p>Whether <i>boolean</i> is FALSE; returns FALSE if <i>boolean</i> is UNKNOWN.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-text" data-lang="text">boolean IS NOT FALSE</code></pre></figure>

      </td>
      <td>
        <p>Whether <i>boolean</i> is not FALSE; returns TRUE if <i>boolean</i> is UNKNOWN.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-text" data-lang="text">boolean IS TRUE</code></pre></figure>

      </td>
      <td>
        <p>Whether <i>boolean</i> is TRUE; returns FALSE if <i>boolean</i> is UNKNOWN.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-text" data-lang="text">boolean IS NOT TRUE</code></pre></figure>

      </td>
      <td>
        <p>Whether <i>boolean</i> is not TRUE; returns TRUE if <i>boolean</i> is UNKNOWN.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-text" data-lang="text">boolean IS UNKNOWN</code></pre></figure>

      </td>
      <td>
        <p>Whether <i>boolean</i> is UNKNOWN.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-text" data-lang="text">boolean IS NOT UNKNOWN</code></pre></figure>

      </td>
      <td>
        <p>Whether <i>boolean</i> is not UNKNOWN.</p>
      </td>
    </tr>

  </tbody>
</table>

    <table class="table table-bordered">
  <thead>
    <tr>
      <th class="text-left" style="width: 40%">Arithmetic functions</th>
      <th class="text-center">Description</th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-text" data-lang="text">+ numeric</code></pre></figure>

      </td>
      <td>
        <p>Returns <i>numeric</i>.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-text" data-lang="text">- numeric</code></pre></figure>

      </td>
      <td>
        <p>Returns negative <i>numeric</i>.</p>
      </td>
    </tr>
    
    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-text" data-lang="text">numeric1 + numeric2</code></pre></figure>

      </td>
      <td>
        <p>Returns <i>numeric1</i> plus <i>numeric2</i>.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-text" data-lang="text">numeric1 - numeric2</code></pre></figure>

      </td>
      <td>
        <p>Returns <i>numeric1</i> minus <i>numeric2</i>.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-text" data-lang="text">numeric1 * numeric2</code></pre></figure>

      </td>
      <td>
        <p>Returns <i>numeric1</i> multiplied by <i>numeric2</i>.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-text" data-lang="text">numeric1 / numeric2</code></pre></figure>

      </td>
      <td>
        <p>Returns <i>numeric1</i> divided by <i>numeric2</i>.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-text" data-lang="text">POWER(numeric1, numeric2)</code></pre></figure>

      </td>
      <td>
        <p>Returns <i>numeric1</i> raised to the power of <i>numeric2</i>.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-text" data-lang="text">ABS(numeric)</code></pre></figure>

      </td>
      <td>
        <p>Returns the absolute value of <i>numeric</i>.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-text" data-lang="text">MOD(numeric1, numeric2)</code></pre></figure>

      </td>
      <td>
        <p>Returns the remainder (modulus) of <i>numeric1</i> divided by <i>numeric2</i>. The result is negative only if <i>numeric1</i> is negative.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-text" data-lang="text">SQRT(numeric)</code></pre></figure>

      </td>
      <td>
        <p>Returns the square root of <i>numeric</i>.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-text" data-lang="text">LN(numeric)</code></pre></figure>

      </td>
      <td>
        <p>Returns the natural logarithm (base e) of <i>numeric</i>.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-text" data-lang="text">LOG10(numeric)</code></pre></figure>

      </td>
      <td>
        <p>Returns the base 10 logarithm of <i>numeric</i>.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-text" data-lang="text">EXP(numeric)</code></pre></figure>

      </td>
      <td>
        <p>Returns e raised to the power of <i>numeric</i>.</p>
      </td>
    </tr>   

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-text" data-lang="text">CEIL(numeric)</code></pre></figure>

      </td>
      <td>
        <p>Rounds <i>numeric</i> up, and returns the smallest number that is greater than or equal to <i>numeric</i>.</p>
      </td>
    </tr>  

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-text" data-lang="text">FLOOR(numeric)</code></pre></figure>

      </td>
      <td>
        <p>Rounds <i>numeric</i> down, and returns the largest number that is less than or equal to <i>numeric</i>.</p>
      </td>
    </tr>

  </tbody>
</table>

    <table class="table table-bordered">
  <thead>
    <tr>
      <th class="text-left" style="width: 40%">String functions</th>
      <th class="text-center">Description</th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-text" data-lang="text">string || string</code></pre></figure>

      </td>
      <td>
        <p>Concatenates two character strings.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-text" data-lang="text">CHAR_LENGTH(string)</code></pre></figure>

      </td>
      <td>
        <p>Returns the number of characters in a character string.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-text" data-lang="text">CHARACTER_LENGTH(string)</code></pre></figure>

      </td>
      <td>
        <p>As CHAR_LENGTH(<i>string</i>).</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-text" data-lang="text">UPPER(string)</code></pre></figure>

      </td>
      <td>
        <p>Returns a character string converted to upper case.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-text" data-lang="text">LOWER(string)</code></pre></figure>

      </td>
      <td>
        <p>Returns a character string converted to lower case.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-text" data-lang="text">POSITION(string1 IN string2)</code></pre></figure>

      </td>
      <td>
        <p>Returns the position of the first occurrence of <i>string1</i> in <i>string2</i>.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-text" data-lang="text">TRIM( { BOTH | LEADING | TRAILING } string1 FROM string2)</code></pre></figure>

      </td>
      <td>
        <p>Removes leading and/or trailing characters from <i>string2</i>. By default, whitespaces at both sides are removed.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-text" data-lang="text">OVERLAY(string1 PLACING string2 FROM integer [ FOR integer2 ])</code></pre></figure>

      </td>
      <td>
        <p>Replaces a substring of <i>string1</i> with <i>string2</i>.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-text" data-lang="text">SUBSTRING(string FROM integer)</code></pre></figure>

      </td>
      <td>
        <p>Returns a substring of a character string starting at a given point.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-text" data-lang="text">SUBSTRING(string FROM integer FOR integer)</code></pre></figure>

      </td>
      <td>
        <p>Returns a substring of a character string starting at a given point with a given length.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-text" data-lang="text">INITCAP(string)</code></pre></figure>

      </td>
      <td>
        <p>Returns string with the first letter of each word converter to upper case and the rest to lower case. Words are sequences of alphanumeric characters separated by non-alphanumeric characters.</p>
      </td>
    </tr>

  </tbody>
</table>

    <table class="table table-bordered">
  <thead>
    <tr>
      <th class="text-left" style="width: 40%">Conditional functions</th>
      <th class="text-center">Description</th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-text" data-lang="text">CASE value
WHEN value1 [, value11 ]* THEN result1
[ WHEN valueN [, valueN1 ]* THEN resultN ]*
[ ELSE resultZ ]
END</code></pre></figure>

      </td>
      <td>
        <p>Simple case.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-text" data-lang="text">CASE
WHEN condition1 THEN result1
[ WHEN conditionN THEN resultN ]*
[ ELSE resultZ ]
END</code></pre></figure>

      </td>
      <td>
        <p>Searched case.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-text" data-lang="text">NULLIF(value, value)</code></pre></figure>

      </td>
      <td>
        <p>Returns NULL if the values are the same. For example, <code>NULLIF(5, 5)</code> returns NULL; <code>NULLIF(5, 0)</code> returns 5.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-text" data-lang="text">COALESCE(value, value [, value ]* )</code></pre></figure>

      </td>
      <td>
        <p>Provides a value if the first value is null. For example, <code>COALESCE(NULL, 5)</code> returns 5.</p>
      </td>
    </tr>

  </tbody>
</table>

    <table class="table table-bordered">
  <thead>
    <tr>
      <th class="text-left" style="width: 40%">Type conversion functions</th>
      <th class="text-center">Description</th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-text" data-lang="text">CAST(value AS type)</code></pre></figure>

      </td>
      <td>
        <p>Converts a value to a given type.</p>
      </td>
    </tr>
  </tbody>
</table>

    <table class="table table-bordered">
  <thead>
    <tr>
      <th class="text-left" style="width: 40%">Value constructor functions</th>
      <th class="text-center">Description</th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-text" data-lang="text">ROW (value [, value]* )</code></pre></figure>

      </td>
      <td>
        <p>Creates a row from a list of values.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-text" data-lang="text">(value [, value]* )</code></pre></figure>

      </td>
      <td>
        <p>Creates a row from a list of values.</p>
      </td>
    </tr>
  </tbody>
</table>

    <table class="table table-bordered">
  <thead>
    <tr>
      <th class="text-left" style="width: 40%">Temporal functions</th>
      <th class="text-center">Description</th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-text" data-lang="text">DATE string</code></pre></figure>

      </td>
      <td>
        <p>Parses a date string in the form "yy-mm-dd" to a SQL date.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-text" data-lang="text">TIME string</code></pre></figure>

      </td>
      <td>
        <p>Parses a time <i>string</i> in the form "hh:mm:ss" to a SQL time.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-text" data-lang="text">TIMESTAMP string</code></pre></figure>

      </td>
      <td>
        <p>Parses a timestamp <i>string</i> in the form "yy-mm-dd hh:mm:ss.fff" to a SQL timestamp.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-text" data-lang="text">INTERVAL string range</code></pre></figure>

      </td>
      <td>
        <p>Parses an interval <i>string</i> in the form "dd hh:mm:ss.fff" for SQL intervals of milliseconds or "yyyy-mm" for SQL intervals of months. An interval range might be e.g. <code>DAY</code>, <code>MINUTE</code>, <code>DAY TO HOUR</code>, or <code>DAY TO SECOND</code> for intervals of milliseconds; <code>YEAR</code> or <code>YEAR TO MONTH</code> for intervals of months. E.g. <code>INTERVAL '10 00:00:00.004' DAY TO SECOND</code>, <code>INTERVAL '10' DAY</code>, or <code>INTERVAL '2-10' YEAR TO MONTH</code> return intervals.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-text" data-lang="text">CURRENT_DATE</code></pre></figure>

      </td>
      <td>
        <p>Returns the current SQL date in UTC time zone.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-text" data-lang="text">CURRENT_TIME</code></pre></figure>

      </td>
      <td>
        <p>Returns the current SQL time in UTC time zone.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-text" data-lang="text">CURRENT_TIMESTAMP</code></pre></figure>

      </td>
      <td>
        <p>Returns the current SQL timestamp in UTC time zone.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-text" data-lang="text">LOCALTIME</code></pre></figure>

      </td>
      <td>
        <p>Returns the current SQL time in local time zone.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-text" data-lang="text">LOCALTIMESTAMP</code></pre></figure>

      </td>
      <td>
        <p>Returns the current SQL timestamp in local time zone.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-text" data-lang="text">EXTRACT(timeintervalunit FROM temporal)</code></pre></figure>

      </td>
      <td>
        <p>Extracts parts of a time point or time interval. Returns the part as a long value. E.g. <code>EXTRACT(DAY FROM DATE '2006-06-05')</code> leads to 5.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-text" data-lang="text">FLOOR(timepoint TO timeintervalunit)</code></pre></figure>

      </td>
      <td>
        <p>Rounds a time point down to the given unit. E.g. <code>FLOOR(TIME '12:44:31' TO MINUTE)</code> leads to 12:44:00.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-text" data-lang="text">CEIL(timepoint TO timeintervalunit)</code></pre></figure>

      </td>
      <td>
        <p>Rounds a time point up to the given unit. E.g. <code>CEIL(TIME '12:44:31' TO MINUTE)</code> leads to 12:45:00.</p>
      </td>
    </tr>
  </tbody>
</table>

    <table class="table table-bordered">
  <thead>
    <tr>
      <th class="text-left" style="width: 40%">Aggregate functions</th>
      <th class="text-center">Description</th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-text" data-lang="text">COUNT(value [, value]* )</code></pre></figure>

      </td>
      <td>
        <p>Returns the number of input rows for which <i>value</i> is not null.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-text" data-lang="text">COUNT(*)</code></pre></figure>

      </td>
      <td>
        <p>Returns the number of input rows.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-text" data-lang="text">AVG(numeric)</code></pre></figure>

      </td>
      <td>
        <p>Returns the average (arithmetic mean) of <i>numeric</i> across all input values.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-text" data-lang="text">SUM(numeric)</code></pre></figure>

      </td>
      <td>
        <p>Returns the sum of <i>numeric</i> across all input values.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-text" data-lang="text">MAX(value)</code></pre></figure>

      </td>
      <td>
        <p>Returns the maximum value of <i>value</i> across all input values.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-text" data-lang="text">MIN(value)</code></pre></figure>

      </td>
      <td>
        <p>Returns the minimum value of <i>value</i> across all input values.</p>
      </td>
    </tr>
  </tbody>
</table>

  </div>
</div>

<h3 id="user-defined-scalar-functions">User-defined Scalar Functions</h3>

<p>If a required scalar function is not contained in the built-in functions, it is possible to define custom, user-defined scalar functions for both the Table API and SQL. A user-defined scalar functions maps zero, one, or multiple scalar values to a new scalar value.</p>

<p>In order to define a scalar function one has to extend the base class <code>ScalarFunction</code> in <code>org.apache.flink.api.table.functions</code> and implement (one or more) evaluation methods. The behavior of a scalar function is determined by the evaluation method. An evaluation method must be declared publicly and named <code>eval</code>. The parameter types and return type of the evaluation method also determine the parameter and return types of the scalar function. Evaluation methods can also be overloaded by implementing multiple methods named <code>eval</code>.</p>

<p>The following example snippet shows how to define your own hash code function:</p>

<div class="codetabs">
  <div data-lang="java">

    <figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kd">static</span> <span class="kd">class</span> <span class="nc">HashCode</span> <span class="kd">extends</span> <span class="n">ScalarFunction</span> <span class="o">{</span>
  <span class="kd">public</span> <span class="kt">int</span> <span class="nf">eval</span><span class="o">(</span><span class="n">String</span> <span class="n">s</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">return</span> <span class="n">s</span><span class="o">.</span><span class="na">hashCode</span><span class="o">()</span> <span class="o">*</span> <span class="mi">12</span><span class="o">;</span>
  <span class="o">}</span>
<span class="o">}</span>

<span class="n">BatchTableEnvironment</span> <span class="n">tableEnv</span> <span class="o">=</span> <span class="n">TableEnvironment</span><span class="o">.</span><span class="na">getTableEnvironment</span><span class="o">(</span><span class="n">env</span><span class="o">);</span>

<span class="c1">// register the function</span>
<span class="n">tableEnv</span><span class="o">.</span><span class="na">registerFunction</span><span class="o">(</span><span class="s">&quot;hashCode&quot;</span><span class="o">,</span> <span class="k">new</span> <span class="nf">HashCode</span><span class="o">())</span>

<span class="c1">// use the function in Java Table API</span>
<span class="n">myTable</span><span class="o">.</span><span class="na">select</span><span class="o">(</span><span class="s">&quot;string, string.hashCode(), hashCode(string)&quot;</span><span class="o">);</span>

<span class="c1">// use the function in SQL API</span>
<span class="n">tableEnv</span><span class="o">.</span><span class="na">sql</span><span class="o">(</span><span class="s">&quot;SELECT string, HASHCODE(string) FROM MyTable&quot;</span><span class="o">);</span></code></pre></figure>

  </div>

  <div data-lang="scala">

    <figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="c1">// must be defined in static/object context</span>
<span class="k">object</span> <span class="nc">hashCode</span> <span class="k">extends</span> <span class="nc">ScalarFunction</span> <span class="o">{</span>
  <span class="k">def</span> <span class="n">eval</span><span class="o">(</span><span class="n">s</span><span class="k">:</span> <span class="kt">String</span><span class="o">)</span><span class="k">:</span> <span class="kt">Int</span> <span class="o">=</span> <span class="o">{</span>
    <span class="n">s</span><span class="o">.</span><span class="n">hashCode</span><span class="o">()</span> <span class="o">*</span> <span class="mi">12</span>
  <span class="o">}</span>
<span class="o">}</span>

<span class="k">val</span> <span class="n">tableEnv</span> <span class="k">=</span> <span class="nc">TableEnvironment</span><span class="o">.</span><span class="n">getTableEnvironment</span><span class="o">(</span><span class="n">env</span><span class="o">)</span>

<span class="c1">// use the function in Scala Table API</span>
<span class="n">myTable</span><span class="o">.</span><span class="n">select</span><span class="o">(</span><span class="-Symbol">&#39;string</span><span class="o">,</span> <span class="n">hashCode</span><span class="o">(</span><span class="-Symbol">&#39;string</span><span class="o">))</span>

<span class="c1">// register and use the function in SQL</span>
<span class="n">tableEnv</span><span class="o">.</span><span class="n">registerFunction</span><span class="o">(</span><span class="s">&quot;hashCode&quot;</span><span class="o">,</span> <span class="n">hashCode</span><span class="o">)</span>
<span class="n">tableEnv</span><span class="o">.</span><span class="n">sql</span><span class="o">(</span><span class="s">&quot;SELECT string, HASHCODE(string) FROM MyTable&quot;</span><span class="o">);</span></code></pre></figure>

  </div>
</div>

<p>By default the result type of an evaluation method is determined by Flink’s type extraction facilities. This is sufficient for basic types or simple POJOs but might be wrong for more complex, custom, or composite types. In these cases <code>TypeInformation</code> of the result type can be manually defined by overriding <code>ScalarFunction#getResultType()</code>.</p>

<p>Internally, the Table API and SQL code generation works with primitive values as much as possible. If a user-defined scalar function should not introduce much overhead through object creation/casting during runtime, it is recommended to declare parameters and result types as primitive types instead of their boxed classes. <code>Types.DATE</code> and <code>Types.TIME</code> can also be represented as <code>int</code>. <code>Types.TIMESTAMP</code> can be represented as <code>long</code>.</p>

<p>The following example shows an advanced example which takes the internal timestamp representation and also returns the internal timestamp representation as a long value. By overriding <code>ScalarFunction#getResultType()</code> we define that the returned long value should be interpreted as a <code>Types.TIMESTAMP</code> by the code generation.</p>

<div class="codetabs">
  <div data-lang="java">

    <figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kd">static</span> <span class="kd">class</span> <span class="nc">TimestampModifier</span> <span class="kd">extends</span> <span class="n">ScalarFunction</span> <span class="o">{</span>
  <span class="kd">public</span> <span class="kt">long</span> <span class="nf">eval</span><span class="o">(</span><span class="kt">long</span> <span class="n">t</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">return</span> <span class="n">t</span> <span class="o">%</span> <span class="mi">1000</span><span class="o">;</span>
  <span class="o">}</span>

  <span class="kd">public</span> <span class="n">TypeInformation</span><span class="o">&lt;?&gt;</span> <span class="n">getResultType</span><span class="o">(</span><span class="nl">signature:</span> <span class="n">Class</span><span class="o">&lt;?&gt;[])</span> <span class="o">{</span>
    <span class="k">return</span> <span class="n">Types</span><span class="o">.</span><span class="na">TIMESTAMP</span><span class="o">;</span>
  <span class="o">}</span>
<span class="o">}</span></code></pre></figure>

  </div>

  <div data-lang="scala">

    <figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="k">object</span> <span class="nc">TimestampModifier</span> <span class="k">extends</span> <span class="nc">ScalarFunction</span> <span class="o">{</span>
  <span class="k">def</span> <span class="n">eval</span><span class="o">(</span><span class="n">t</span><span class="k">:</span> <span class="kt">Long</span><span class="o">)</span><span class="k">:</span> <span class="kt">Long</span> <span class="o">=</span> <span class="o">{</span>
    <span class="n">t</span> <span class="o">%</span> <span class="mi">1000</span>
  <span class="o">}</span>

  <span class="k">override</span> <span class="k">def</span> <span class="n">getResultType</span><span class="o">(</span><span class="n">signature</span><span class="k">:</span> <span class="kt">Array</span><span class="o">[</span><span class="kt">Class</span><span class="o">[</span><span class="k">_</span><span class="o">]])</span><span class="k">:</span> <span class="kt">TypeInformation</span><span class="o">[</span><span class="k">_</span><span class="o">]</span> <span class="k">=</span> <span class="o">{</span>
    <span class="nc">Types</span><span class="o">.</span><span class="nc">TIMESTAMP</span>
  <span class="o">}</span>
<span class="o">}</span></code></pre></figure>

  </div>
</div>

<h3 id="limitations-3">Limitations</h3>

<p>The following operations are not supported yet:</p>

<ul>
  <li>Binary string operators and functions</li>
  <li>System functions</li>
  <li>Collection functions</li>
  <li>Aggregate functions like STDDEV_xxx, VAR_xxx, and REGR_xxx</li>
  <li>Distinct aggregate functions like COUNT DISTINCT</li>
  <li>Window functions</li>
  <li>Grouping functions</li>
</ul>

<p><a href="#top" class="top pull-right"><span class="glyphicon glyphicon-chevron-up"></span> Back to top</a></p>

<h2 id="writing-tables-to-external-sinks">Writing Tables to External Sinks</h2>

<p>A <code>Table</code> can be written to a <code>TableSink</code>, which is a generic interface to support a wide variety of file formats (e.g. CSV, Apache Parquet, Apache Avro), storage systems (e.g., JDBC, Apache HBase, Apache Cassandra, Elasticsearch), or messaging systems (e.g., Apache Kafka, RabbitMQ). A batch <code>Table</code> can only be written to a <code>BatchTableSink</code>, a streaming table requires a <code>StreamTableSink</code>. A <code>TableSink</code> can implement both interfaces at the same time.</p>

<p>Currently, Flink only provides a <code>CsvTableSink</code> that writes a batch or streaming <code>Table</code> to CSV-formatted files. A custom <code>TableSink</code> can be defined by implementing the <code>BatchTableSink</code> and/or <code>StreamTableSink</code> interface.</p>

<div class="codetabs">
  <div data-lang="java">

    <figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">ExecutionEnvironment</span> <span class="n">env</span> <span class="o">=</span> <span class="n">ExecutionEnvironment</span><span class="o">.</span><span class="na">getExecutionEnvironment</span><span class="o">();</span>
<span class="n">BatchTableEnvironment</span> <span class="n">tableEnv</span> <span class="o">=</span> <span class="n">TableEnvironment</span><span class="o">.</span><span class="na">getTableEnvironment</span><span class="o">(</span><span class="n">env</span><span class="o">);</span>

<span class="c1">// compute the result Table using Table API operators and/or SQL queries</span>
<span class="n">Table</span> <span class="n">result</span> <span class="o">=</span> <span class="o">...</span>

<span class="c1">// create a TableSink</span>
<span class="n">TableSink</span> <span class="n">sink</span> <span class="o">=</span> <span class="k">new</span> <span class="nf">CsvTableSink</span><span class="o">(</span><span class="s">&quot;/path/to/file&quot;</span><span class="o">,</span> <span class="n">fieldDelim</span> <span class="o">=</span> <span class="s">&quot;|&quot;</span><span class="o">);</span>
<span class="c1">// write the result Table to the TableSink</span>
<span class="n">result</span><span class="o">.</span><span class="na">writeToSink</span><span class="o">(</span><span class="n">sink</span><span class="o">);</span>

<span class="c1">// execute the program</span>
<span class="n">env</span><span class="o">.</span><span class="na">execute</span><span class="o">();</span></code></pre></figure>

  </div>

  <div data-lang="scala">

    <figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="k">val</span> <span class="n">env</span> <span class="k">=</span> <span class="nc">ExecutionEnvironment</span><span class="o">.</span><span class="n">getExecutionEnvironment</span>
<span class="k">val</span> <span class="n">tableEnv</span> <span class="k">=</span> <span class="nc">TableEnvironment</span><span class="o">.</span><span class="n">getTableEnvironment</span><span class="o">(</span><span class="n">env</span><span class="o">)</span>

<span class="c1">// compute the result Table using Table API operators and/or SQL queries</span>
<span class="k">val</span> <span class="n">result</span><span class="k">:</span> <span class="kt">Table</span> <span class="o">=</span> <span class="o">...</span>

<span class="c1">// create a TableSink</span>
<span class="k">val</span> <span class="n">sink</span><span class="k">:</span> <span class="kt">TableSink</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">CsvTableSink</span><span class="o">(</span><span class="s">&quot;/path/to/file&quot;</span><span class="o">,</span> <span class="n">fieldDelim</span> <span class="k">=</span> <span class="s">&quot;|&quot;</span><span class="o">)</span>
<span class="c1">// write the result Table to the TableSink</span>
<span class="n">result</span><span class="o">.</span><span class="n">writeToSink</span><span class="o">(</span><span class="n">sink</span><span class="o">)</span>

<span class="c1">// execute the program</span>
<span class="n">env</span><span class="o">.</span><span class="n">execute</span><span class="o">()</span></code></pre></figure>

  </div>
</div>

<p><a href="#top" class="top pull-right"><span class="glyphicon glyphicon-chevron-up"></span> Back to top</a></p>

<h2 id="runtime-configuration">Runtime Configuration</h2>
<p>The Table API provides a configuration (the so-called <code>TableConfig</code>) to modify runtime behavior. It can be accessed through the <code>TableEnvironment</code>.</p>

<h3 id="null-handling">Null Handling</h3>
<p>By default, the Table API supports <code>null</code> values. Null handling can be disabled to improve preformance by setting the <code>nullCheck</code> property in the <code>TableConfig</code> to <code>false</code>.</p>

<p><a href="#top" class="top pull-right"><span class="glyphicon glyphicon-chevron-up"></span> Back to top</a></p>

<h2 id="explaining-a-table">Explaining a Table</h2>
<p>The Table API provides a mechanism to describe the graph of operations that leads to the resulting output. This is done through the <code>TableEnvironment#explain(table)</code> method. It returns a string describing two graphs: the Abstract Syntax Tree of the relational algebra query and Flink’s Execution Plan of the Job.</p>

<p>Table <code>explain</code> is supported for both <code>BatchTableEnvironment</code> and <code>StreamTableEnvironment</code>. Currently <code>StreamTableEnvironment</code> doesn’t support the explanation of the Execution Plan.</p>

<p>The following code shows an example and the corresponding output:</p>

<div class="codetabs">
  <div data-lang="java">

    <figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">StreamExecutionEnvironment</span> <span class="n">env</span> <span class="o">=</span> <span class="n">StreamExecutionEnvironment</span><span class="o">.</span><span class="na">getExecutionEnvironment</span><span class="o">();</span>
<span class="n">StreamTableEnvironment</span> <span class="n">tEnv</span> <span class="o">=</span> <span class="n">TableEnvironment</span><span class="o">.</span><span class="na">getTableEnvironment</span><span class="o">(</span><span class="n">env</span><span class="o">);</span>

<span class="n">DataStream</span><span class="o">&lt;</span><span class="n">Tuple2</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">,</span> <span class="n">String</span><span class="o">&gt;&gt;</span> <span class="n">stream1</span> <span class="o">=</span> <span class="n">env</span><span class="o">.</span><span class="na">fromElements</span><span class="o">(</span><span class="k">new</span> <span class="n">Tuple2</span><span class="o">&lt;&gt;(</span><span class="mi">1</span><span class="o">,</span> <span class="s">&quot;hello&quot;</span><span class="o">));</span>
<span class="n">DataStream</span><span class="o">&lt;</span><span class="n">Tuple2</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">,</span> <span class="n">String</span><span class="o">&gt;&gt;</span> <span class="n">stream2</span> <span class="o">=</span> <span class="n">env</span><span class="o">.</span><span class="na">fromElements</span><span class="o">(</span><span class="k">new</span> <span class="n">Tuple2</span><span class="o">&lt;&gt;(</span><span class="mi">1</span><span class="o">,</span> <span class="s">&quot;hello&quot;</span><span class="o">));</span>

<span class="n">Table</span> <span class="n">table1</span> <span class="o">=</span> <span class="n">tEnv</span><span class="o">.</span><span class="na">fromDataStream</span><span class="o">(</span><span class="n">stream1</span><span class="o">,</span> <span class="s">&quot;count, word&quot;</span><span class="o">);</span>
<span class="n">Table</span> <span class="n">table2</span> <span class="o">=</span> <span class="n">tEnv</span><span class="o">.</span><span class="na">fromDataStream</span><span class="o">(</span><span class="n">stream2</span><span class="o">,</span> <span class="s">&quot;count, word&quot;</span><span class="o">);</span>
<span class="n">Table</span> <span class="n">table</span> <span class="o">=</span> <span class="n">table1</span><span class="o">.</span><span class="na">unionAll</span><span class="o">(</span><span class="n">table2</span><span class="o">);</span>

<span class="n">String</span> <span class="n">explanation</span> <span class="o">=</span> <span class="n">tEnv</span><span class="o">.</span><span class="na">explain</span><span class="o">(</span><span class="n">table</span><span class="o">);</span>
<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">explanation</span><span class="o">);</span></code></pre></figure>

  </div>

  <div data-lang="scala">

    <figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="k">val</span> <span class="n">env</span> <span class="k">=</span> <span class="nc">StreamExecutionEnvironment</span><span class="o">.</span><span class="n">getExecutionEnvironment</span>
<span class="k">val</span> <span class="n">tEnv</span> <span class="k">=</span> <span class="nc">TableEnvironment</span><span class="o">.</span><span class="n">getTableEnvironment</span><span class="o">(</span><span class="n">env</span><span class="o">)</span>

<span class="k">val</span> <span class="n">table1</span> <span class="k">=</span> <span class="n">env</span><span class="o">.</span><span class="n">fromElements</span><span class="o">((</span><span class="mi">1</span><span class="o">,</span> <span class="s">&quot;hello&quot;</span><span class="o">)).</span><span class="n">toTable</span><span class="o">(</span><span class="n">tEnv</span><span class="o">,</span> <span class="-Symbol">&#39;count</span><span class="o">,</span> <span class="-Symbol">&#39;word</span><span class="o">)</span>
<span class="k">val</span> <span class="n">table2</span> <span class="k">=</span> <span class="n">env</span><span class="o">.</span><span class="n">fromElements</span><span class="o">((</span><span class="mi">1</span><span class="o">,</span> <span class="s">&quot;hello&quot;</span><span class="o">)).</span><span class="n">toTable</span><span class="o">(</span><span class="n">tEnv</span><span class="o">,</span> <span class="-Symbol">&#39;count</span><span class="o">,</span> <span class="-Symbol">&#39;word</span><span class="o">)</span>
<span class="k">val</span> <span class="n">table</span> <span class="k">=</span> <span class="n">table1</span><span class="o">.</span><span class="n">unionAll</span><span class="o">(</span><span class="n">table2</span><span class="o">)</span>

<span class="k">val</span> <span class="n">explanation</span><span class="k">:</span> <span class="kt">String</span> <span class="o">=</span> <span class="n">tEnv</span><span class="o">.</span><span class="n">explain</span><span class="o">(</span><span class="n">table</span><span class="o">)</span>
<span class="n">println</span><span class="o">(</span><span class="n">explanation</span><span class="o">)</span></code></pre></figure>

  </div>
</div>

<figure class="highlight"><pre><code class="language-text" data-lang="text">== Abstract Syntax Tree ==
LogicalUnion(all=[true])
  LogicalTableScan(table=[[_DataStreamTable_0]])
  LogicalTableScan(table=[[_DataStreamTable_1]])</code></pre></figure>

<p><a href="#top" class="top pull-right"><span class="glyphicon glyphicon-chevron-up"></span> Back to top</a></p>



        </div>
      </div>
    </div><!-- /.container -->

    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/3.1.0/anchor.min.js"></script>
    <script src="https://alpinegizmo.github.io/flink-docs//page/js/flink.js"></script>

    <!-- Google Analytics -->
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-52545728-1', 'auto');
      ga('send', 'pageview');
    </script>

    <!-- Disqus -->
    
  </body>
</html>
